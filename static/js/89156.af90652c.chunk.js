"use strict";(self.webpackChunkdemoapp2p=self.webpackChunkdemoapp2p||[]).push([[89156],{89156:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(29439),a=n(72791),s=n(49010),i=n(33039),r=n(66226),c=n(35302),l=n(60461),u=n(34117),p={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},m=function(e){var t=e.getTime()-Date.now();Math.abs(t)<6e4&&(t=0);var n=Object.keys(p).find((function(e){return Math.abs(t)>=p[e]}))||"second";return new Intl.RelativeTimeFormat(window.config&&window.config.locale?window.config.locale.replace("_","-"):"en",{style:"long",numeric:"auto"}).format(Math.round(t/p[n]),n)},d=n(75613),f=n(80184);function k(){var e=(0,a.useState)([]),t=(0,o.Z)(e,2),n=t[0],p=t[1],k=(0,a.useState)(!1),y=(0,o.Z)(k,2)[1];(0,a.useEffect)((function(){(0,s.rQ)("feed","filterFor=DATA-PORTAL%20$DemoReact&feedClass=@baseclass&filterBy=&pageSize=9&olderThan=").then((function(e){null!==e.data&&e.data.FeedList&&e.data.FeedList.pxResults&&p(e.data.FeedList.pxResults),y(!0)})).catch((function(e){console.log(e)}))}),[]);var C=function(e){return e.pxResults&&e.pxResults.length>0?e.pxResults.map((function(e){return(0,f.jsx)(r.ZP,{id:e.pzInsKey,content:e.pyMessage,info:{fullname:e.postedByUser.name,fullnameLabel:e.postedByUser.name,username:e.postedByUser.ID,avatarSrc:(0,s.$k)("operatorimage",e.postedByUser.userImage),content:e.pyMessage,timeElapsed:m(new Date(e.pxCreateDateTime))},interactionInfo:{likeLabel:"Like",likeCount:e.pyLikes.pxLikeCount,commentLabel:"Comment"},onLikeClick:function(){},onCommentClick:function(){}},e.pzInsKey)})):null};return(0,f.jsx)(c.Z,{searchTypes:["user","case"],userInfo:{username:(0,d.N9)(),fullname:(0,d.N9)(),avatarSrc:(0,s.$k)("operatorimage",(0,d.ew)())},newPostRegion:(0,f.jsx)(l.ZP,{id:"newpost",interactionInfo:{textAreaPlaceholder:"Start a conversation",postLabel:"Post"},onFilesAdded:function(){},onPost:function(){}}),posts:n.map((function(e){return(0,f.jsx)(u.ZP,{id:e.pzInsKey,info:{fullname:e.postedByUser.name,username:e.postedByUser.ID,avatarSrc:(0,s.$k)("operatorimage",e.postedByUser.userImage),content:e.pyMessage,postContext:(t=e,"case"===t.pxContextType?(0,f.jsx)(i.ZP,{href:"/case/".concat(t.pyContext.split(" ")[1]),previewable:!0,target:"_blank",children:t.pyContextDescription}):t.pyContextDescription),timeElapsed:m(new Date(e.pyFeed.pyPostedOn))},interactionInfo:{likeLabel:"Like",likeCount:e.pyLikes.pxLikeCount,commentLabel:"Comment"},replies:C(e),attachments:[],maxContentHeight:80,onLikeClick:function(){},onUserClick:function(){},actions:[{text:"Bookmark",id:"Bookmark",onClick:function(){}}],replyInput:{commentLabel:"Send Comment",attachments:[],onFilesAdded:function(){},onSubmit:function(){},placeholder:"Add a comment"}},e.pzInsKey);var t}))})}}}]);
//# sourceMappingURL=89156.af90652c.chunk.js.map