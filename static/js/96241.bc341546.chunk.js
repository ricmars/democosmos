/*! For license information please see 96241.bc341546.chunk.js.LICENSE.txt */
(self.webpackChunkdemocosmos=self.webpackChunkdemocosmos||[]).push([[96241,67865,13225,8368,85899,37151,61296,86203,53323,32970,97373,85903],{67865:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="chain",u=function(){return(0,r.jsx)("path",{d:"M6.735 12.046h11.53c.328 0 .468.13.468.432 0 .303-.14.476-.468.476H6.735c-.328 0-.47-.173-.47-.476 0-.302.142-.432.47-.432Zm16.311-3.545H15.36c-.422 0-.75.13-.984.389-.281.26-.422.562-.422.951v1.34h.938v-1.34c0-.302.14-.432.468-.432h7.687c.329 0 .516.13.516.432v5.318c0 .303-.187.433-.516.433H15.36c-.328 0-.468-.13-.468-.433v-1.34h-.938v1.34c0 .39.14.692.422.952.234.26.563.389.984.389h7.687c.423 0 .75-.13 1.032-.39.281-.259.422-.561.422-.95V9.84c0-.389-.14-.691-.422-.951-.281-.26-.61-.39-1.032-.39ZM10.11 13.819v1.34c0 .302-.14.432-.468.432H1.954c-.329 0-.516-.13-.516-.432V9.84c0-.303.187-.433.516-.433H9.64c.328 0 .468.13.468.433v1.34h.938V9.84c0-.39-.14-.692-.375-.952-.281-.26-.61-.389-1.031-.389H1.954c-.423 0-.75.13-1.032.39A1.222 1.222 0 0 0 .5 9.84v5.319c0 .389.14.691.422.951.281.26.61.39 1.032.39H9.64c.422 0 .75-.13 1.031-.39.234-.26.375-.562.375-.951v-1.34h-.938Z"})},a="0 0 25 25"},13225:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="chat",u=function(){return(0,r.jsx)("path",{d:"M23.046 1.5H1.954a1.86 1.86 0 0 0-1.032.42C.641 2.2.5 2.526.5 2.945v15.288c0 .42.14.746.422 1.025.281.28.61.42 1.032.42h12.14c.14 0 .233.046.28.093l4.735 3.496c.234.14.422.233.61.233a.821.821 0 0 0 .656-.326.918.918 0 0 0 .281-.653V19.68h2.39c.423 0 .75-.14 1.032-.42.281-.28.422-.606.422-1.026V2.946c0-.42-.14-.746-.422-1.026a1.872 1.872 0 0 0-1.032-.42Zm.516 1.445v15.287c0 .326-.188.466-.516.466h-2.671a.603.603 0 0 0-.469.186.665.665 0 0 0-.187.466v3.17l-4.735-3.542c-.234-.187-.515-.28-.89-.28H1.953c-.328 0-.516-.14-.516-.466V2.945c0-.327.188-.466.516-.466h21.092c.328 0 .516.14.516.466Z"})},a="0 0 25 25"},8368:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="filter-on",u=function(){return(0,r.jsx)("path",{d:"M10.81 19.603h1.904c.667 0 1 .324 1 .925 0 .648-.333.972-1 .972H10.81c-.667 0-1-.324-1-.972 0-.601.333-.925 1-.925Zm-3.905-4.72h9.714c.667 0 1 .324 1 .925 0 .648-.333.972-1 .972H6.905c-.667 0-1-.324-1-.972 0-.601.333-.925 1-.925Zm-2.048-4.72h10.429c.571 0 .856.323.856.971 0 .602-.285.926-.856.926H4.857c-.619 0-.905-.324-.905-.926 0-.648.286-.971.905-.971Zm8.857-3.795c0 .601-.286.925-.81.925H2.81c-.524 0-.81-.323-.81-.925 0-.648.286-.972.81-.972h10.095c.523 0 .81.324.81.972ZM23 6.83c0 .88-.333 1.666-1 2.314-.714.648-1.524.971-2.428.971-.952 0-1.762-.323-2.428-.971-.667-.648-1-1.434-1-2.314 0-.925.333-1.712 1-2.36.666-.647 1.476-.971 2.428-.971.905 0 1.714.324 2.428.972.667.647 1 1.434 1 2.36Z"})},a="0 0 25 25"},85899:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="indent",u=function(){return(0,r.jsx)("path",{d:"M1 2.527C1 2.19 1.191 2 1.527 2h22.557c.336 0 .48.191.48.527 0 .335-.144.478-.48.478H1.527C1.19 3.005 1 2.862 1 2.527Zm.527 5.364h10.775c.335 0 .48-.144.48-.48 0-.334-.145-.478-.48-.478H1.527c-.336 0-.527.144-.527.479 0 .335.191.479.527.479Zm0 4.933h10.775c.335 0 .48-.191.48-.526s-.145-.48-.48-.48H1.527c-.336 0-.527.145-.527.48 0 .335.191.526.527.526Zm0 4.885h10.775c.335 0 .48-.144.48-.48 0-.334-.145-.478-.48-.478H1.527c-.336 0-.527.144-.527.479 0 .335.191.479.527.479Zm22.557 3.927H1.527c-.336 0-.527.144-.527.479 0 .335.191.526.527.526h22.557c.336 0 .48-.191.48-.526s-.144-.48-.48-.48Zm.336-9.674L21.498 9.04a.542.542 0 0 0-.382-.144c-.336 0-.48.144-.48.479 0 .144.048.239.144.335l2.107 2.107h-7.135c-.336 0-.527.144-.527.479 0 .335.191.526.527.526h7.135L20.78 14.93a.434.434 0 0 0-.143.336c0 .335.143.479.479.479a.54.54 0 0 0 .382-.144l2.922-2.921a.542.542 0 0 0 .143-.383.434.434 0 0 0-.143-.335Z"})},a="0 0 25 25"},37151:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="paper-clip",u=function(){return(0,r.jsx)("path",{d:"M19.894 12.325c.138 0 .23.043.322.131a.39.39 0 0 1 .138.308.39.39 0 0 1-.138.307l-7.325 6.98c-1.06.966-2.303 1.449-3.685 1.449-1.382 0-2.626-.483-3.686-1.449C4.507 19.085 4 17.944 4 16.583c0-1.317.507-2.502 1.52-3.512l9.03-8.518c.737-.702 1.613-1.053 2.672-1.053 1.06 0 1.935.35 2.673 1.053.737.66 1.105 1.493 1.105 2.503s-.368 1.844-1.105 2.546l-8.34 7.903a2.32 2.32 0 0 1-1.658.658 2.591 2.591 0 0 1-1.704-.658c-.461-.44-.692-.967-.692-1.581s.23-1.142.692-1.58l8.016-7.595a.536.536 0 0 1 .368-.132c.139 0 .23.043.323.132a.39.39 0 0 1 .138.307.483.483 0 0 1-.138.35l-8.017 7.552a1.26 1.26 0 0 0-.414.966c0 .395.138.703.414.966a1.39 1.39 0 0 0 1.014.395c.368 0 .692-.131.967-.395l8.385-7.902a2.588 2.588 0 0 0 .829-1.932c0-.746-.277-1.36-.829-1.887-.599-.527-1.29-.79-2.027-.79-.783 0-1.428.263-1.98.79l-9.03 8.56c-.83.747-1.244 1.669-1.244 2.855 0 1.141.415 2.063 1.244 2.81.829.789 1.842 1.184 2.994 1.184 1.244 0 2.212-.395 2.995-1.185l7.371-6.937a.427.427 0 0 1 .323-.131h-.001Z"})},a="0 0 25 25"},61296:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="picture",u=function(){return(0,r.jsx)("path",{d:"M22.052 1.5H2.948c-.42 0-.747.14-1.027.42-.28.281-.421.608-.421 1.028v19.104c0 .42.14.747.42 1.027.281.28.608.421 1.028.421h19.104c.42 0 .747-.14 1.027-.42.28-.281.421-.608.421-1.028V2.948c0-.42-.14-.747-.42-1.027a1.377 1.377 0 0 0-1.028-.421Zm.514 18.17v2.38c0 .328-.187.468-.514.468H2.95c-.327 0-.513-.14-.513-.467v-2.382h20.13Zm0-4.11v3.176H2.436v-1.728l5.277-4.81 5.418 5.417c.094.094.187.14.327.14.327 0 .467-.14.467-.467 0-.186-.046-.28-.14-.327l-2.756-2.802 5.278-4.81 6.259 6.211Zm0-12.612v11.257L16.68 8.32a.529.529 0 0 0-.373-.14c-.14 0-.234.046-.28.14l-5.653 5.185-2.335-2.29c-.046-.093-.186-.14-.327-.14-.093 0-.186.047-.327.094l-4.95 4.53V2.95c0-.327.186-.514.513-.514h19.103c.327 0 .514.187.514.513ZM8.133 5.891a1.871 1.871 0 0 0-1.355-.56c-.514 0-.98.186-1.354.56-.374.373-.561.84-.561 1.355 0 .514.187.98.56 1.354.374.374.841.561 1.355.561.515 0 .981-.187 1.355-.56.373-.374.56-.841.56-1.355 0-.515-.186-.981-.56-1.355ZM6.778 8.18a.953.953 0 0 1-.7-.28.92.92 0 0 1-.28-.654c0-.28.093-.514.28-.701a.949.949 0 0 1 .7-.28.92.92 0 0 1 .654.28c.187.186.28.42.28.7a.923.923 0 0 1-.28.654.923.923 0 0 1-.654.28Z"})},a="0 0 25 25"},86203:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="send",u=function(){return(0,r.jsx)("path",{d:"m1.5 2.5 22 10-22 10 2.849-9.954L1.5 2.5Zm1.495 1.706L5.177 12H16v1H5.201l-2.206 7.795L21.21 12.5 2.995 4.206Z"})},a="0 0 25 25"},53323:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="table",u=function(){return(0,r.jsx)("path",{d:"M21 1.5v19H1v-19h20Zm-1 13.75h-5.5v4.25H20v-4.25Zm-12.5 0H2v4.25h5.5v-4.25Zm6.25 0h-5.5v4.25h5.5v-4.25Zm6.25-5h-5.5v4.25H20v-4.25Zm-12.5 0H2v4.25h5.5v-4.25Zm6.25 0h-5.5v4.25h5.5v-4.25Zm6.25-5h-5.5V9.5H20V5.25Zm-12.5 0H2V9.5h5.5V5.25Zm6.25 0h-5.5V9.5h5.5V5.25Z"})},a="0 0 22 22"},32970:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="thumbs-up-solid",u=function(){return(0,r.jsx)("path",{d:"M21.585 8.386h-.234c-.14.047-.186.047-.233.047-.747.187-1.635.373-2.616.514-1.027.14-1.868.28-2.475.327l-.934.14h-.187a.952.952 0 0 1-.7-.28.921.921 0 0 1-.281-.655V3.01c0-.514-.187-.981-.561-1.402-.42-.421-.888-.608-1.401-.608h-.047c-.513 0-.934.14-1.307.467a2.16 2.16 0 0 0-.701 1.216c-.28 1.543-.794 3.085-1.495 4.628-.747 1.59-1.541 2.618-2.335 3.085-.233-.514-.654-.748-1.215-.748H2.948c-.42 0-.747.14-1.027.421-.28.28-.421.608-.421.982v11.5c0 .42.14.747.42 1.028.281.28.608.421 1.028.421h1.915c.42 0 .748-.14 1.028-.42a1.55 1.55 0 0 0 .373-1.03v-.935l2.896 1.403h10.277c.653 0 1.26-.187 1.774-.608.514-.42.888-.935 1.028-1.59.794-3.365 1.168-6.824 1.215-10.377l.046-.094c0-.514-.187-.981-.56-1.402a1.87 1.87 0 0 0-1.355-.561ZM5.329 11.051v4.861l-.046 5.236h.046v1.402c0 .327-.14.468-.467.468H2.948c-.327 0-.514-.14-.514-.468v-11.5c0-.326.187-.467.514-.467h1.914c.327 0 .467.14.467.468Z"})},a="0 0 25 25"},97373:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="thumbs-up",u=function(){return(0,r.jsx)("path",{d:"M21.585 8.401c-.187 0-.327 0-.421.047l-6.072.983h-.187a.922.922 0 0 1-.653-.28.927.927 0 0 1-.28-.657v-5.48c0-.562-.187-1.03-.561-1.452C12.99 1.188 12.523 1 11.963 1c-.514 0-.934.14-1.308.468-.373.328-.607.703-.7 1.172a22.868 22.868 0 0 1-1.542 4.684c-.747 1.592-1.495 2.623-2.289 3.045-.28-.515-.7-.75-1.26-.75H2.947c-.42 0-.747.14-1.027.422a1.38 1.38 0 0 0-.421 1.03v11.524c0 .422.14.75.42.983.281.281.608.422 1.028.422h1.915c.42 0 .748-.14 1.028-.422.28-.234.42-.562.42-.983v-.984l2.85 1.452h10.322c.654 0 1.261-.187 1.775-.609.513-.422.887-.937 1.027-1.592.701-3.186 1.121-6.652 1.215-10.4v-.14a1.88 1.88 0 0 0-.56-1.358 1.867 1.867 0 0 0-1.355-.563ZM5.33 11.071v11.523c0 .328-.14.468-.467.468H2.948c-.326 0-.467-.14-.467-.468V11.071c0-.328.14-.468.467-.468h1.915c.327 0 .467.14.467.468Zm15.928 9.884.093-.328a2.4 2.4 0 0 1-.7 1.078 1.792 1.792 0 0 1-1.169.421H9.394L6.31 20.581v-9.229c1.075-.468 2.056-1.592 2.85-3.372.794-1.733 1.4-3.466 1.728-5.152.093-.609.467-.89 1.074-.89.28 0 .514.094.748.281.186.235.28.468.28.796v5.434c0 .515.187.983.56 1.358.375.376.841.563 1.355.563h.327c2.616-.328 4.67-.656 6.166-.984h.094l.093-.046c.233 0 .467.094.701.328.187.187.28.421.28.655v.047c-.093 3.747-.513 7.26-1.307 10.586h-.001Z"})},a="0 0 25 25"},85903:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u},name:function(){return i},set:function(){return o},viewBox:function(){return a}});var r=n(80184),o="budicon",i="unindent",u=function(){return(0,r.jsx)("path",{d:"M1 2.527C1 2.19 1.191 2 1.527 2h22.557c.336 0 .48.191.48.527 0 .335-.144.478-.48.478H1.527C1.19 3.005 1 2.862 1 2.527Zm23.084 4.406H13.261c-.335 0-.479.144-.479.479 0 .335.144.479.479.479h10.823c.336 0 .48-.144.48-.48 0-.334-.144-.478-.48-.478Zm0 4.885H13.261c-.335 0-.479.144-.479.479 0 .335.144.526.479.526h10.823c.336 0 .48-.191.48-.526s-.144-.479-.48-.479Zm0 4.933H13.261c-.335 0-.479.144-.479.479 0 .335.144.479.479.479h10.823c.336 0 .48-.144.48-.48 0-.334-.144-.478-.48-.478Zm0 4.885H1.527c-.336 0-.527.144-.527.479 0 .335.191.526.527.526h22.557c.336 0 .48-.191.48-.526s-.144-.48-.48-.48ZM1.144 12.68l2.97 2.922a.434.434 0 0 0 .334.143c.336 0 .527-.143.527-.479 0-.096-.048-.191-.191-.335l-2.107-2.107H9.86c.335 0 .48-.191.48-.526s-.145-.48-.48-.48H2.677l2.107-2.106a.434.434 0 0 0 .143-.335c0-.336-.143-.48-.479-.48a.434.434 0 0 0-.335.144l-2.97 2.921c-.095.192-.143.288-.143.336 0 .047.048.191.144.382Z"})},a="0 0 25 25"},81424:function(e,t,n){"use strict";var r=n(93433);t.Z=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.count,u=void 0===i?e.length:i,a=o.separator,s=e.length?u-e.length:0,c=s>0?[].concat((0,r.Z)(e),[t("more_count",[s],{count:s})]):e;return a||!("ListFormat"in Intl)?c.join(null!==a&&void 0!==a?a:", "):new Intl.ListFormat(n,{style:"long"}).format(c)}},71756:function(e,t,n){"use strict";n.d(t,{M:function(){return o},P:function(){return i}});var r=n(72791),o=(0,r.createContext)({searchTypes:[],userInfo:{username:"",fullname:""},announce:function(){return-1}}),i=(0,r.createContext)({})},73139:function(e,t,n){"use strict";n.d(t,{Z:function(){return ne}});var r,o,i,u=n(1413),a=n(29439),s=n(44925),c=n(30168),l=n(80184),d=n(72791),f=n(16444),p=n(94342),v=n(21750),h=n(36862),m=n(58268),D=n(85051),g=n(9972),C=n(99217),B=n(16196),b=n(41865),y=n(12616),E=n(37260),x=n(14472),w=n(41878),A=n(66010),F=n(38637),Z=n(44896),k=n(96041),P=n(87517),j=["id","label","disabled","on","onChange"];(0,p.q5)(k);var O=f.ZP.label((function(e){var t=e.theme,n=t.base,o=t.components.switch,i=o.width,u=o.height,a=o["touch-width"],s=o["touch-height"],l=o.off;return(0,f.iv)(r||(r=(0,c.Z)(["\n      position: relative;\n      cursor: pointer;\n      padding-inline-end: calc("," + 0.5rem);\n      height: ",";\n      width: 100%;\n\n      @media (pointer: coarse) {\n        padding-inline-end: calc("," + 0.5rem);\n        height: ",";\n      }\n\n      /** Checkmark */\n      & > "," {\n        position: absolute;\n        inset-inline-end: calc(0.5 * "," + 0.25rem);\n        height: calc(0.5 * ",");\n        width: calc(0.5 * ",");\n\n        @media (pointer: coarse) {\n          inset-inline-end: calc(0.5 * "," + 0.25rem);\n          height: calc(0.5 * ",");\n          width: calc(0.5 * ",");\n        }\n      }\n\n      /** Track */\n      &::before {\n        position: absolute;\n        content: '';\n        inset-inline-end: 0;\n        width: ",";\n        height: ",";\n        background-color: ",";\n        transition: background-color calc(0.5 * ",")\n          ",";\n        border-radius: calc(9999 * ",");\n\n        @media (pointer: coarse) {\n          width: ",";\n          height: ",";\n        }\n      }\n\n      /** Switch */\n      &::after {\n        position: absolute;\n        content: '';\n        inset-inline-end: calc("," - "," + 0.0625rem);\n        height: calc("," - 0.125rem);\n        width: calc("," - 0.125rem);\n        background-color: ",";\n        transition: transform calc(0.5 * ",") ",";\n        border-radius: calc(9999 * ",");\n\n        @media (pointer: coarse) {\n          inset-inline-end: calc("," - "," + 0.0625rem);\n          height: calc("," - 0.125rem);\n          width: calc("," - 0.125rem);\n        }\n      }\n    "])),i,u,a,s,p.xL,i,u,u,a,s,s,i,u,l.color,n.animation.speed,n.animation.timing.ease,n["border-radius"],a,s,i,u,u,u,n.palette["primary-background"],n.animation.speed,n.animation.timing.ease,n["border-radius"],a,s,s,s)}));O.defaultProps=h.ns;var S=f.ZP.input((function(e){var t=e.theme,n=t.base,r=t.components,i=r["form-control"][":focus"]["box-shadow"],u=r.switch,a=u.height,s=u.width,l=u["touch-height"],d=u["touch-width"],v=u.on,h=u.off,m=(0,F.Z)().ltr,D=(0,P.Z)((function(){return(0,A.XV)(v.color)})),g=(0,Z.B)(v.color),C=(0,Z.B)(h.color);return(0,f.iv)(o||(o=(0,c.Z)(["\n      ","\n\n      & + "," {\n        min-height: ",";\n        @media (pointer: coarse) {\n          min-height: ",";\n        }\n      }\n\n      & + "," > "," {\n        color: ",";\n      }\n\n      &:checked + ","::before {\n        background-color: ",";\n      }\n\n      &:checked + ","::after {\n        transform: translateX(calc(("," - ",") * ","));\n\n        @media (pointer: coarse) {\n          transform: translateX(calc(("," - ",") * ","));\n        }\n      }\n\n      &:hover + "," > "," {\n        color: ",";\n      }\n\n      &:hover:checked + ","::before {\n        background-color: ",";\n      }\n\n      &:hover + ","::before {\n        background-color: ",";\n      }\n\n      &:focus + ","::before {\n        box-shadow: ",";\n      }\n\n      &:disabled + "," {\n        opacity: ",";\n      }\n    "])),A.G0,O,n["hit-area"]["mouse-min"],n["hit-area"]["finger-min"],O,p.xL,D,O,v.color,O,s,a,m?"1":"-1",d,l,m?"1":"-1",O,p.xL,g.foreground,O,g.background,O,C.background,O,i,O,n["disabled-opacity"])}));S.defaultProps=h.ns;var T,R,M,N,L=f.ZP.div(i||(i=(0,c.Z)([""]))),I=(0,d.forwardRef)((function(e,t){var n=(0,g.Z)(),r=e.id,o=void 0===r?n:r,i=e.label,a=e.disabled,c=void 0!==a&&a,d=e.on,f=void 0!==d&&d,v=e.onChange,h=(0,s.Z)(e,j);return(0,l.jsxs)(L,{children:[(0,l.jsx)(S,(0,u.Z)((0,u.Z)({},h),{},{id:o,type:"checkbox",role:"switch",checked:f,"aria-checked":f,disabled:c,onChange:v,ref:t})),(0,l.jsxs)(w.Z,{container:{alignItems:"center"},as:O,htmlFor:o,children:[i,f&&(0,l.jsx)(p.ZP,{name:"check"})]})]})})),_=n(39116),W=n(91062),V=n(80068),z=n(75903),H=n(10446),q=n(23730),U=n(37492),K=n(8368),J=n(71756),$=n(43405),X=n(14570),Y=["loadingPosts","variant","children","userInfo","className","title","searchTypes","onDecoratorSearch","searchResults","onMentionClick","onMentionPreview","onTagClick","mentionContent","interactionRenderers","markdownMap","filters","onFilterChange","onLoadMore","newPostRegion","posts"];(0,p.q5)(U,K);var G=f.ZP.div(T||(T=(0,c.Z)(["\n  ",":not("," "," > ",") {\n    padding-bottom: 0.25rem;\n  }\n"])),b.R,v.r,v.r,b.R);G.defaultProps=h.ns;var Q=f.ZP.div((function(e){var t=e.theme;return(0,f.iv)(R||(R=(0,c.Z)(["\n    fieldset {\n      padding-block-end: calc(2 * ",");\n      border: none;\n      max-height: inherit;\n\n      legend {\n        padding-block-start: calc(2 * ",");\n        padding-inline: calc(2 * ",");\n      }\n    }\n  "])),t.base.spacing,t.base.spacing,t.base.spacing)}));Q.defaultProps=h.ns;var ee=f.ZP.ul((function(e){var t=e.theme;return(0,f.iv)(M||(M=(0,c.Z)(["\n    list-style-type: none;\n    min-width: ",";\n    padding-inline: calc(2 * ",");\n    overflow: auto;\n  "])),t.base["content-width"].xs,t.base.spacing)}));ee.defaultProps=h.ns;var te=f.ZP.div((function(e){var t=e.theme;return(0,f.iv)(N||(N=(0,c.Z)(["\n    margin-top: ",";\n    min-height: 2rem;\n    min-width: 2rem;\n  "])),t.base.spacing)}));te.defaultProps=h.ns;var ne=(0,d.forwardRef)((function(e,t){var n=e.loadingPosts,r=void 0!==n&&n,o=(e.variant,e.children,e.userInfo),i=(e.className,e.title),c=e.searchTypes,f=e.onDecoratorSearch,h=e.searchResults,A=void 0===h?[]:h,F=e.onMentionClick,Z=e.onMentionPreview,k=e.onTagClick,P=(e.mentionContent,e.interactionRenderers),j=void 0===P?[]:P,O=e.markdownMap,S=e.filters,T=e.onFilterChange,R=e.onLoadMore,M=e.newPostRegion,N=e.posts,L=void 0===N?[]:N,U=(0,s.Z)(e,Y),K=(0,V.Z)(),ne=(0,z.Z)(),re=(0,a.Z)(ne,2),oe=re[0],ie=re[1],ue=(0,z.Z)(),ae=(0,a.Z)(ue,2),se=ae[0],ce=ae[1],le=(0,d.useState)(!1),de=(0,a.Z)(le,2),fe=de[0],pe=de[1],ve=(0,d.useState)(!1),he=(0,a.Z)(ve,2),me=he[0],De=he[1],ge=(0,m.Z)(L),Ce=(0,d.useState)(""),Be=(0,a.Z)(Ce,2),be=Be[0],ye=Be[1],Ee=(0,D.Z)(t),xe=(0,d.useRef)(null);(0,H.Z)(xe),(0,q.Z)("mousedown",[oe,se],(function(){pe(!1)})),(0,q.Z)("focusin",[oe],(function(){pe(!1)}));var we=function(e){"Escape"===e.key&&pe(!1)};(0,d.useEffect)((function(){return document.addEventListener("keydown",we),function(){document.removeEventListener("keydown",we)}}),[]);var Ae=(0,g.Z)();(0,C.Z)({current:null},L.length-1,(function(){null===R||void 0===R||R()}),"#".concat(Ae," > article[role='none']"));var Fe=(0,d.useCallback)((function(e){return ye(""),setTimeout((function(){ye(e)}),0)}),[]);return(0,d.useEffect)((function(){if(r){var e=Fe(K("loading_post"));return function(){return clearTimeout(e)}}}),[r]),(0,d.useEffect)((function(){if(ge){var e=L.length-ge.length;return e<0?Fe(K("feed_post_removed")):e>0&&Fe(K("feed_new_post_added",[e],{count:e})),function(){return clearTimeout(undefined)}}}),[L]),(0,d.useEffect)((function(){fe&&setTimeout((function(){var e;null===(e=(0,B.Z)(xe)[0])||void 0===e||e.focus()}),0)}),[fe]),(0,l.jsx)(J.M.Provider,{value:{searchTypes:c,onSearch:function(e){f&&f(e)},searchResults:A,showSearchResults:me,setShowSearchResults:De,onMentionClick:F,onMentionPreview:Z,onTagClick:k,interactionRenderers:j,markdownMap:O,userInfo:o,announce:Fe,feedRef:Ee},children:(0,l.jsxs)(G,(0,u.Z)((0,u.Z)({ref:Ee},U),{},{children:[(0,l.jsx)(X.Z,{children:be}),(0,l.jsxs)(v.Z,{children:[(0,l.jsxs)(b.Z,{children:[(0,l.jsx)(y.Z,{variant:"h2",children:i}),S&&S.length>0&&(0,l.jsx)(E.ZP,{as:$.Z,ref:ce,variant:"simple",icon:!0,onClick:function(){return pe((function(e){return!e}))},label:"".concat(i," ").concat(K("filters").toLowerCase()),emphasized:!0,children:(0,l.jsx)(p.ZP,{name:null!==S&&void 0!==S&&S.map((function(e){return!!e.on})).reduce((function(e,t){return e||t}))?"filter-on":"filter"})}),(0,l.jsx)(x.Z,{show:!!S&&fe,ref:ie,target:se,as:Q,hideOnTargetHidden:!0,onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),null===se||void 0===se||se.focus())},children:(0,l.jsxs)(w.Z,{container:{direction:"column",gap:2},as:"fieldset",children:[(0,l.jsx)(y.Z,{variant:"h3",as:"legend",children:K("filters")}),(0,l.jsx)(ee,{ref:xe,children:null===S||void 0===S?void 0:S.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(I,(0,u.Z)((0,u.Z)({},e),{},{onChange:function(e){return null===T||void 0===T?void 0:T(e.target.id,e.target.checked)}}))},e.id)}))})]})})]}),(0,l.jsx)(_.Z,{children:M})]}),(0,l.jsx)("div",{id:Ae,children:L}),r&&(0,l.jsx)(w.Z,{container:{justify:"center"},as:te,children:(0,l.jsx)(W.Z,{placement:"inline"})})]}))})}))},14570:function(e,t,n){"use strict";var r,o=n(30168),i=n(80184),u=n(66010),a=n(16444).ZP.span(r||(r=(0,o.Z)(["\n  ","\n"])),u.G0);t.Z=function(e){var t=e.children;return(0,i.jsx)(a,{"aria-live":"polite",children:t})}},32809:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Q}});var r,o,i,u=n(1413),a=n(44925),s=n(30168),c=n(80184),l=n(72791),d=n(16444),f=n(36862),p=n(80068),v=n(58268),h=JSON.parse('{"7z":"application/x-7z-compressed","asf":"video/x-ms-asf","avi":"video/x-msvideo","bmp":"image/x-ms-bmp","csv":"text/csv","doc":"application/msword","docm":"application/vnd.ms-word.document.macroEnabled.12","docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","dot":"application/msword","dotm":"application/vnd.ms-word.template.macroEnabled.12","dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template","eml":"message/rfc822","flac":"audio/flac","flv":"video/x-flv","gif":"image/gif","htm":"text/html","html":"text/html","ics":"text/calendar","jpe":"image/jpeg","jpeg":"image/jpeg","jpg":"image/jpeg","m4a":"audio/mpeg","mdb":"application/msaccess","mp2":"audio/mpeg","mp3":"audio/mpeg","mp4":"video/mp4","mpe":"video/mpeg","mpeg":"video/mpeg","mpega":"audio/mpeg","mpg":"video/mpeg","mpga":"audio/mpeg","mkv":"video/x-matroska","odb":"application/vnd.oasis.opendocument.database","odc":"application/vnd.oasis.opendocument.chart","odf":"application/vnd.oasis.opendocument.formula","odg":"application/vnd.oasis.opendocument.graphics","odi":"application/vnd.oasis.opendocument.image","odm":"application/vnd.oasis.opendocument.text-master","odp":"application/vnd.oasis.opendocument.presentation","ods":"application/vnd.oasis.opendocument.spreadsheet","odt":"application/vnd.oasis.opendocument.text","oga":"audio/ogg","ogg":"audio/ogg","ogv":"video/ogg","ogx":"application/ogg","otg":"application/vnd.oasis.opendocument.graphics-template","oth":"application/vnd.oasis.opendocument.text-web","otp":"application/vnd.oasis.opendocument.presentation-template","ots":"application/vnd.oasis.opendocument.spreadsheet-template","ott":"application/vnd.oasis.opendocument.text-template","pcx":"image/pcx","pdf":"application/pdf","png":"image/png","pot":"application/vnd.ms-powerpoint.template","potm":"application/vnd.ms-powerpoint.template.macroEnabled.12","potx":"application/vnd.openxmlformats-officedocument.presentationml.template","ppam":"application/vnd.ms-powerpoint.addin.macroEnabled.12","ppm":"image/x-portable-pixmap","pps":"application/vnd.ms-powerpoint","ppsm":"application/vnd.ms-powerpoint.slideshow.macroEnabled.12","ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppt":"application/vnd.ms-powerpoint","pptm":"application/vnd.ms-powerpoint.presentation.macroEnabled.12","pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation","qt":"video/quicktime","mov":"video/quicktime","rar":"application/rar","rtf":"application/rtf","rtx":"text/richtext","sda":"application/vnd.stardivision.draw","sdc":"application/vnd.stardivision.calc","sdd":"application/vnd.stardivision.impress","sds":"application/vnd.stardivision.chart","sdw":"application/vnd.stardivision.writer","sgl":"application/vnd.stardivision.writer-global","shtml":"text/html","sldm":"application/vnd.ms-powerpoint.slide.macroEnabled.12","sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide","spx":"audio/ogg","stc":"application/vnd.sun.xml.calc.template","std":"application/vnd.sun.xml.draw.template","sti":"application/vnd.sun.xml.impress.template","stw":"application/vnd.sun.xml.writer.template","svg":"image/svg+xml","svgz":"image/svg+xml","swf":"application/x-shockwave-flash","swfl":"application/x-shockwave-flash","sxc":"application/vnd.sun.xml.calc","sxd":"application/vnd.sun.xml.draw","sxg":"application/vnd.sun.xml.writer.global","sxi":"application/vnd.sun.xml.impress","sxm":"application/vnd.sun.xml.math","sxw":"application/vnd.sun.xml.writer","text":"text/plain","tiff":"image/tiff","tif":"image/tiff","tsv":"text/tab-separated-values","txt":"text/plain","vcf":"text/x-vcard","vcs":"text/x-vcalendar","wav":"audio/x-wav","webm":"video/webm","wm":"video/x-ms-wm","wma":"audio/x-ms-wma","wmv":"video/x-ms-wmv","wp5":"application/vnd.wordperfect5.1","wpd":"application/vnd.wordperfect","xbm":"image/x-xbitmap","xcf":"application/x-xcf","xht":"application/xhtml+xml","xhtml":"application/xhtml+xml","xlam":"application/vnd.ms-excel.addin.macroEnabled.12","xls":"application/vnd.ms-excel","xlsb":"application/vnd.ms-excel.sheet.binary.macroEnabled.12","xlsm":"application/vnd.ms-excel.sheet.macroEnabled.12","xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlt":"application/vnd.ms-excel","xltm":"application/vnd.ms-excel.template.macroEnabled.12","xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template","xml":"application/xml","zip":"application/zip"}'),m=function(e){var t,n=null!==(t=e.split(".").pop())&&void 0!==t?t:e;return h[n.toLowerCase()]},D=function(e){var t="generic";return e.startsWith("video/")&&(t="video"),e.startsWith("audio/")&&(t="audio"),e.startsWith("image/")&&(t="image"),e.startsWith("text/")&&(t="text"),e.startsWith("message/")&&(t="message"),e.endsWith("/pdf")&&(t="pdf"),e.match(/powerpoint|presentation|impress/)&&(t="presentation"),e.match(/excel|spreadsheet|calc/)&&(t="spreadsheet"),e.match(/word|writer|text/)&&(t="document"),e.match(/access|database/)&&(t="database"),e.match(/zip|rar|7z/)&&(t="archive"),t},g=n(41878),C=n(78933),B=n(2461),b=n(29439),y=n(37260),E=n(94342),x=n(39254),w=n(54716),A=n(53004),F=n(60305),Z=n(91062),k=n(12616),P=n(95075),j=["type","thumbnail","onThumbnailError"],O={generic:{iconName:"paper-clip",backgroundColor:"slate.dark"},video:{iconName:"play-solid",backgroundColor:"slate.dark"},audio:{iconName:"speaker-on-solid",backgroundColor:"slate.dark"},document:{iconName:"filetype-text",backgroundColor:"blue.medium"},message:{iconName:"mail-solid",backgroundColor:"blue.dark"},pdf:{text:"PDF",backgroundColor:"red.medium"},spreadsheet:{iconName:"grid-solid",backgroundColor:"green.medium"},presentation:{iconName:"slideshow-solid",backgroundColor:"orange.medium"},link:{iconName:"chain",backgroundColor:"purple.dark"},archive:{iconName:"archive-solid",backgroundColor:"slate.dark"},database:{iconName:"disc-stack-solid",backgroundColor:"slate.dark"},image:{iconName:"picture-solid",backgroundColor:"slate.dark"},text:{iconName:"filetype-text",backgroundColor:"slate.dark"}},S=d.ZP.div(r||(r=(0,s.Z)([""]))),T=(0,d.ZP)(S)((function(e){var t=e.theme;return(0,d.iv)(o||(o=(0,s.Z)(["\n    background-color: var(--bg);\n    color: ",";\n    height: ",";\n    width: ",";\n    border-radius: calc(0.25 * ",");\n    font-size: calc(0.7 * ",");\n    font-weight: ",";\n    user-select: none;\n    -webkit-user-select: none;\n  "])),t.base.palette.light,t.components.input.height,t.components.input.height,t.base["border-radius"],t.base["font-size"],t.base["font-weight"]["semi-bold"])}));T.defaultProps=f.ns;var R=(0,d.ZP)(S)((function(e){var t=e.theme;return(0,d.iv)(i||(i=(0,s.Z)(["\n    background-color: ",";\n    height: 100%;\n    width: 100%;\n\n    "," {\n      margin: auto;\n      height: unset;\n      width: unset;\n      max-height: 100%;\n      max-width: 100%;\n    }\n  "])),t.base.palette["app-background"],C.Y)}));R.defaultProps=f.ns;var M,N,L=(0,l.forwardRef)((function(e,t){var n=e.type,r=e.thumbnail,o=e.onThumbnailError,i=(0,a.Z)(e,j),s=O[n],l=s.backgroundColor.split(".",2),d=(0,b.Z)(l,2),f=d[0],p=d[1],v=(0,P.Z)().base.colors[f][p];return r?(0,c.jsx)(g.Z,(0,u.Z)((0,u.Z)({},i),{},{as:R,container:!0,children:(0,c.jsx)(C.Z,{src:r,onError:o,alt:""})})):(0,c.jsx)(g.Z,(0,u.Z)((0,u.Z)({},i),{},{as:T,ref:t,container:{justify:"center",alignItems:"center"},style:{"--bg":v},children:s.iconName?(0,c.jsx)(E.ZP,{name:s.iconName}):s.text}))})),I=["name","meta","error","progress","thumbnail","onCancel","onEdit","onPreview","onDownload","onDelete","size"],_=(0,d.ZP)(A.ZP)((function(e){var t=e.hasThumbnail,n=e.theme;return(0,d.iv)(M||(M=(0,s.Z)(["\n      border: 0.0625rem solid ",";\n      border-radius: calc(0.5 * ",");\n      background-color: ",";\n      padding: calc(0.5 * ",");\n      min-height: 3rem;\n\n      "," {\n        height: ",";\n        width: ",";\n      }\n\n      ","\n    "])),n.base.palette["border-line"],n.base["border-radius"],n.base.palette["primary-background"],n.base.spacing,F.Y8,n.components.input.height,n.components.input.height,t&&(0,d.iv)(N||(N=(0,s.Z)(["\n        height: calc(6rem + ",");\n        grid-row: span 2;\n        grid-template-columns: auto minmax(0, 1fr) auto;\n\n        "," {\n          align-self: auto;\n          width: calc(6rem - 0.125rem);\n          height: calc(6rem - 0.125rem);\n        }\n\n        "," {\n          align-self: start;\n          margin-block-start: calc(0.5 * ",");\n        }\n\n        "," {\n          grid-area: primary;\n          align-self: center;\n          margin-block-start: calc(3 * ",");\n        }\n\n        "," {\n          align-self: start;\n        }\n      "])),n.base.spacing,A.oh,A.T_,n.base.spacing,A.lC,n.base.spacing,A.P$))}));_.defaultProps=f.ns;var W,V,z,H,q=(0,l.forwardRef)((function(e,t){var n,r,o=e.name,i=e.meta,s=e.error,d=void 0!==s&&s,f=e.progress,v=e.thumbnail,h=e.onCancel,g=e.onEdit,C=e.onPreview,B=e.onDownload,A=e.onDelete,F=(e.size,(0,a.Z)(e,I)),P=(0,p.Z)(),j=(0,l.useState)(!1),O=(0,b.Z)(j,2),S=O[0],T=O[1],R=(0,l.useMemo)((function(){return[{fn:h,text:P("cancel"),icon:"times"},{fn:g,text:P("edit"),icon:"pencil"},{fn:C,text:P("preview"),icon:"eye"},{fn:B,text:P("download"),icon:"download"},{fn:A,text:P("delete"),icon:"trash"}].filter((function(e){return!!e.fn}))}),[h,g,C,B,A]),M=i,N=D(null!==(n=m(o))&&void 0!==n?n:"");if("number"===typeof f&&f<100&&(M="".concat(P("uploading"),"\u2026").concat(Math.floor(f),"%")),Array.isArray(M)?M=(0,c.jsx)(w.ZP,{items:M.map((function(e,t){return(0,c.jsx)(k.Z,{variant:"secondary",status:d?"error":void 0,children:e},t)}))}):"string"===typeof M&&(M=(0,c.jsx)(k.Z,{variant:"secondary",status:d?"error":void 0,children:M})),1===R.length){var W=R[0];r=(0,c.jsx)(y.ZP,{icon:!0,variant:"simple",onClick:function(){var e;return null===(e=W.fn)||void 0===e?void 0:e.call(W,o)},"aria-label":"".concat(W.text," ").concat(o),children:(0,c.jsx)(E.ZP,{name:W.icon})})}else R.length>1&&(r=(0,c.jsx)(x.Z,{text:P("actions"),iconOnly:!0,icon:"more",variant:"simple",menu:{items:R.map((function(e){return{id:e.text,primary:e.text,onClick:function(){e.fn(o)}}}))}}));var V=(0,l.useMemo)((function(){return"number"===typeof f&&100!==f?(0,c.jsx)(Z.Z,{value:f,placement:"inline",variant:"ring"}):(0,c.jsx)(L,{type:N,thumbnail:S?void 0:v,onThumbnailError:function(){T(!0)}})}),[f,v,S]);return(0,c.jsx)(_,(0,u.Z)((0,u.Z)({},F),{},{forwardedAs:"li",hasThumbnail:v&&!S&&(100===f||void 0===f)&&!d,ref:t,visual:V,primary:o,secondary:M,actions:r,overflowStrategy:"ellipsis"}))})),U=n(56587),K=n(71756),J=["lastModified","name","size"],$=["lastModified","name","size"],X=d.ZP.ul((function(e){var t=e.theme;return(0,d.iv)(W||(W=(0,s.Z)(["\n    overflow-x: auto;\n\n    > li {\n      background-color: ",";\n      cursor: initial;\n    }\n  "])),t.base.palette["primary-background"])}));X.defaultProps=f.ns;var Y=(0,d.ZP)(U.Z)((function(e){var t=e.theme;return(0,d.iv)(V||(V=(0,s.Z)(["\n    line-height: 0;\n    width: fit-content;\n    border-radius: calc(0.5 * ",");\n\n    & + & {\n      margin: 0;\n    }\n\n    &:focus {\n      box-shadow: ",";\n    }\n\n    img {\n      border-radius: calc(0.5 * ",");\n      object-fit: contain;\n      max-height: 10rem;\n      max-width: 100%;\n    }\n  "])),t.base["border-radius"],t.components.button["focus-shadow"],t.base["border-radius"])}));Y.defaultProps=f.ns;var G=d.ZP.div((function(e){var t=e.variant,n=e.readOnly,r=e.theme;return(0,d.iv)(z||(z=(0,s.Z)(["\n      margin: "," calc(5 * ",") 0\n        calc("," * ",");\n\n      ","\n    "])),r.base.spacing,r.base.spacing,"post"===t?6:5,r.base.spacing,n&&(0,d.iv)(H||(H=(0,s.Z)(["\n        margin-block-start: ",";\n        margin-inline: 0;\n\n        div + ul {\n          margin-block-start: ",";\n        }\n      "])),r.base.spacing,r.base.spacing))}));G.defaultProps=f.ns;var Q=(0,l.forwardRef)((function(e,t){var n,r=e.variant,o=e.attachments,i=void 0===o?[]:o,s=e.readOnly,d=(0,p.Z)(),f=(0,l.useContext)(K.M).announce,h=null!==(n=(0,v.Z)(i))&&void 0!==n?n:[];if((0,l.useEffect)((function(){if(!s&&i.length!==(null===h||void 0===h?void 0:h.length)){var e=i.length-h.length,t=e*(e>0?1:-1),n=f(d("feed_attachments_".concat(e>0?"added":"removed"),[t],{count:t}));return function(){return clearTimeout(n)}}}),[i,s]),0===i.length)return null;var b=[],y=[];return i.forEach((function(e){var t;"image"===D(null!==(t=m(e.name))&&void 0!==t?t:"")&&e.thumbnail?b.push(e):y.push(e)})),(0,c.jsxs)(G,{variant:r,readOnly:s,children:[s&&!!b.length&&(0,c.jsx)(g.Z,{container:{gap:1,wrap:"wrap"},children:b.map((function(e){var t=e.lastModified,n=e.name,r=e.onPreview,o=e.thumbnail;return(0,c.jsx)(Y,{onClick:function(){return null===r||void 0===r?void 0:r(n)},children:(0,c.jsx)(C.Z,{alt:n,src:o})},t)}))}),(0,c.jsxs)(B.Z,{ref:t,as:X,container:{cols:"repeat(auto-fill, minmax(15rem, 1fr))",gap:1},children:[!s&&b.map((function(e){var t=e.lastModified,n=e.name,r=e.size,o=(0,a.Z)(e,J);return(0,c.jsx)(q,(0,u.Z)({name:n,size:r},o),t)})),y.map((function(e){var t=e.lastModified,n=e.name,r=e.size,o=(0,a.Z)(e,$);return(0,c.jsx)(q,(0,u.Z)({name:n,size:r},o),t)}))]})]})}))},43405:function(e,t,n){"use strict";var r,o=n(30168),i=n(16444),u=n(36862),a=i.ZP.button((function(e){var t=e.emphasized,n=e.theme;return(0,i.iv)(r||(r=(0,o.Z)(["\n    color: ",";\n\n    span {\n      margin-inline-start: ",";\n    }\n  "])),t?n.base.palette.interactive:n.base.palette["foreground-color"],n.base.spacing)}));a.defaultProps=u.ns,t.Z=a},72724:function(e,t,n){"use strict";var r,o=n(1413),i=n(29439),u=n(44925),a=n(30168),s=n(80184),c=n(72791),l=n(16444),d=n(41878),f=n(85477),p=n(37260),v=n(81732),h=n(51090),m=n(71756),D=["children","maxContentHeight"],g=l.ZP.div(r||(r=(0,a.Z)(["\n  "," {\n    padding: 0;\n  }\n"])),h.Jd),C=(0,c.forwardRef)((function(e,t){var n=e.children,r=e.maxContentHeight,a=void 0===r?1/0:r,l=(0,u.Z)(e,D),h=(0,c.useContext)(m.M),C=h.interactionRenderers,B=h.markdownMap,b=(0,c.useState)(!0),y=(0,i.Z)(b,2),E=y[0],x=y[1],w=(0,c.useState)(!0),A=(0,i.Z)(w,2),F=A[0],Z=A[1],k=(0,c.useRef)(null);return(0,c.useEffect)((function(){if(k.current){var e=new ResizeObserver((function(e){var t=e.some((function(e){var t=e.target,n=e.contentRect;if(t===k.current)return n.height>a}));Z(t)}));return e.observe(k.current),function(){e.disconnect()}}}),[k.current,a]),(0,c.useMemo)((function(){return"string"===typeof n?(0,s.jsxs)(d.Z,{as:g,ref:t,container:{direction:"column",gap:1},children:[(0,s.jsx)(f.Z,(0,o.Z)((0,o.Z)({collapsed:E,min:F?"".concat(a,"px"):"max-content"},l),{},{children:(0,s.jsx)(v.Z,{ref:k,content:n,type:"markdown",interactionRenderers:C,markdownMap:B})})),F&&(0,s.jsx)(d.Z,{container:{justify:"center"},children:(0,s.jsx)(p.ZP,{variant:"link",onClick:function(){return x((function(e){return!e}))},children:E?"Show more":"Show less"})})]}):n}),[n,E,F,C,B,a,t,l])}));t.Z=C},27324:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r,o=n(30168),i=n(80184),u=n(72791),a=n(16444),s=n(36862),c=n(80068),l=n(9972),d=n(41878),f=n(37260),p=n(94342),v=n(1004),h=n(12616),m=n(91062),D=n(43405),g=n(29439),C=n(30613),B=n(16245),b=n(75903),y=n(81424),E=n(84053),x=n(24450),w=n(48971),A=n(71756),F=n(30817),Z=(0,a.ZP)(w.C)((function(e){var t=e.theme;return(0,a.iv)(r||(r=(0,o.Z)(["\n    position: relative;\n    display: inline-block;\n    line-height: 1;\n    outline: none;\n    border-radius: calc("," * 9999);\n\n    &:hover {\n      ::before {\n        content: '';\n        position: absolute;\n        top: calc("," * -1);\n        bottom: calc("," * -1);\n        left: calc("," * -1);\n        right: calc("," * -1);\n        border-radius: inherit;\n        background-color: currentColor;\n        opacity: 0.15;\n      }\n    }\n\n    &:focus {\n      box-shadow: ",";\n    }\n  "])),t.base["border-radius"],t.components.button["border-width"],t.components.button["border-width"],t.components.button["border-width"],t.components.button["border-width"],t.components.button["focus-shadow"])}));Z.defaultProps=s.ns;var k,P=(0,u.forwardRef)((function(e,t){var n=e.id,r=e.liked,o=e.likeCount,a=void 0===o?0:o,s=e.likes,h=void 0===s?[]:s,m=e.onLikeClick,w=e.onLikeCountInteraction,k=e.onLoadMoreLikes,P=e.likesLoading,j=(0,c.Z)(),O=(0,C.Z)().locale,S=(0,B.Z)().create,T=(0,u.useContext)(A.M).userInfo,R=(0,b.Z)(null),M=(0,g.Z)(R,2),N=M[0],L=M[1],I=(0,u.useRef)(),_=(0,l.Z)();(0,u.useEffect)((function(){var e;null===(e=I.current)||void 0===e||e.update({count:a,heading:j("feed_likes"),listItems:h,onLoadMore:k,loading:P})}),[a,h,k,P]);var W=(0,u.useMemo)((function(){var e=h.map((function(e){return e.primary.toString()}));return{ariaLabel:a?"".concat(j("feed_liked_by")," ").concat((0,y.Z)(e.slice(0,2),j,O,{count:a})):j("feed_post_likes",[a],{count:a}),label:"".concat(j("feed_liked_by"),":\n").concat((0,y.Z)(e.slice(0,2),j,O,{count:a,separator:"\n"}))}}),[h,a]),V=function(){h.length?I.current=S(F.Z,{count:a,heading:j("feed_likes"),listItems:h,onLoadMore:k,loading:P}):null===w||void 0===w||w()};return(0,i.jsxs)(d.Z,{container:{gap:.5,alignItems:"center"},children:[(0,i.jsx)(f.ZP,{variant:"simple",icon:!0,compact:!0,as:D.Z,onClick:function(){var e={id:T.username,primary:T.fullname,secondary:T.meta,visual:(0,i.jsx)(E.ZP,{size:"l",imageSrc:T.avatarSrc,name:T.fullname})};m({id:n,user:e})},emphasized:r,"aria-pressed":r,label:j(r?"feed_unlike_label":"feed_like_label"),"aria-describedby":a>0?_:void 0,ref:t,children:(0,i.jsx)(p.ZP,{name:r?"thumbs-up-solid":"thumbs-up"})}),a>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{ref:L,role:h.length?"button":void 0,onClick:V,onFocus:w,onMouseOver:w,"aria-label":W.ariaLabel,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),V())},children:(0,i.jsx)(v.Z,{id:_,"aria-label":j("feed_post_likes",[a],{count:a}),children:a})}),(0,i.jsx)(x.Z,{target:N,showDelay:"none",hideDelay:"none",describeTarget:!1,children:W.label||j("feed_post_likes",[a],{count:a})})]})]})})),j=a.ZP.div((function(e){var t=e.theme;return(0,a.iv)(k||(k=(0,o.Z)(["\n    margin-block-start: ",";\n    margin-inline-end: calc(2 * ",");\n  "])),t.base.spacing,t.base.spacing)}));j.defaultProps=s.ns;var O=function(e){var t=e.variant,n=e.id,r=e.username,o=e.liked,a=e.likes,s=e.likeCount,g=e.interactionsEnabled,C=void 0===g||g,B=e.likesLoading,b=e.replies,y=void 0===b?[]:b,E=e.replyCount,x=e.repliesLoading,w=e.onCommentClick,F=e.onLikeClick,Z=e.onLikeCountInteraction,k=e.onLoadMoreLikes,O=e.onShowMoreReplies,S=e.onShowLessReplies,T=e.replyInputOpen,R=e.setReplyInputOpen,M=(0,c.Z)(),N=(0,l.Z)(),L=(0,u.useContext)(A.P).onShowReplyInput,I=E||y.length;return(0,i.jsxs)(d.Z,{as:j,container:{justify:"between",alignItems:"center",wrap:"wrap",gap:1},children:[C?(0,i.jsxs)(d.Z,{container:{gap:2},children:[(0,i.jsxs)(d.Z,{container:{gap:.5,alignItems:"center"},children:[(0,i.jsx)(f.ZP,{variant:"simple",as:D.Z,icon:!0,compact:!0,onClick:function(){null===w||void 0===w||w({id:n,username:r}),"post"===t?T||null===R||void 0===R||R(!0):null===L||void 0===L||L()},label:M("feed_comment_label"),"aria-describedby":"post"===t&&I>0?N:void 0,children:(0,i.jsx)(p.ZP,{name:"chat"})}),I>0&&(0,i.jsx)(v.Z,{"aria-label":M("feed_post_comments",[I],{count:I}),id:N,children:I})]}),(0,i.jsx)(P,{id:n,onLikeClick:F,onLikeCountInteraction:Z,onLoadMoreLikes:k,likesLoading:B,liked:o,likes:a,likeCount:s})]}):(0,i.jsx)("div",{}),(S||O)&&(0,i.jsxs)(d.Z,{container:{gap:.5},children:[y.length!==I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{children:M("showing_num_of_num",[y.length,I])}),(0,i.jsx)("span",{children:"\u2022"})]}),O&&y.length<I&&(0,i.jsx)(f.ZP,{variant:"link",onClick:function(){return O({id:n})},children:M("show_more")}),x&&(0,i.jsx)(m.Z,{placement:"inline"})]})]})}},91792:function(e,t,n){"use strict";var r,o=n(93433),i=n(29439),u=n(30168),a=n(80184),s=n(72791),c=n(16444),l=n(53004),d=n(36862),f=n(80068),p=n(30613),v=n(16245),h=n(75903),m=n(91204),D=n(24450),g=n(12616),C=n(84053),B=n(37260),b=n(41878),y=n(94342),E=n(54716),x=n(39254),w=n(56587),A=n(99576),F=n(28934),Z=n(81424),k=n(71756),P=n(30817),j=n(43405),O=c.ZP.div((function(e){var t=e.theme;return(0,c.iv)(r||(r=(0,u.Z)(["\n    margin-block-end: ",";\n    column-gap: ",";\n\n    "," {\n      "," {\n        /* Negative margin needed to align the icon with the author name on the line above. */\n        margin-inline-start: calc(-0.75 * ",");\n      }\n    }\n  "])),t.base.spacing,t.base.spacing,l.lC,j.Z,t.base.spacing)}));O.defaultProps=d.ns;t.Z=function(e){var t=e.variant,n=e.id,r=e.fullname,u=e.username,c=e.postTimestamp,d=e.content,S=e.avatarSrc,T=e.icon,R=e.userStatus,M=e.postType,N=e.postContext,L=e.recipients,I=void 0===L?[]:L,_=e.recipientsCount,W=void 0===_?0:_,V=e.menuItems,z=e.edited,H=e.editTimestamp,q=e.recipientsLoading,U=e.onEditSubmit,K=e.onLoadMoreRecipients,J=e.onRecipientInteraction,$=e.onUserClick,X=e.setEditMode,Y=(0,s.useContext)(k.M).userInfo,G=(0,f.Z)(),Q=(0,p.Z)().locale,ee=(0,v.Z)().create,te=(0,s.useRef)(),ne=(0,h.Z)(),re=(0,i.Z)(ne,2),oe=re[0],ie=re[1],ue=(0,h.Z)(),ae=(0,i.Z)(ue,2),se=ae[0],ce=ae[1],le=[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{ref:ie,value:c,variant:"relative"}),c&&(0,a.jsx)(D.Z,{target:oe,children:(0,F.o)((0,A.FS)(c),{t:G,locale:Q,format:"short",variant:"datetime",timeZone:Y.timeZone})})]})];z&&le.push((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{ref:ce,variant:"secondary",children:G("edited",[(0,a.jsx)(m.Z,{value:H,variant:"relative"})])}),H&&(0,a.jsx)(D.Z,{target:se,children:(0,F.o)((0,A.FS)(H),{t:G,locale:Q,format:"short",variant:"datetime",timeZone:Y.timeZone})})]}));var de=(0,a.jsx)(C.ZP,{name:r,size:"post"===t?"l":"m",imageSrc:S,icon:T,status:R}),fe=I.map((function(e){return e.primary}));return(0,s.useEffect)((function(){var e;I.length&&(null===(e=te.current)||void 0===e||e.update({count:W,heading:G("feed_recipients"),listItems:I,onLoadMore:K,loading:q}))}),[W,I,K,q]),(0,a.jsx)(l.ZP,{as:O,visual:$?(0,a.jsx)(w.Z,{onClick:function(e){null===$||void 0===$||$({id:n,username:u},e)},children:de}):de,primary:(0,a.jsxs)("div",{children:[$?(0,a.jsx)(B.ZP,{variant:"text",onClick:function(e){null===$||void 0===$||$({id:n,username:u},e)},children:(0,a.jsx)(g.Z,{variant:"h3",children:r})}):(0,a.jsx)(g.Z,{variant:"h3",children:r}),N&&(0,a.jsxs)(g.Z,{variant:"primary",children:[" ",G("feed_context",[N])]})]}),secondary:(0,a.jsxs)(b.Z,{container:{gap:.5,alignItems:"center"},children:["private"===M&&(0,a.jsx)(B.ZP,{variant:"simple",as:j.Z,icon:!0,compact:!0,onClick:I.length?function(){W>2&&(te.current=ee(P.Z,{count:W,heading:G("feed_recipients"),listItems:I,onLoadMore:K,loading:q}))}:J,onFocus:J,onMouseOver:J,"aria-label":"".concat(G("feed_private_post")," ").concat(G("feed_recipients")," ").concat((0,Z.Z)(fe.slice(0,2),G,Q,{count:W})),label:"".concat(G("feed_private_post"),":\n").concat((0,Z.Z)(fe.slice(0,2),G,Q,{count:W,separator:"\n"})||G("feed_private_post")),children:(0,a.jsx)(y.ZP,{name:"lock-closed-solid"})}),(0,a.jsx)(E.ZP,{items:le})]}),actions:V?(0,a.jsx)(x.Z,{text:G("feed_post_actions_menu"),menu:{items:U&&"string"===typeof d&&u===Y.username?[{primary:G("edit"),id:"edit",onClick:function(){return X(!0)}}].concat((0,o.Z)(V)):V},icon:"more",iconOnly:!0,variant:"simple"}):void 0})}},23372:function(e,t,n){"use strict";var r,o=n(29439),i=n(30168),u=n(80184),a=n(72791),s=n(16444),c=n(36862),l=n(80068),d=n(23730),f=n(41878),p=n(37260),v=n(94342),h=n(3545),m=n(84310),D=n(43405),g=n(71756),C=s.ZP.div((function(e){var t=e.theme;return(0,s.iv)(r||(r=(0,i.Z)(["\n    width: calc(100% - ("," + ","));\n\n    @media (pointer: coarse) {\n      width: calc(100% - ("," + ","));\n    }\n  "])),t.base.spacing,t.base["hit-area"]["mouse-min"],t.base.spacing,t.base["hit-area"]["finger-min"])}));C.defaultProps=c.ns;t.Z=function(e){var t=e.variant,n=e.id,r=e.content,i=e.setEditMode,s=e.onEditSubmit,c=e.emptyEditText,B=e.setEmptyEditText,b=(0,l.Z)(),y=(0,a.useContext)(g.M).setShowSearchResults,E=(0,a.useRef)(),x=(0,a.useRef)(null),w=(0,a.useState)(!1),A=(0,o.Z)(w,2),F=A[0],Z=A[1];(0,d.Z)("mousedown",[x],(function(){c&&i(!1)}));var k=function(){var e;(null===y||void 0===y||y(!1),!c&&F)&&(null===s||void 0===s||s({id:n,value:(null===(e=E.current)||void 0===e?void 0:e.getPlainText())||""}),i(!1))};(0,a.useEffect)((function(){var e;E.current&&(null===(e=E.current)||void 0===e||e.focus())}),[E]);var P=b("post"===t?"feed_edit_post":"feed_edit_comment");return(0,u.jsxs)(f.Z,{container:{gap:1,alignItems:"start"},children:[(0,u.jsx)(C,{ref:x,children:(0,u.jsx)(h.Z,{label:P,onChange:function(){var e,t;B(""===(null===(e=E.current)||void 0===e?void 0:e.getPlainText().trim())),Z((null===(t=E.current)||void 0===t?void 0:t.getPlainText())!==r)},onKeyDown:function(e){null===y||void 0===y||y(!0),(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&k()},height:{min:m.O5},defaultValue:r,ref:E})}),(0,u.jsxs)(f.Z,{as:m.Vb,container:{direction:"column",gap:.25},children:[(0,u.jsx)(p.ZP,{variant:"simple",as:D.Z,onClick:function(){return i(!1)},icon:!0,label:b("cancel"),children:(0,u.jsx)(v.ZP,{name:"times"})}),(0,u.jsx)(p.ZP,{as:D.Z,disabled:c||!F,variant:"simple",onClick:k,icon:!0,label:b("update"),children:(0,u.jsx)(v.ZP,{name:"send"})})]})]})}},84310:function(e,t,n){"use strict";n.d(t,{O5:function(){return x},Vb:function(){return F}});var r,o,i,u,a=n(29439),s=n(30168),c=n(80184),l=n(72791),d=n(16444),f=n(84053),p=n(36862),v=n(80068),h=n(75903),m=n(23730),D=n(41878),g=n(37260),C=n(94342),B=n(71756),b=n(32809),y=n(43405),E=n(3545),x="4rem",w=(0,d.ZP)(f.ZP)((function(e){var t=e.theme;return(0,d.iv)(r||(r=(0,s.Z)(["\n    margin-block-start: calc(0.5 * ",");\n  "])),t.base.spacing)}));w.defaultProps=p.ns;var A=d.ZP.div((function(e){var t=e.theme;return(0,d.iv)(o||(o=(0,s.Z)(["\n    width: 100%;\n    overflow-y: hidden;\n    padding: 0 "," calc(0.5 * ",") ",";\n  "])),t.base.spacing,t.base.spacing,t.base.spacing)}));A.defaultProps=p.ns;var F=d.ZP.div((function(e){var t=e.theme;return(0,d.iv)(i||(i=(0,s.Z)(["\n    margin-block-start: calc(2.5 * ",");\n\n    "," + "," {\n      margin-inline-start: 0;\n    }\n  "])),t.base.spacing,y.Z,y.Z)}));F.defaultProps=p.ns;var Z=d.ZP.input(u||(u=(0,s.Z)(["\n  display: none;\n"])));t.ZP=function(e){var t=e.variant,n=e.id,r=e.attachments,o=void 0===r?[]:r,i=e.onFilesAdded,u=e.onSubmit,s=e.inputRegionEl,d=e.rteRef,f=e.selectedRecipients,p=(0,v.Z)(),k=(0,l.useContext)(B.M).setShowSearchResults,P=(0,l.useContext)(B.M).userInfo,j=P.avatarSrc,O=P.fullname,S=P.username,T=P.userStatus,R=(0,l.useState)(!0),M=(0,a.Z)(R,2),N=M[0],L=M[1],I=(0,h.Z)(),_=(0,a.Z)(I,2),W=_[0],V=_[1];(0,m.Z)("mousedown",[s],(function(){var e;N&&(null===(e=d.current)||void 0===e||e.clear())}));var z=function(){var e;(null===k||void 0===k||k(!1),(!N||o.length>0)&&o.every((function(e){return!e.error})))&&u({id:n,value:(null===(e=d.current)||void 0===e?void 0:e.getPlainText())||"",attachments:o||[],username:S,recipients:"post"===t?f:void 0,clear:function(){var e;null===(e=d.current)||void 0===e||e.clear()}})},H=p("post"===t?"feed_new_post":"feed_new_comment"),q=p("post"===t?"feed_new_post_submit":"feed_new_comment_submit");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(D.Z,{container:{alignItems:"start"},children:[(0,c.jsx)(w,{name:O,size:"post"===t?"l":"m",imageSrc:j,status:T}),(0,c.jsx)(A,{children:(0,c.jsx)(E.Z,{label:H,onChange:function(){var e;L(""===(null===(e=d.current)||void 0===e?void 0:e.getPlainText().trim()))},onKeyDown:function(e){null===k||void 0===k||k(!0),(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&z()},height:{min:x},ref:d})}),(0,c.jsxs)(D.Z,{as:F,container:{direction:"column",gap:.25},children:[i&&(0,c.jsx)(g.ZP,{variant:"simple",as:y.Z,onClick:function(){null===k||void 0===k||k(!1),null===W||void 0===W||W.click()},icon:!0,label:p("feed_attach_files"),children:(0,c.jsx)(C.ZP,{name:"paper-clip"})}),(0,c.jsx)(g.ZP,{as:y.Z,disabled:N&&0===o.length||o.some((function(e){return e.error})),variant:"simple",onClick:z,icon:!0,label:q,children:(0,c.jsx)(C.ZP,{name:"send"})})]})]}),(0,c.jsx)(Z,{ref:V,type:"file",multiple:!0,onChange:function(){null!==W&&void 0!==W&&W.files&&(null===i||void 0===i||i(Array.from(null===W||void 0===W?void 0:W.files)))},onClick:function(e){e.target.value=""}}),(0,c.jsx)(b.ZP,{variant:t,attachments:o})]})}},30817:function(e,t,n){"use strict";var r,o=n(1413),i=n(29439),u=n(30168),a=n(80184),s=n(72791),c=n(16444),l=n(36862),d=n(80068),f=n(58268),p=n(99217),v=n(63837),h=n(41878),m=n(1004),D=n(80677),g=n(54716),C=n(91062),B=n(14570),b=c.ZP.div((function(e){var t=e.theme;return(0,c.iv)(r||(r=(0,u.Z)(["\n    margin-top: ",";\n    min-height: 2rem;\n    min-width: 2rem;\n  "])),t.base.spacing)}));b.defaultProps=l.ns;t.Z=function(e){var t=e.loading,n=e.count,r=e.heading,u=e.listItems,c=e.onLoadMore,l=(0,d.Z)(),y=(0,s.useRef)(null),E=(0,f.Z)(u),x=(0,s.useState)(""),w=(0,i.Z)(x,2),A=w[0],F=w[1];return(0,s.useEffect)((function(){t&&F(l("loading"))}),[t]),(0,s.useEffect)((function(){if(E){var e=u.length-E.length;e>0&&F(l("new_item_added",[e],{count:e}))}}),[u]),(0,p.Z)(y,u.length-1,(function(){null===c||void 0===c||c()}),":scope li"),(0,a.jsxs)(v.Z,{heading:(0,a.jsxs)(h.Z,{container:{gap:1},children:[r,(0,a.jsx)(h.Z,{item:{alignSelf:"center"},as:m.Z,children:n})]}),ref:y,children:[(0,a.jsx)(B.Z,{children:A}),(0,a.jsx)(D.Tl,{items:u.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{secondary:e.secondary&&(0,a.jsx)(g.ZP,{items:e.secondary})})}))}),t&&(0,a.jsx)(h.Z,{container:{justify:"center"},as:b,children:(0,a.jsx)(C.Z,{placement:"inline"})})]})}},60461:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r,o,i,u,a,s,c,l,d,f=n(1413),p=n(29439),v=n(44925),h=n(30168),m=n(80184),D=n(72791),g=n(16444),C=n(94342),B=n(36862),b=n(75903),y=n(22479),E=n(78189),x=n(37151),w=n(37260),A=n(25935),F=n(82888),Z=n(14472),k=n(53004),P=n(80068),j=n(30613),O=n(16245),S=n(22e3),T=n(23730),R=n(41878),M=n(81424),N=n(1004),L=n(24450),I=n(48971),_=n(75528),W=n(30817),V=["recipients","onSetPostType","onSelectedRecipientsUpdate","onRecipientSearch","reset","onReset"],z=(0,g.ZP)(I.C)(r||(r=(0,h.Z)(["\n  display: inline-block;\n"])));g.ZP.div((function(e){var t=e.theme.base.spacing;return(0,g.iv)(o||(o=(0,h.Z)(["\n    padding: ",";\n\n    p:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),t,t)})).defaultProps=B.ns;var H=g.ZP.div(i||(i=(0,h.Z)(["\n  width: clamp(16rem, 60vw, 40rem);\n"]))),q=g.ZP.div((function(e){var t=e.theme.base.spacing;return(0,g.iv)(u||(u=(0,h.Z)(["\n    margin: "," calc(2 * ",") calc(2 * ",");\n  "])),t,t,t)}));q.defaultProps=B.ns;var U=(0,g.ZP)(F.k2)((function(e){var t=e.theme.base,n=t["font-weight"]["semi-bold"],r=t.spacing;return(0,g.iv)(a||(a=(0,h.Z)(["\n    font-weight: ",";\n    padding: "," calc(2 * ",");\n\n    &:hover,\n    &:focus {\n      text-decoration: none;\n    }\n\n    && "," {\n      display: inline-block;\n      margin-inline-end: ",";\n    }\n  "])),n,r,r,C.xL,r)}));U.defaultProps=B.ns;var K=g.ZP.div(s||(s=(0,h.Z)([""]))),J=(0,g.ZP)(w.ZP)((function(e){var t=e.theme.base.spacing;return(0,g.iv)(c||(c=(0,h.Z)(["\n    margin-block-end: ",";\n  "])),t)}));J.defaultProps=B.ns;var $=(0,g.ZP)(A.Z)((function(e){var t=e.theme.base.spacing;return(0,g.iv)(l||(l=(0,h.Z)(["\n    "," > button {\n      padding: "," calc(2 * ",");\n    }\n  "])),F.CM,t,t)}));$.defaultProps=B.ns;var X=(0,g.ZP)(Z.Z)((function(e){var t=e.theme.base["font-weight"].normal;return(0,g.iv)(d||(d=(0,h.Z)(["\n    "," {\n      font-weight: ",";\n    }\n  "])),k.T_,t)}));X.defaultProps=B.ns;var Y,G={post:{primary:"Public post"},private:{primary:"Private post"}},Q=function(e){return[{id:"1",primary:G.post.primary,selected:"post"===e,value:"post"},{id:"2",primary:G.private.primary,selected:"private"===e,value:"private"}]},ee={postType:"post",itemsLoading:!1,showTypeMenu:!1,showRecipientMenu:!1,viewingRecipients:!1,searchValue:"",typeMenuItems:Q("post"),recipientMenuItems:[],multiSelectItems:[]},te=function(e){var t=e.recipients,n=e.onSetPostType,r=e.onSelectedRecipientsUpdate,o=e.onRecipientSearch,i=e.reset,u=e.onReset,a=(0,v.Z)(e,V),s=(0,P.Z)(),c=(0,j.Z)().locale,l=(0,O.Z)().create,d=(0,D.useMemo)((function(){return(0,S.Z)()}),[]),h=(0,D.useRef)(),g=(0,D.useRef)(null),B=(0,b.Z)(),E=(0,p.Z)(B,2),x=E[0],F=E[1],Z=(0,b.Z)(),k=(0,p.Z)(Z,2),I=k[0],Y=k[1],te=(0,b.Z)(null),ne=(0,p.Z)(te,2),re=ne[0],oe=ne[1],ie=(0,b.Z)(null),ue=(0,p.Z)(ie,2),ae=ue[0],se=ue[1],ce=(0,D.useReducer)((function(e,n){var r=n.type,o=n.payload;switch(r){case"reset":return ee;case"setPostType":var i=o,u="private"===i;return(0,f.Z)((0,f.Z)({},e),{},{postType:i,showTypeMenu:!!u&&e.showTypeMenu,viewingRecipients:!!u||e.viewingRecipients,multiSelectItems:ee.multiSelectItems,searchValue:ee.searchValue});case"setShowTypeMenu":return(0,f.Z)((0,f.Z)({},e),{},{showTypeMenu:o});case"setShowRecipientMenu":return(0,f.Z)((0,f.Z)({},e),{},{showRecipientMenu:o});case"setSearchValue":return(0,f.Z)((0,f.Z)({},e),{},{searchValue:o});case"setViewingRecipients":return(0,f.Z)((0,f.Z)({},e),{},{viewingRecipients:o});case"setItemsLoading":return(0,f.Z)((0,f.Z)({},e),{},{itemsLoading:o});case"updateTypeMenuItems":return(0,f.Z)((0,f.Z)({},e),{},{typeMenuItems:Q(e.postType)});case"toggleTypeMenu":return(0,f.Z)((0,f.Z)({},e),{},{showTypeMenu:!e.showTypeMenu});case"removeRecipientViaMultiSelect":var a=o,s=e.multiSelectItems.reduce((function(e,t){return t.id===a?e:e.concat([t])}),[]),c=e.recipientMenuItems.map((function(e){return e.id===a?(0,f.Z)((0,f.Z)({},e),{},{selected:!1}):(0,f.Z)({},e)}));return(0,f.Z)((0,f.Z)({},e),{},{multiSelectItems:s,recipientMenuItems:c});case"selectRecipientViaMenu":var l=o;if(!e.multiSelectItems.some((function(e){return e.id===l}))){var d=e.recipientMenuItems.filter((function(e){return e.id===l}))[0],p=e.multiSelectItems.concat([d]);return(0,f.Z)((0,f.Z)({},e),{},{multiSelectItems:p,searchValue:""})}return(0,f.Z)((0,f.Z)({},e),{},{searchValue:""});case"updateRecipientMenuItems":var v=e.multiSelectItems.map((function(e){return e.id}));return(0,f.Z)((0,f.Z)({},e),{},{itemsLoading:!1,recipientMenuItems:t.map((function(e){return function(e,t){var n=t||[],r="option_".concat(e.value);return(0,f.Z)((0,f.Z)({},e),{},{id:r,selected:n.includes(r)})}(e,v)}))});case"resetUnappliedState":var h="private"===e.postType&&0===e.multiSelectItems.length?"post":e.postType;return(0,f.Z)((0,f.Z)({},e),{},{postType:h,searchValue:""});default:return(0,f.Z)({},e)}}),ee),le=(0,p.Z)(ce,2),de=le[0],fe=le[1],pe=(0,D.useCallback)((function(e){"Escape"===e.key&&de.showTypeMenu&&fe({type:"toggleTypeMenu"})}),[de.showTypeMenu]);(0,T.Z)("mousedown",[re,ae],(function(){fe({type:"setShowTypeMenu",payload:!1})})),(0,D.useEffect)((function(){i&&(fe({type:"reset"}),u())}),[i]),(0,D.useEffect)((function(){fe({type:"updateRecipientMenuItems"})}),[t]),(0,D.useEffect)((function(){r(de.multiSelectItems)}),[de.multiSelectItems]),(0,D.useEffect)((function(){var e;if(!de.showTypeMenu)return"private"===de.postType&&(e=setTimeout((function(){fe({type:"setViewingRecipients",payload:!0})}),100)),e=setTimeout((function(){fe({type:"resetUnappliedState"})}),100),function(){return clearTimeout(e)}}),[de.showTypeMenu]),(0,D.useEffect)((function(){var e;g.current&&(null===(e=g.current)||void 0===e||e.focus())}),[g.current]),(0,D.useEffect)((function(){var e;"private"===de.postType&&(de.viewingRecipients?null===(e=g.current)||void 0===e||e.focus():null===x||void 0===x||x.focus())}),[de.viewingRecipients]),(0,y.Z)((function(){var e;(n(de.postType),fe({type:"updateTypeMenuItems"}),"private"===de.postType)&&(null===(e=g.current)||void 0===e||e.focus())}),[de.postType]),(0,D.useEffect)((function(){var e=setTimeout((function(){o(de.searchValue),fe({type:"setItemsLoading",payload:!0}),fe({type:"setShowRecipientMenu",payload:!!de.searchValue.length})}),300);return function(){return clearTimeout(e)}}),[de.searchValue]),(0,D.useEffect)((function(){return null===x||void 0===x||x.addEventListener("keydown",pe),function(){return null===x||void 0===x?void 0:x.removeEventListener("keydown",pe)}}),[x,de.showTypeMenu]),(0,D.useEffect)((function(){var e;return null===(e=g.current)||void 0===e||e.addEventListener("keydown",pe),function(){var e;return null===(e=g.current)||void 0===e?void 0:e.removeEventListener("keydown",pe)}}),[g.current,de.showTypeMenu]);return(0,m.jsxs)(R.Z,{container:{gap:.5},children:[(0,m.jsxs)(J,(0,f.Z)((0,f.Z)({},a),{},{onClick:function(){fe({type:"toggleTypeMenu"})},ref:F,variant:"link","aria-haspopup":"menu","aria-expanded":de.showTypeMenu,children:[(0,m.jsx)("span",{ref:se,children:G[de.postType].primary}),(0,m.jsx)(C.ZP,{name:"arrow-micro-down"})]})),"private"===de.postType&&de.multiSelectItems.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(z,{ref:Y,onClick:function(){h.current=l(W.Z,{count:de.multiSelectItems.length,heading:s("feed_recipients"),listItems:de.multiSelectItems.map((function(e){return{id:e.id,primary:e.primary,secondary:e.secondary,visual:e.visual}}))})},"aria-label":"".concat(s("feed_private_post")," ").concat(s("feed_recipients")," ").concat((0,M.Z)(de.multiSelectItems.map((function(e){return e.primary})).slice(0,2),s,c,{count:de.multiSelectItems.length})),tabIndex:0,children:(0,m.jsx)(N.Z,{children:de.multiSelectItems.length})}),(0,m.jsx)(L.Z,{target:I,showDelay:"none",hideDelay:"none",describeTarget:!1,children:(0,M.Z)(de.multiSelectItems.map((function(e){return e.primary})).slice(0,2),s,c,{count:de.multiSelectItems.length,separator:"\n"})})]}),(0,m.jsxs)(X,{id:d,ref:oe,target:ae,show:de.showTypeMenu,placement:"bottom-start",children:[("private"!==de.postType||!de.viewingRecipients)&&(0,m.jsx)(A.Z,{items:de.typeMenuItems,focusControlEl:x||void 0,mode:"single-select",onItemClick:function(e){var t=de.typeMenuItems.find((function(t){return t.id===e})).value;fe({type:"setPostType",payload:t})},onItemExpand:function(){"private"===de.postType?fe({type:"setViewingRecipients",payload:!0}):fe({type:"setPostType",payload:"private"})}}),"private"===de.postType&&de.viewingRecipients&&(0,m.jsxs)(H,{children:[(0,m.jsxs)(K,{children:[(0,m.jsxs)(w.ZP,{as:U,variant:"text","aria-label":"close submenu",onClick:function(){fe({type:"setViewingRecipients",payload:!1})},children:[(0,m.jsx)(C.ZP,{name:"caret-left"}),G.private.primary]}),(0,m.jsx)(q,{children:(0,m.jsx)(_.Z,{ref:g,selected:de.multiSelectItems.map((function(e){return{id:e.id,text:e.primary}})),onRemove:function(e){fe({type:"removeRecipientViaMultiSelect",payload:e})},value:de.searchValue,onChange:function(e){fe({type:"setSearchValue",payload:e.target.value})}})})]}),de.showRecipientMenu&&(0,m.jsx)($,{loading:de.itemsLoading,focusControlEl:g.current,items:de.itemsLoading?[]:de.recipientMenuItems,scrollAt:11,mode:"action",emptyText:"No items",onItemClick:function(e){fe({type:"selectRecipientViaMenu",payload:e})}})]})]})]})},ne=n(84310),re=["id","attachments","onSubmit","onFilesAdded","autoFocus","recipients","onRecipientSearch"];(0,C.q5)(E,x);var oe=g.ZP.div(Y||(Y=(0,h.Z)([""])));oe.defaultProps=B.ns;var ie=function(e){var t=e.id,n=e.attachments,r=void 0===n?[]:n,o=e.onSubmit,i=e.onFilesAdded,u=(e.autoFocus,e.recipients),a=e.onRecipientSearch,s=(0,v.Z)(e,re),c=(0,D.useRef)(),l=(0,D.useState)("post"),d=(0,p.Z)(l,2),h=d[0],g=d[1],C=(0,D.useState)(!1),B=(0,p.Z)(C,2),E=B[0],x=B[1],w=(0,D.useState)([]),A=(0,p.Z)(w,2),F=A[0],Z=A[1],k=(0,b.Z)(),P=(0,p.Z)(k,2),j=P[0],O=P[1];return(0,y.Z)((function(){var e;"post"===h&&(null===(e=c.current)||void 0===e||e.focus());"private"!==h&&Z([])}),[h]),(0,m.jsxs)(oe,(0,f.Z)((0,f.Z)({ref:O},s),{},{children:[a&&(0,m.jsx)(te,{recipients:u||[],onSetPostType:g,onSelectedRecipientsUpdate:Z,onRecipientSearch:a,reset:E,onReset:function(){return x(!1)}}),(0,m.jsx)(ne.ZP,(0,f.Z)((0,f.Z)({variant:"post"},{id:t,attachments:r,onFilesAdded:i,onSubmit:o}),{},{inputRegionEl:j,rteRef:c,selectedRecipients:F}))]}))}},35273:function(e,t,n){"use strict";n.d(t,{ZP:function(){return H}});var r,o=n(1413),i=n(29439),u=n(44925),a=n(30168),s=n(80184),c=n(72791),l=n(16444),d=n(94342),f=n(21750),p=n(36862),v=n(80068),h=n(58268),m=n(39116),D=n(41878),g=n(37260),C=n(91062),B=n(22264),b=n(21233),y=n(32809),E=n(72724),x=n(75903),w=n(86203),A=n(37151),F=n(84310),Z=["id","attachments","onFilesAdded","onSubmit","onSetInputRef"];(0,d.q5)(w,A);var k=l.ZP.div(r||(r=(0,a.Z)([""])));k.defaultProps=p.ns;var P,j,O,S,T=function(e){var t=e.id,n=e.attachments,r=e.onFilesAdded,a=e.onSubmit,l=e.onSetInputRef,d=(0,u.Z)(e,Z),f=(0,c.useRef)(),p=(0,x.Z)(),v=(0,i.Z)(p,2),h=v[0],m=v[1];return(0,c.useEffect)((function(){null===l||void 0===l||l({ref:f})}),[f]),(0,s.jsx)(k,(0,o.Z)((0,o.Z)({ref:m},d),{},{children:(0,s.jsx)(F.ZP,(0,o.Z)((0,o.Z)({variant:"reply"},{id:t,attachments:n,onFilesAdded:r,onSubmit:a}),{},{inputRegionEl:h,rteRef:f}))}))},R=n(71756),M=n(91792),N=n(27324),L=n(23372),I=n(66226),_=["id","avatarSrc","fullname","username","postTimestamp","content","postType","recipients","recipientsCount","attachments","liked","icon","postContext","userStatus","likes","likeCount","interactionsEnabled","maxContentHeight","onMouseEnter","onMouseLeave","onCommentClick","onLikeClick","onLikeCountInteraction","likesLoading","onLoadMoreLikes","onRecipientInteraction","recipientsLoading","onLoadMoreRecipients","onUserClick","onShowMoreClick","newReplyField","menuItems","onEditSubmit","edited","editTimestamp","replies","replyInput","replyInputShown","replyCount","repliesLoading","onShowLessReplies","onShowMoreReplies"];(0,d.q5)(B,b);var W=(0,l.ZP)(f.Z)((function(e){var t=e.theme;return(0,l.iv)(P||(P=(0,a.Z)(["\n    margin-block-start: calc(2 * ",");\n  "])),t.base.spacing)}));W.defaultProps=p.ns;var V=l.ZP.div((function(e){var t=e.showLines,n=e.theme;return(0,l.iv)(j||(j=(0,a.Z)(["\n    padding-inline-start: calc(6 * ",");\n\n    ","\n  "])),n.base.spacing,t&&(0,l.iv)(O||(O=(0,a.Z)(["\n      margin-inline-start: calc(2.5 * ",");\n      border-inline-start: solid 0.0625rem ",";\n      padding-inline-start: calc(3.5 * ",");\n    "])),n.base.spacing,n.base.palette["border-line"],n.base.spacing))}));V.defaultProps=p.ns;var z=l.ZP.div((function(e){var t=e.theme;return(0,l.iv)(S||(S=(0,a.Z)(["\n    margin-inline-start: calc(-1.75 * ",");\n\n    ",", "," {\n      padding-block-start: ",";\n    }\n  "])),t.base.spacing,I.E,k,t.base.spacing)}));z.defaultProps=p.ns;var H=function(e){var t=e.id,n=e.avatarSrc,r=e.fullname,a=e.username,l=e.postTimestamp,d=e.content,f=e.postType,p=void 0===f?"public":f,B=e.recipients,b=e.recipientsCount,x=e.attachments,w=e.liked,A=e.icon,F=e.postContext,Z=e.userStatus,k=e.likes,P=e.likeCount,j=e.interactionsEnabled,O=e.maxContentHeight,S=void 0===O?1/0:O,I=e.onMouseEnter,H=e.onMouseLeave,q=e.onCommentClick,U=e.onLikeClick,K=e.onLikeCountInteraction,J=e.likesLoading,$=e.onLoadMoreLikes,X=e.onRecipientInteraction,Y=e.recipientsLoading,G=e.onLoadMoreRecipients,Q=e.onUserClick,ee=(e.onShowMoreClick,e.newReplyField,e.menuItems),te=e.onEditSubmit,ne=e.edited,re=void 0!==ne&&ne,oe=e.editTimestamp,ie=e.replies,ue=void 0===ie?[]:ie,ae=e.replyInput,se=e.replyInputShown,ce=e.replyCount,le=e.repliesLoading,de=e.onShowLessReplies,fe=e.onShowMoreReplies,pe=(0,u.Z)(e,_),ve=(0,c.useContext)(R.M).announce,he="post",me=(0,v.Z)(),De=(0,c.useState)(!1),ge=(0,i.Z)(De,2),Ce=ge[0],Be=ge[1],be=(0,c.useState)(!1),ye=(0,i.Z)(be,2),Ee=ye[0],xe=ye[1],we=(0,c.useState)(!1),Ae=(0,i.Z)(we,2),Fe=Ae[0],Ze=Ae[1],ke=(0,c.useState)(null),Pe=(0,i.Z)(ke,2),je=Pe[0],Oe=Pe[1],Se=(0,h.Z)(ue),Te=(0,c.useRef)(!1);(0,c.useEffect)((function(){var e;(Fe||se)&&je&&(null===(e=je.current)||void 0===e||e.focus())}),[Fe,se,je]);var Re=(0,c.useMemo)((function(){return{onShowReplyInput:function(){return Ze(!0)}}}),[]);(0,c.useEffect)((function(){if(Se){if(Se.length-ue.length>0&&!Te.current){var e=ve(me("feed_comment_removed"));return function(){return clearTimeout(e)}}Te.current=!1}}),[ue]);var Me=!(null===ue||void 0===ue||!ue.length);return(0,s.jsx)(R.P.Provider,{value:Re,children:(0,s.jsx)(W,(0,o.Z)((0,o.Z)({},pe),{},{onMouseEnter:function(){null===I||void 0===I||I({id:t})},onMouseLeave:function(){null===H||void 0===H||H({id:t})},children:(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(M.Z,(0,o.Z)({},{variant:he,id:t,fullname:r,username:a,postTimestamp:l,content:d,avatarSrc:n,icon:A,userStatus:Z,postType:p,postContext:F,recipients:B,recipientsCount:b,menuItems:ee,edited:re,editTimestamp:oe,recipientsLoading:Y,onEditSubmit:te,onLoadMoreRecipients:G,onRecipientInteraction:X,onUserClick:Q,setEditMode:Be})),(0,s.jsxs)(V,{showLines:Me||Fe,children:[(0,s.jsxs)(D.Z,{container:{direction:"column",pad:[0,Ce?0:2,0,0]},item:{grow:1},children:[Ce?(0,s.jsx)(L.Z,(0,o.Z)({},{variant:he,id:t,content:d,setEditMode:Be,onEditSubmit:te,emptyEditText:Ee,setEmptyEditText:xe})):(0,s.jsx)(E.Z,{maxContentHeight:S,children:d}),(0,s.jsx)(y.ZP,{variant:he,attachments:x,readOnly:!0})]}),(0,s.jsx)(N.Z,(0,o.Z)({},{variant:he,id:t,username:a,liked:w,likes:k,likeCount:P,interactionsEnabled:j,likesLoading:J,replies:ue,replyCount:ce,repliesLoading:le,onCommentClick:q,onLikeClick:U,onLikeCountInteraction:K,onLoadMoreLikes:$,onShowMoreReplies:fe,onShowLessReplies:de,replyInputOpen:Fe,setReplyInputOpen:Ze})),(0,s.jsxs)(z,{children:[Me&&ue,se||Fe&&(0,s.jsx)(T,{onSetInputRef:function(e){var t=e.ref;Oe(t)},id:t,attachments:ae.attachments,onFilesAdded:ae.onFilesAdded,onSubmit:function(e){Ze(!1),ae.onSubmit(e)}})]}),de&&!!ue.length&&(0,s.jsxs)(D.Z,{container:{justify:"center",pad:[0,0,1],gap:1},children:[(0,s.jsx)(g.ZP,{variant:"link",onClick:function(){de({id:t}),Te.current=!0},children:me("show_less")}),le&&(0,s.jsx)(C.Z,{placement:"inline"})]})]})]})}))})}},66226:function(e,t,n){"use strict";n.d(t,{E:function(){return x}});var r,o,i=n(1413),u=n(29439),a=n(44925),s=n(30168),c=n(80184),l=n(72791),d=n(16444),f=n(94342),p=n(36862),v=n(41878),h=n(13225),m=n(32970),D=n(97373),g=n(32809),C=n(72724),B=n(91792),b=n(27324),y=n(23372),E=["id","avatarSrc","postTimestamp","content","attachments","username","fullname","liked","likes","likeCount","interactionsEnabled","icon","userStatus","maxContentHeight","menuItems","onEditSubmit","edited","editTimestamp","onMouseEnter","onMouseLeave","onCommentClick","onLikeClick","onLikeCountInteraction","onLoadMoreLikes","likesLoading","onUserClick"];(0,f.q5)(h,m,D);var x=d.ZP.div(r||(r=(0,s.Z)([""])));x.defaultProps=p.ns;var w=d.ZP.div((function(e){var t=e.theme;return(0,d.iv)(o||(o=(0,s.Z)(["\n    margin-inline-start: calc(2 * ",");\n    border-inline-start: solid 0.0625rem ",";\n    padding-inline-start: calc(3 * ",");\n  "])),t.base.spacing,t.base.palette["border-line"],t.base.spacing)}));w.defaultProps=p.ns;t.Z=function(e){var t=e.id,n=e.avatarSrc,r=e.postTimestamp,o=e.content,s=e.attachments,d=e.username,f=e.fullname,p=e.liked,h=e.likes,m=e.likeCount,D=e.interactionsEnabled,A=e.icon,F=e.userStatus,Z=e.maxContentHeight,k=void 0===Z?1/0:Z,P=e.menuItems,j=e.onEditSubmit,O=e.edited,S=void 0!==O&&O,T=e.editTimestamp,R=e.onMouseEnter,M=e.onMouseLeave,N=e.onCommentClick,L=e.onLikeClick,I=e.onLikeCountInteraction,_=e.onLoadMoreLikes,W=e.likesLoading,V=e.onUserClick,z=(0,a.Z)(e,E),H="reply",q=(0,l.useState)(!1),U=(0,u.Z)(q,2),K=U[0],J=U[1],$=(0,l.useState)(!1),X=(0,u.Z)($,2),Y=X[0],G=X[1];return(0,c.jsxs)(x,(0,i.Z)((0,i.Z)({onMouseEnter:function(){null===R||void 0===R||R({id:t})},onMouseLeave:function(){null===M||void 0===M||M({id:t})}},z),{},{children:[(0,c.jsx)(B.Z,(0,i.Z)({},{variant:H,id:t,fullname:f,username:d,postTimestamp:r,content:o,avatarSrc:n,icon:A,userStatus:F,menuItems:P,edited:S,editTimestamp:T,onEditSubmit:j,onUserClick:V,setEditMode:J})),(0,c.jsxs)(w,{children:[(0,c.jsxs)(v.Z,{container:{direction:"column",pad:[0,K?0:2,0,0]},item:{grow:1},children:[K?(0,c.jsx)(y.Z,(0,i.Z)({},{variant:H,id:t,content:o,setEditMode:J,onEditSubmit:j,emptyEditText:Y,setEmptyEditText:G})):(0,c.jsx)(C.Z,{maxContentHeight:k,children:o}),(0,c.jsx)(g.ZP,{variant:H,attachments:s,readOnly:!0})]}),(0,c.jsx)(b.Z,(0,i.Z)({},{variant:H,id:t,username:d,liked:p,likes:h,likeCount:m,interactionsEnabled:D,likesLoading:W,onCommentClick:N,onLikeClick:L,onLikeCountInteraction:I,onLoadMoreLikes:_}))]})]}))}},3545:function(e,t,n){"use strict";n.d(t,{Z:function(){return Mu}});var r=n(30168),o=n(1413),i=n(29439),u=n(44925),a=n(80184),s=n(72791),c=n(80068),l=n(15615),d=n(73315),f=n(93433),p=n(74165),v=n(4942),h=n(37762);function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function D(e){var t,n;return!1!==m(e)&&(void 0===(t=e.constructor)||!1!==m(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function C(e){return!!e&&!!e[ue]}function B(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ae}(e)||Array.isArray(e)||!!e[ie]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ie])||F(e)||Z(e))}function b(e,t,n){void 0===n&&(n=!1),0===y(e)?(n?Object.keys:se)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function y(e){var t=e[ue];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:F(e)?2:Z(e)?3:0}function E(e,t){return 2===y(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){return 2===y(e)?e.get(t):e[t]}function w(e,t,n){var r=y(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function A(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){return te&&e instanceof Map}function Z(e){return ne&&e instanceof Set}function k(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ce(e);delete t[ue];for(var n=se(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),S(e)||C(e)||!B(e)||(y(e)>1&&(e.set=e.add=e.clear=e.delete=O),Object.freeze(e),t&&b(e,(function(e,t){return j(t,!0)}),!0)),e}function O(){g(2)}function S(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function T(e){var t=le[e];return t||g(18,e),t}function R(){return Q}function M(e,t){t&&(T("Patches"),e.u=[],e.s=[],e.v=t)}function N(e){L(e),e.p.forEach(_),e.p=null}function L(e){e===Q&&(Q=e.l)}function I(e){return Q={p:[],l:Q,h:e,m:!0,_:0}}function _(e){var t=e[ue];0===t.i||1===t.i?t.j():t.g=!0}function W(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||T("ES5").S(t,e,r),r?(n[ue].P&&(N(t),g(4)),B(e)&&(e=V(t,e),t.l||H(t,e)),t.u&&T("Patches").M(n[ue].t,e,t.u,t.s)):e=V(t,n,[]),N(t),t.u&&t.v(t.u,t.s),e!==oe?e:void 0}function V(e,t,n){if(S(t))return t;var r=t[ue];if(!r)return b(t,(function(o,i){return z(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return H(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=P(r.k):r.o,i=o,u=!1;3===r.i&&(i=new Set(o),o.clear(),u=!0),b(i,(function(t,i){return z(e,r,o,t,i,n,u)})),H(e,o,!1),n&&e.u&&T("Patches").N(r,n,e.u,e.s)}return r.o}function z(e,t,n,r,o,i,u){if(C(o)){var a=V(e,o,i&&t&&3!==t.i&&!E(t.R,r)?i.concat(r):void 0);if(w(n,r,a),!C(a))return;e.m=!1}else u&&n.add(o);if(B(o)&&!S(o)){if(!e.h.D&&e._<1)return;V(e,o),t&&t.A.l||H(e,o)}}function H(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&j(t,n)}function q(e,t){var n=e[ue];return(n?k(n):e)[t]}function U(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function J(e){e.o||(e.o=P(e.t))}function $(e,t,n){var r=F(t)?T("MapSet").F(t,n):Z(t)?T("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:R(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=de;n&&(o=[r],i=fe);var u=Proxy.revocable(o,i),a=u.revoke,s=u.proxy;return r.k=s,r.j=a,s}(t,n):T("ES5").J(t,n);return(n?n.A:R()).p.push(r),r}function X(e){return C(e)||g(22,e),function e(t){if(!B(t))return t;var n,r=t[ue],o=y(t);if(r){if(!r.P&&(r.i<4||!T("ES5").K(r)))return r.t;r.I=!0,n=Y(t,o),r.I=!1}else n=Y(t,o);return b(n,(function(t,o){r&&x(r.t,t)===o||w(n,t,e(o))})),3===o?new Set(n):n}(e)}function Y(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}var G,Q,ee="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),te="undefined"!=typeof Map,ne="undefined"!=typeof Set,re="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oe=ee?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),ie=ee?Symbol.for("immer-draftable"):"__$immer_draftable",ue=ee?Symbol.for("immer-state"):"__$immer_state",ae=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),se="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ce=Object.getOwnPropertyDescriptors||function(e){var t={};return se(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},le={},de={get:function(e,t){if(t===ue)return e;var n=k(e);if(!E(n,t))return function(e,t,n){var r,o=U(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!B(r)?r:r===q(e.t,t)?(J(e),e.o[t]=$(e.A.h,r,e)):r},has:function(e,t){return t in k(e)},ownKeys:function(e){return Reflect.ownKeys(k(e))},set:function(e,t,n){var r=U(k(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=q(k(e),t),i=null==o?void 0:o[ue];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(A(n,o)&&(void 0!==n||E(e.t,t)))return!0;J(e),K(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.R[t]=!1,J(e),K(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=k(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){g(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){g(12)}},fe={};b(de,(function(e,t){fe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),fe.deleteProperty=function(e,t){return fe.set.call(this,e,t,void 0)},fe.set=function(e,t,n){return de.set.call(this,e[0],t,n,e[0])};var pe=function(){function e(e){var t=this;this.O=re,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,u=Array(r>1?r-1:0),a=1;a<r;a++)u[a-1]=arguments[a];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(u))}))}}var u;if("function"!=typeof n&&g(6),void 0!==r&&"function"!=typeof r&&g(7),B(e)){var a=I(t),s=$(t,e,void 0),c=!0;try{u=n(s),c=!1}finally{c?N(a):L(a)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return M(a,r),W(e,a)}),(function(e){throw N(a),e})):(M(a,r),W(u,a))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===oe&&(u=void 0),t.D&&j(u,!0),r){var l=[],d=[];T("Patches").M(e,u,l,d),r(l,d)}return u}g(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){B(e)||g(8),C(e)&&(e=X(e));var t=I(this),n=$(this,e,void 0);return n[ue].C=!0,L(t),n},t.finishDraft=function(e,t){var n=(e&&e[ue]).A;return M(n,t),W(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!re&&g(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=T("Patches").$;return C(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ve=new pe,he=ve.produce,me=(ve.produceWithPatches.bind(ve),ve.setAutoFreeze.bind(ve),ve.setUseProxies.bind(ve),ve.applyPatches.bind(ve),ve.createDraft.bind(ve)),De=ve.finishDraft.bind(ve);function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=new WeakMap,Be=new WeakMap,be=new WeakMap,ye=new WeakMap,Ee=new WeakMap,xe=new WeakMap,we=new WeakMap;function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return Bt.levels(t);case"insert_node":var n=e.node,r=e.path,o=Bt.levels(r),u=Rt.isText(n)?[]:Array.from(mt.nodes(n),(function(e){var t=(0,i.Z)(e,2)[1];return r.concat(t)}));return[].concat((0,f.Z)(o),(0,f.Z)(u));case"merge_node":var a=e.path,s=Bt.ancestors(a),c=Bt.previous(a);return[].concat((0,f.Z)(s),[c]);case"move_node":var l=e.path,d=e.newPath;if(Bt.equals(l,d))return[];var p,v=[],m=[],D=(0,h.Z)(Bt.ancestors(l));try{for(D.s();!(p=D.n()).done;){var g=p.value,C=Bt.transform(g,e);v.push(C)}}catch(O){D.e(O)}finally{D.f()}var B,b=(0,h.Z)(Bt.ancestors(d));try{for(b.s();!(B=b.n()).done;){var y=B.value,E=Bt.transform(y,e);m.push(E)}}catch(O){b.e(O)}finally{b.f()}var x=m[m.length-1],w=d[d.length-1],A=x.concat(w);return[].concat(v,m,[A]);case"remove_node":var F=e.path,Z=Bt.ancestors(F);return(0,f.Z)(Z);case"split_node":var k=e.path,P=Bt.levels(k),j=Bt.next(k);return[].concat((0,f.Z)(P),[j]);default:return[]}};function ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Pe,je=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,o=n?Le(e):e,u=Pe.None,a=Pe.None,s=0,c=null,l=(0,h.Z)(o);try{for(l.s();!(t=l.n()).done;){var d=t.value,f=d.codePointAt(0);if(!f)break;var p=Xe(d,f),v=r?[a,p]:[p,u],m=(0,i.Z)(v,2);if(u=m[0],a=m[1],Ye(u,Pe.ZWJ)&&Ye(a,Pe.ExtPict)&&!tt(r?e.substring(0,s):e.substring(0,e.length-s)))break;if(Ye(u,Pe.RI)&&Ye(a,Pe.RI)&&!(c=null!==c?!c:!!r||rt(e.substring(0,e.length-s))))break;if(u!==Pe.None&&a!==Pe.None&&Qe(u,a))break;s+=d.length}}catch(D){l.e(D)}finally{l.f()}return s||1},Oe=/\s/,Se=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Te=/['\u2018\u2019]/,Re=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var o=je(e,t),u=Me(e,o,t),a=(0,i.Z)(u,2),s=a[0],c=a[1];if(Ne(s,c,t))r=!0,n+=o;else{if(r)break;n+=o}e=c}return n},Me=function(e,t,n){if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},Ne=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Oe.test(t))return!1;if(Te.test(t)){var o=je(n,r),u=Me(n,o,r),a=(0,i.Z)(u,2);if(e(a[0],a[1],r))return!0}return!Se.test(t)},Le=(0,p.Z)().mark((function e(t){var n,r,o,i;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length-1,r=0;case 2:if(!(r<t.length)){e.next=16;break}if(o=t.charAt(n-r),!_e(o.charCodeAt(0))){e.next=11;break}if(i=t.charAt(n-r-1),!Ie(i.charCodeAt(0))){e.next=11;break}return e.next=9,i+o;case 9:return r++,e.abrupt("continue",13);case 11:return e.next=13,o;case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),Ie=function(e){return e>=55296&&e<=56319},_e=function(e){return e>=56320&&e<=57343};!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(Pe||(Pe={}));var We=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ve=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ze=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,He=/^[\u1100-\u115F\uA960-\uA97C]$/,qe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ue=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Ke=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Je=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,$e=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Xe=function(e,t){var n=Pe.Any;return-1!==e.search(We)&&(n|=Pe.Extend),8205===t&&(n|=Pe.ZWJ),t>=127462&&t<=127487&&(n|=Pe.RI),-1!==e.search(Ve)&&(n|=Pe.Prepend),-1!==e.search(ze)&&(n|=Pe.SpacingMark),-1!==e.search(He)&&(n|=Pe.L),-1!==e.search(qe)&&(n|=Pe.V),-1!==e.search(Ue)&&(n|=Pe.T),-1!==e.search(Ke)&&(n|=Pe.LV),-1!==e.search(Je)&&(n|=Pe.LVT),-1!==e.search($e)&&(n|=Pe.ExtPict),n};function Ye(e,t){return 0!==(e&t)}var Ge=[[Pe.L,Pe.L|Pe.V|Pe.LV|Pe.LVT],[Pe.LV|Pe.V,Pe.V|Pe.T],[Pe.LVT|Pe.T,Pe.T],[Pe.Any,Pe.Extend|Pe.ZWJ],[Pe.Any,Pe.SpacingMark],[Pe.Prepend,Pe.Any],[Pe.ZWJ,Pe.ExtPict],[Pe.RI,Pe.RI]];function Qe(e,t){return-1===Ge.findIndex((function(n){return Ye(e,n[0])&&Ye(t,n[1])}))}var et=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,tt=function(e){return-1!==e.search(et)},nt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,rt=function(e){var t=e.match(nt);return null!==t&&t[0].length/2%2===1},ot=function(e){return D(e)&&mt.isNodeList(e.children)&&!dt.isEditor(e)},it={isAncestor:function(e){return D(e)&&mt.isNodeList(e.children)},isElement:ot,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return it.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ot(e)&&e[n]===t},matches:function(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},ut=["text"],at=["text"];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=new WeakMap,dt={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.voids,r=void 0!==n&&n,o=t.mode,u=void 0===o?"lowest":o,a=t.at,s=void 0===a?e.selection:a,c=t.match;if(s){var l,d=dt.path(e,s),f="lowest"===u,p=(0,h.Z)(dt.levels(e,{at:d,voids:r,match:c,reverse:f}));try{for(p.s();!(l=p.n()).done;){var v=(0,i.Z)(l.value,2),m=v[0],D=v[1];if(!Rt.isText(m)&&!Bt.equals(d,D))return[m,D]}}catch(g){p.e(g)}finally{p.f()}}},addMark:function(e,t,n){e.addMark(t,n)},after:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:dt.point(e,t,{edge:"end"}),focus:dt.end(e,[])},u=o.distance,a=void 0===u?1:u,s=0,c=(0,h.Z)(dt.positions(e,ct(ct({},o),{},{at:i})));try{for(c.s();!(r=c.n()).done;){var l=r.value;if(s>a)break;0!==s&&(n=l),s++}}catch(d){c.e(d)}finally{c.f()}return n},before:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:dt.start(e,[]),focus:dt.point(e,t,{edge:"start"})},u=o.distance,a=void 0===u?1:u,s=0,c=(0,h.Z)(dt.positions(e,ct(ct({},o),{},{at:i,reverse:!0})));try{for(c.s();!(r=c.n()).done;){var l=r.value;if(s>a)break;0!==s&&(n=l),s++}}catch(d){c.e(d)}finally{c.f()}return n},deleteBackward:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===t?"character":t;e.deleteBackward(n)},deleteForward:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===t?"character":t;e.deleteForward(n)},deleteFragment:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).direction,n=void 0===t?"forward":t;e.deleteFragment(n)},edges:function(e,t){return[dt.start(e,t),dt.end(e,t)]},end:function(e,t){return dt.point(e,t,{edge:"end"})},first:function(e,t){var n=dt.path(e,t,{edge:"start"});return dt.node(e,n)},fragment:function(e,t){var n=dt.range(e,t),r=mt.fragment(e,n);return r},hasBlocks:function(e,t){return t.children.some((function(t){return dt.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return Rt.isText(t)||dt.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return Rt.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertSoftBreak:function(e){e.insertSoftBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return it.isElement(t)&&!e.isInline(t)},isEditor:function(e){if(!D(e))return!1;var t=lt.get(e);if(void 0!==t)return t;var n="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertSoftBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&(null===e.marks||D(e.marks))&&(null===e.selection||Zt.isRange(e.selection))&&mt.isNodeList(e.children)&&Ct.isOperationList(e.operations);return lt.set(e,n),n},isEnd:function(e,t,n){var r=dt.end(e,n);return xt.equals(t,r)},isEdge:function(e,t,n){return dt.isStart(e,t,n)||dt.isEnd(e,t,n)},isEmpty:function(e,t){var n=t.children,r=(0,i.Z)(n,1)[0];return 0===n.length||1===n.length&&Rt.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:function(e,t){return it.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=ye.get(e);return void 0===t||t},isStart:function(e,t,n){if(0!==t.offset)return!1;var r=dt.start(e,n);return xt.equals(t,r)},isVoid:function(e,t){return it.isElement(t)&&e.isVoid(t)},last:function(e,t){var n=dt.path(e,t,{edge:"end"});return dt.node(e,n)},leaf:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dt.path(e,t,n);return[mt.leaf(e,r),r]},levels:(0,p.Z)().mark((function(e){var t,n,r,o,u,a,s,c,l,d,f,v,m,D,g,C=arguments;return(0,p.Z)().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=(t=C.length>1&&void 0!==C[1]?C[1]:{}).at,r=void 0===n?e.selection:n,o=t.reverse,u=void 0!==o&&o,a=t.voids,s=void 0!==a&&a,null==(c=t.match)&&(c=function(){return!0}),r){p.next=6;break}return p.abrupt("return");case 6:l=[],d=dt.path(e,r),f=(0,h.Z)(mt.levels(e,d)),p.prev=9,f.s();case 11:if((v=f.n()).done){p.next=20;break}if(m=(0,i.Z)(v.value,2),D=m[0],g=m[1],c(D,g)){p.next=15;break}return p.abrupt("continue",18);case 15:if(l.push([D,g]),s||!dt.isVoid(e,D)){p.next=18;break}return p.abrupt("break",20);case 18:p.next=11;break;case 20:p.next=25;break;case 22:p.prev=22,p.t0=p.catch(9),f.e(p.t0);case 25:return p.prev=25,f.f(),p.finish(25);case 28:return u&&l.reverse(),p.delegateYield(l,"t1",30);case 30:case"end":return p.stop()}}),l,null,[[9,22,25,28]])})),marks:function(e){var t=e.marks,n=e.selection;if(!n)return null;if(t)return t;if(Zt.isExpanded(n)){var r=dt.nodes(e,{match:Rt.isText}),o=(0,i.Z)(r,1)[0];return o?ke((0,i.Z)(o,1)[0],ut):{}}var u=n.anchor,a=u.path,s=dt.leaf(e,a),c=(0,i.Z)(s,1)[0];if(0===u.offset){var l=dt.previous(e,{at:a,match:Rt.isText}),d=dt.above(e,{match:function(t){return dt.isBlock(e,t)}});if(l&&d){var f=(0,i.Z)(l,2),p=f[0],v=f[1],h=(0,i.Z)(d,2)[1];Bt.isAncestor(h,v)&&(c=p)}}return ke(c,at)},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,u=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s;if(c){var l=dt.after(e,c,{voids:u});if(l){var d=dt.last(e,[]),f=(0,i.Z)(d,2)[1],p=[l.path,f];if(Bt.isPath(c)&&0===c.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(Bt.isPath(c)){var v=dt.parent(e,c),h=(0,i.Z)(v,1)[0];a=function(e){return h.children.includes(e)}}else a=function(){return!0};var m=dt.nodes(e,{at:p,match:a,mode:r,voids:u}),D=(0,i.Z)(m,1)[0];return D}}},node:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dt.path(e,t,n),o=mt.get(e,r);return[o,r]},nodes:(0,p.Z)().mark((function e(t){var n,r,o,u,a,s,c,l,d,f,v,m,D,g,C,B,b,y,E,x,w,A,F,Z,k,P,j=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=j.length>1&&void 0!==j[1]?j[1]:{}).at,o=void 0===r?t.selection:r,u=n.mode,a=void 0===u?"all":u,s=n.universal,c=void 0!==s&&s,l=n.reverse,d=void 0!==l&&l,f=n.voids,v=void 0!==f&&f,(m=n.match)||(m=function(){return!0}),o){e.next=6;break}return e.abrupt("return");case 6:ft.isSpan(o)?(D=o[0],g=o[1]):(C=dt.path(t,o,{edge:"start"}),B=dt.path(t,o,{edge:"end"}),D=d?B:C,g=d?C:B),b=mt.nodes(t,{reverse:d,from:D,to:g,pass:function(e){var n=(0,i.Z)(e,1)[0];return!v&&dt.isVoid(t,n)}}),y=[],x=(0,h.Z)(b),e.prev=10,x.s();case 12:if((w=x.n()).done){e.next=37;break}if(A=(0,i.Z)(w.value,2),F=A[0],Z=A[1],k=E&&0===Bt.compare(Z,E[1]),"highest"!==a||!k){e.next=17;break}return e.abrupt("continue",35);case 17:if(m(F,Z)){e.next=23;break}if(!c||k||!Rt.isText(F)){e.next=22;break}return e.abrupt("return");case 22:return e.abrupt("continue",35);case 23:if("lowest"!==a||!k){e.next=26;break}return E=[F,Z],e.abrupt("continue",35);case 26:if(!(P="lowest"===a?E:[F,Z])){e.next=34;break}if(!c){e.next=32;break}y.push(P),e.next=34;break;case 32:return e.next=34,P;case 34:E=[F,Z];case 35:e.next=12;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),x.e(e.t0);case 42:return e.prev=42,x.f(),e.finish(42);case 45:if("lowest"!==a||!E){e.next=52;break}if(!c){e.next=50;break}y.push(E),e.next=52;break;case 50:return e.next=52,E;case 52:if(!c){e.next=54;break}return e.delegateYield(y,"t1",54);case 54:case"end":return e.stop()}}),e,null,[[10,39,42,45]])})),normalize:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,n=void 0!==t&&t,r=function(e){return Ce.get(e)||[]},o=function(e){var t=r(e).pop(),n=t.join(",");return function(e){return Be.get(e)||new Set}(e).delete(n),t};if(dt.isNormalizing(e)){if(n){var u=Array.from(mt.nodes(e),(function(e){return(0,i.Z)(e,2)[1]})),a=new Set(u.map((function(e){return e.join(",")})));Ce.set(e,u),Be.set(e,a)}0!==r(e).length&&dt.withoutNormalizing(e,(function(){var t,n=(0,h.Z)(r(e));try{for(n.s();!(t=n.n()).done;){var u=t.value;if(mt.has(e,u)){var a=dt.node(e,u),s=a,c=(0,i.Z)(s,2),l=c[0];c[1];it.isElement(l)&&0===l.children.length&&e.normalizeNode(a)}}}catch(m){n.e(m)}finally{n.f()}for(var d=42*r(e).length,f=0;0!==r(e).length;){if(f>d)throw new Error("\n            Could not completely normalize the editor after ".concat(d," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var p=o(e);if(mt.has(e,p)){var v=dt.node(e,p);e.normalizeNode(v)}f++}}))}},parent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dt.path(e,t,n),o=Bt.parent(r);return dt.node(e,o)},path:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,o=n.edge;if(Bt.isPath(t))if("start"===o){var u=mt.first(e,t);t=(0,i.Z)(u,2)[1]}else if("end"===o){var a=mt.last(e,t);t=(0,i.Z)(a,2)[1]}return Zt.isRange(t)&&(t="start"===o?Zt.start(t):"end"===o?Zt.end(t):Bt.common(t.anchor.path,t.focus.path)),xt.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:function(e,t){return mt.has(e,t)},pathRef:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return dt.pathRefs(e).delete(r),r.current=null,t}};return dt.pathRefs(e).add(r),r},pathRefs:function(e){var t=Ee.get(e);return t||(t=new Set,Ee.set(e,t)),t},point:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).edge,r=void 0===n?"start":n;if(Bt.isPath(t)){var o;if("end"===r){var u=mt.last(e,t);o=(0,i.Z)(u,2)[1]}else{var a=mt.first(e,t);o=(0,i.Z)(a,2)[1]}var s=mt.get(e,o);if(!Rt.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:o,offset:"end"===r?s.text.length:0}}if(Zt.isRange(t)){var c=Zt.edges(t),l=(0,i.Z)(c,2),d=l[0],f=l[1];return"start"===r?d:f}return t},pointRef:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return dt.pointRefs(e).delete(r),r.current=null,t}};return dt.pointRefs(e).add(r),r},pointRefs:function(e){var t=xe.get(e);return t||(t=new Set,xe.set(e,t)),t},positions:(0,p.Z)().mark((function e(t){var n,r,o,u,a,s,c,l,d,f,v,m,D,g,C,B,b,y,E,x,w,A,F,Z,k,P,j,O,S,T=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S=function(e,t,n){return"character"===t?je(e,n):"word"===t?Re(e,n):"line"===t||"block"===t?e.length:1},r=(n=T.length>1&&void 0!==T[1]?T[1]:{}).at,o=void 0===r?t.selection:r,u=n.unit,a=void 0===u?"offset":u,s=n.reverse,c=void 0!==s&&s,l=n.voids,d=void 0!==l&&l,o){e.next=5;break}return e.abrupt("return");case 5:f=dt.range(t,o),v=Zt.edges(f),m=(0,i.Z)(v,2),D=m[0],g=m[1],C=c?g:D,B=!1,b="",y=0,E=0,x=0,w=(0,h.Z)(dt.nodes(t,{at:o,reverse:c,voids:d})),e.prev=14,w.s();case 16:if((A=w.n()).done){e.next=51;break}if(F=(0,i.Z)(A.value,2),Z=F[0],k=F[1],!it.isElement(Z)){e.next=26;break}if(d||!t.isVoid(Z)){e.next=23;break}return e.next=22,dt.start(t,k);case 22:return e.abrupt("continue",49);case 23:if(!t.isInline(Z)){e.next=25;break}return e.abrupt("continue",49);case 25:dt.hasInlines(t,Z)&&(P=Bt.isAncestor(k,g.path)?g:dt.end(t,k),j=Bt.isAncestor(k,D.path)?D:dt.start(t,k),b=dt.string(t,{anchor:j,focus:P},{voids:d}),B=!0);case 26:if(!Rt.isText(Z)){e.next=49;break}if((O=Bt.equals(k,C.path))?(E=c?C.offset:Z.text.length-C.offset,x=C.offset):(E=Z.text.length,x=c?E:0),!O&&!B&&"offset"!==a){e.next=33;break}return e.next=32,{path:k,offset:x};case 32:B=!1;case 33:if(0!==y){e.next=39;break}if(""!==b){e.next=37;break}return e.abrupt("break",49);case 37:y=S(b,a,c),b=Me(b,y,c)[1];case 39:if(x=c?x-y:x+y,!((E-=y)<0)){e.next=44;break}return y=-E,e.abrupt("break",49);case 44:return y=0,e.next=47,{path:k,offset:x};case 47:e.next=33;break;case 49:e.next=16;break;case 51:e.next=56;break;case 53:e.prev=53,e.t0=e.catch(14),w.e(e.t0);case 56:return e.prev=56,w.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[14,53,56,59]])})),previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,u=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s;if(c){var l=dt.before(e,c,{voids:u});if(l){var d=dt.first(e,[]),f=(0,i.Z)(d,2)[1],p=[l.path,f];if(Bt.isPath(c)&&0===c.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(Bt.isPath(c)){var v=dt.parent(e,c),h=(0,i.Z)(v,1)[0];a=function(e){return h.children.includes(e)}}else a=function(){return!0};var m=dt.nodes(e,{reverse:!0,at:p,match:a,mode:r,voids:u}),D=(0,i.Z)(m,1)[0];return D}}},range:function(e,t,n){return Zt.isRange(t)&&!n?t:{anchor:dt.start(e,t),focus:dt.end(e,n||t)}},rangeRef:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return dt.rangeRefs(e).delete(r),r.current=null,t}};return dt.rangeRefs(e).add(r),r},rangeRefs:function(e){var t=we.get(e);return t||(t=new Set,we.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){ye.set(e,t)},start:function(e,t){return dt.point(e,t,{edge:"start"})},string:function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,o=void 0!==r&&r,u=dt.range(e,t),a=Zt.edges(u),s=(0,i.Z)(a,2),c=s[0],l=s[1],d="",f=(0,h.Z)(dt.nodes(e,{at:u,match:Rt.isText,voids:o}));try{for(f.s();!(n=f.n()).done;){var p=(0,i.Z)(n.value,2),v=p[0],m=p[1],D=v.text;Bt.equals(m,l.path)&&(D=D.slice(0,l.offset)),Bt.equals(m,c.path)&&(D=D.slice(c.offset)),d+=D}}catch(g){f.e(g)}finally{f.f()}return d},unhangRange:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,r=void 0!==n&&n,o=Zt.edges(t),u=(0,i.Z)(o,2),a=u[0],s=u[1];if(0!==a.offset||0!==s.offset||Zt.isCollapsed(t))return t;var c,l=dt.above(e,{at:s,match:function(t){return dt.isBlock(e,t)}}),d=l?l[1]:[],f={anchor:dt.start(e,a),focus:s},p=!0,v=(0,h.Z)(dt.nodes(e,{at:f,match:Rt.isText,reverse:!0,voids:r}));try{for(v.s();!(c=v.n()).done;){var m=(0,i.Z)(c.value,2),D=m[0],g=m[1];if(p)p=!1;else if(""!==D.text||Bt.isBefore(g,d)){s={path:g,offset:D.text.length};break}}}catch(C){v.e(C)}finally{v.f()}return{anchor:a,focus:s}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dt.above(e,ct(ct({},t),{},{match:function(t){return dt.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var n=dt.isNormalizing(e);dt.setNormalizing(e,!1);try{t()}finally{dt.setNormalizing(e,n)}dt.normalize(e)}},ft={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(Bt.isPath)}},pt=["children"],vt=["text"],ht=new WeakMap,mt={ancestor:function(e,t){var n=mt.get(e,t);if(Rt.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},ancestors:(0,p.Z)().mark((function e(t,n){var r,o,i,u,a,s,c=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:{},o=(0,h.Z)(Bt.ancestors(n,r)),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=12;break}return u=i.value,a=mt.ancestor(t,u),s=[a,u],e.next=10,s;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(Rt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},children:(0,p.Z)().mark((function(e,t){var n,r,o,i,u,a,s,c=arguments;return(0,p.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=(c.length>2&&void 0!==c[2]?c[2]:{}).reverse,r=void 0!==n&&n,o=mt.ancestor(e,t),i=o.children,u=r?i.length-1:0;case 5:if(!(r?u>=0:u<i.length)){l.next=13;break}return a=mt.child(o,u),s=t.concat(u),l.next=10,[a,s];case 10:u=r?u-1:u+1,l.next=5;break;case 13:case"end":return l.stop()}}),i)})),common:function(e,t,n){var r=Bt.common(t,n);return[mt.get(e,r),r]},descendant:function(e,t){var n=mt.get(e,t);if(dt.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},descendants:(0,p.Z)().mark((function e(t){var n,r,o,u,a,s,c=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=(0,h.Z)(mt.nodes(t,n)),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=11;break}if(u=(0,i.Z)(o.value,2),a=u[0],0===(s=u[1]).length){e.next=9;break}return e.next=9,[a,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:(0,p.Z)().mark((function e(t){var n,r,o,u,a,s,c=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=(0,h.Z)(mt.nodes(t,n)),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=11;break}if(u=(0,i.Z)(o.value,2),a=u[0],s=u[1],!it.isElement(a)){e.next=9;break}return e.next=9,[a,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),extractProps:function(e){return it.isAncestor(e)?ke(e,pt):ke(e,vt)},first:function(e,t){for(var n=t.slice(),r=mt.get(e,n);r&&!Rt.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(e,t){if(Rt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var n=he({children:e.children},(function(e){var n,r=Zt.edges(t),o=(0,i.Z)(r,2),u=o[0],a=o[1],s=mt.nodes(e,{reverse:!0,pass:function(e){var n=(0,i.Z)(e,2)[1];return!Zt.includes(t,n)}}),c=(0,h.Z)(s);try{for(c.s();!(n=c.n()).done;){var l=(0,i.Z)(n.value,2)[1];if(!Zt.includes(t,l)){var d=mt.parent(e,l),f=l[l.length-1];d.children.splice(f,1)}if(Bt.equals(l,a.path)){var p=mt.leaf(e,l);p.text=p.text.slice(0,a.offset)}if(Bt.equals(l,u.path)){var v=mt.leaf(e,l);v.text=v.text.slice(u.offset)}}}catch(m){c.e(m)}finally{c.f()}dt.isEditor(e)&&(e.selection=null)}));return n.children},get:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Rt.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[o]}return n},has:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Rt.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode:function(e){return Rt.isText(e)||it.isElement(e)||dt.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=ht.get(e);if(void 0!==t)return t;var n=e.every((function(e){return mt.isNode(e)}));return ht.set(e,n),n},last:function(e,t){for(var n=t.slice(),r=mt.get(e,n);r&&!Rt.isText(r)&&0!==r.children.length;){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf:function(e,t){var n=mt.get(e,t);if(!Rt.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},levels:(0,p.Z)().mark((function e(t,n){var r,o,i,u,a,s=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>2&&void 0!==s[2]?s[2]:{},o=(0,h.Z)(Bt.levels(n,r)),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=11;break}return u=i.value,a=mt.get(t,u),e.next=9,[a,u];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o.e(e.t0);case 16:return e.prev=16,o.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return it.isElement(e)&&it.isElementProps(t)&&it.matches(e,t)||Rt.isText(e)&&Rt.isTextProps(t)&&Rt.matches(e,t)},nodes:(0,p.Z)().mark((function e(t){var n,r,o,i,u,a,s,c,l,d,f,v,h,m=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=m.length>1&&void 0!==m[1]?m[1]:{}).pass,o=n.reverse,i=void 0!==o&&o,u=n.from,a=void 0===u?[]:u,s=n.to,c=new Set,l=[],d=t;case 6:if(!s||!(i?Bt.isBefore(l,s):Bt.isAfter(l,s))){e.next=9;break}return e.abrupt("break",37);case 9:if(c.has(d)){e.next=12;break}return e.next=12,[d,l];case 12:if(c.has(d)||Rt.isText(d)||0===d.children.length||null!=r&&!1!==r([d,l])){e.next=19;break}return c.add(d),f=i?d.children.length-1:0,Bt.isAncestor(l,a)&&(f=a[l.length]),l=l.concat(f),d=mt.get(t,l),e.abrupt("continue",6);case 19:if(0!==l.length){e.next=21;break}return e.abrupt("break",37);case 21:if(i){e.next=27;break}if(v=Bt.next(l),!mt.has(t,v)){e.next=27;break}return l=v,d=mt.get(t,l),e.abrupt("continue",6);case 27:if(!i||0===l[l.length-1]){e.next=32;break}return h=Bt.previous(l),l=h,d=mt.get(t,l),e.abrupt("continue",6);case 32:l=Bt.parent(l),d=mt.get(t,l),c.add(d),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var n=Bt.parent(t),r=mt.get(e,n);if(Rt.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return Rt.isText(e)?e.text:e.children.map(mt.string).join("")},texts:(0,p.Z)().mark((function e(t){var n,r,o,u,a,s,c=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=(0,h.Z)(mt.nodes(t,n)),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=11;break}if(u=(0,i.Z)(o.value,2),a=u[0],s=u[1],!Rt.isText(a)){e.next=9;break}return e.next=9,[a,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct={isNodeOperation:function(e){return Ct.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!D(e))return!1;switch(e.type){case"insert_node":case"remove_node":return Bt.isPath(e.path)&&mt.isNode(e.node);case"insert_text":case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&Bt.isPath(e.path);case"merge_node":return"number"===typeof e.position&&Bt.isPath(e.path)&&D(e.properties);case"move_node":return Bt.isPath(e.path)&&Bt.isPath(e.newPath);case"set_node":return Bt.isPath(e.path)&&D(e.properties)&&D(e.newProperties);case"set_selection":return null===e.properties&&Zt.isRange(e.newProperties)||null===e.newProperties&&Zt.isRange(e.properties)||D(e.properties)&&D(e.newProperties);case"split_node":return Bt.isPath(e.path)&&"number"===typeof e.position&&D(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return Ct.isOperation(e)}))},isSelectionOperation:function(e){return Ct.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return Ct.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return gt(gt({},e),{},{type:"remove_node"});case"insert_text":return gt(gt({},e),{},{type:"remove_text"});case"merge_node":return gt(gt({},e),{},{type:"split_node",path:Bt.previous(e.path)});case"move_node":var t=e.newPath,n=e.path;if(Bt.equals(t,n))return e;if(Bt.isSibling(n,t))return gt(gt({},e),{},{path:t,newPath:n});var r=Bt.transform(n,e),o=Bt.transform(Bt.next(n),e);return gt(gt({},e),{},{path:r,newPath:o});case"remove_node":return gt(gt({},e),{},{type:"insert_node"});case"remove_text":return gt(gt({},e),{},{type:"insert_text"});case"set_node":var i=e.properties,u=e.newProperties;return gt(gt({},e),{},{properties:u,newProperties:i});case"set_selection":var a=e.properties,s=e.newProperties;return gt(gt({},e),{},null==a?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:a}:{properties:s,newProperties:a});case"split_node":return gt(gt({},e),{},{type:"merge_node",path:Bt.next(e.path)})}}},Bt={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=Bt.levels(e,t);return o=r?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r];if(o!==t[r])break;n.push(o)}return n},compare:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],u=t[n];return Bt.equals(r,o)&&i>u},endsAt:function(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return Bt.equals(r,o)},endsBefore:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],u=t[n];return Bt.equals(r,o)&&i<u},equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===Bt.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===Bt.compare(e,t)},isBefore:function(e,t){return-1===Bt.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===Bt.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===Bt.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===Bt.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===Bt.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Bt.equals(n,r)},levels:function(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,n=void 0!==t&&t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath:function(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!Bt.isAncestor(t,e)&&!Bt.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,(function(r){var o=n.affinity,i=void 0===o?"forward":o;if(e&&0!==(null===e||void 0===e?void 0:e.length)){if(null===r)return null;switch(t.type){case"insert_node":var u=t.path;(Bt.equals(u,r)||Bt.endsBefore(u,r)||Bt.isAncestor(u,r))&&(r[u.length-1]+=1);break;case"remove_node":var a=t.path;if(Bt.equals(a,r)||Bt.isAncestor(a,r))return null;Bt.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var s=t.path,c=t.position;Bt.equals(s,r)||Bt.endsBefore(s,r)?r[s.length-1]-=1:Bt.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=c);break;case"split_node":var l=t.path,d=t.position;if(Bt.equals(l,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else Bt.endsBefore(l,r)?r[l.length-1]+=1:Bt.isAncestor(l,r)&&e[l.length]>=d&&(r[l.length-1]+=1,r[l.length]-=d);break;case"move_node":var f=t.path,p=t.newPath;if(Bt.equals(f,p))return;if(Bt.isAncestor(f,r)||Bt.equals(f,r)){var v=p.slice();return Bt.endsBefore(f,p)&&f.length<p.length&&(v[f.length-1]-=1),v.concat(r.slice(f.length))}Bt.isSibling(f,p)&&(Bt.isAncestor(p,r)||Bt.equals(p,r))?Bt.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:Bt.endsBefore(p,r)||Bt.equals(p,r)||Bt.isAncestor(p,r)?(Bt.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):Bt.endsBefore(f,r)&&(Bt.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1)}}}))}},bt={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=Bt.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt={compare:function(e,t){var n=Bt.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:function(e,t){return 1===xt.compare(e,t)},isBefore:function(e,t){return-1===xt.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&Bt.equals(e.path,t.path)},isPoint:function(e){return D(e)&&"number"===typeof e.offset&&Bt.isPath(e.path)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,(function(e){if(null===e)return null;var r=n.affinity,o=void 0===r?"forward":r,i=e.path,u=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=Bt.transform(i,t,n);break;case"insert_text":Bt.equals(t.path,i)&&(t.offset<u||t.offset===u&&"forward"===o)&&(e.offset+=t.text.length);break;case"merge_node":Bt.equals(t.path,i)&&(e.offset+=t.position),e.path=Bt.transform(i,t,n);break;case"remove_text":Bt.equals(t.path,i)&&t.offset<=u&&(e.offset-=Math.min(u-t.offset,t.text.length));break;case"remove_node":if(Bt.equals(t.path,i)||Bt.isAncestor(t.path,i))return null;e.path=Bt.transform(i,t,n);break;case"split_node":if(Bt.equals(t.path,i)){if(t.position===u&&null==o)return null;(t.position<u||t.position===u&&"forward"===o)&&(e.offset-=t.position,e.path=Bt.transform(i,t,Et(Et({},n),{},{affinity:"forward"})))}else e.path=Bt.transform(i,t,n)}}))}},wt={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=xt.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},At=["anchor","focus"];function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zt={edges:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,n=void 0!==t&&t,r=e.anchor,o=e.focus;return Zt.isBackward(e)===n?[r,o]:[o,r]},end:function(e){var t=Zt.edges(e),n=(0,i.Z)(t,2)[1];return n},equals:function(e,t){return xt.equals(e.anchor,t.anchor)&&xt.equals(e.focus,t.focus)},includes:function(e,t){if(Zt.isRange(t)){if(Zt.includes(e,t.anchor)||Zt.includes(e,t.focus))return!0;var n=Zt.edges(e),r=(0,i.Z)(n,2),o=r[0],u=r[1],a=Zt.edges(t),s=(0,i.Z)(a,2),c=s[0],l=s[1];return xt.isBefore(o,c)&&xt.isAfter(u,l)}var d=Zt.edges(e),f=(0,i.Z)(d,2),p=f[0],v=f[1],h=!1,m=!1;return xt.isPoint(t)?(h=xt.compare(t,p)>=0,m=xt.compare(t,v)<=0):(h=Bt.compare(t,p.path)>=0,m=Bt.compare(t,v.path)<=0),h&&m},intersection:function(e,t){var n=ke(e,At),r=Zt.edges(e),o=(0,i.Z)(r,2),u=o[0],a=o[1],s=Zt.edges(t),c=(0,i.Z)(s,2),l=c[0],d=c[1],f=xt.isBefore(u,l)?l:u,p=xt.isBefore(a,d)?a:d;return xt.isBefore(p,f)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:f,focus:p},n)},isBackward:function(e){var t=e.anchor,n=e.focus;return xt.isAfter(t,n)},isCollapsed:function(e){var t=e.anchor,n=e.focus;return xt.equals(t,n)},isExpanded:function(e){return!Zt.isCollapsed(e)},isForward:function(e){return!Zt.isBackward(e)},isRange:function(e){return D(e)&&xt.isPoint(e.anchor)&&xt.isPoint(e.focus)},points:(0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=Zt.edges(e),n=(0,i.Z)(t,1)[0];return n},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,(function(e){if(null===e)return null;var r,o,i=n.affinity,u=void 0===i?"inward":i;if("inward"===u){var a=Zt.isCollapsed(e);Zt.isForward(e)?(r="forward",o=a?r:"backward"):(r="backward",o=a?r:"forward")}else"outward"===u?Zt.isForward(e)?(r="backward",o="forward"):(r="forward",o="backward"):(r=u,o=u);var s=xt.transform(e.anchor,t,{affinity:r}),c=xt.transform(e.focus,t,{affinity:o});if(!s||!c)return null;e.anchor=s,e.focus=c}))}},kt={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=Zt.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},Pt=function e(t,n){for(var r in t){var o=t[r],i=n[r];if(D(o)&&D(i)){if(!e(o,i))return!1}else if(Array.isArray(o)&&Array.isArray(i)){if(o.length!==i.length)return!1;for(var u=0;u<o.length;u++)if(o[u]!==i[u])return!1}else if(o!==i)return!1}for(var a in n)if(void 0===t[a]&&void 0!==n[a])return!1;return!0},jt=["text"],Ot=["anchor","focus"];function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt={equals:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).loose,r=void 0!==n&&n;function o(e){return ke(e,jt)}return Pt(r?o(e):e,r?o(t):t)},isText:function(e){return D(e)&&"string"===typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return Rt.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations:function(e,t){var n,r=[Tt({},e)],o=(0,h.Z)(t);try{for(o.s();!(n=o.n()).done;){var u,a=n.value,s=ke(a,Ot),c=Zt.edges(a),l=(0,i.Z)(c,2),d=l[0],f=l[1],p=[],v=0,m=(0,h.Z)(r);try{for(m.s();!(u=m.n()).done;){var D=u.value,g=D.text.length,C=v;if(v+=g,d.offset<=C&&f.offset>=v)Object.assign(D,s),p.push(D);else if(d.offset!==f.offset&&(d.offset===v||f.offset===C)||d.offset>v||f.offset<C||f.offset===C&&0!==C)p.push(D);else{var B=D,b=void 0,y=void 0;if(f.offset<v){var E=f.offset-C;y=Tt(Tt({},B),{},{text:B.text.slice(E)}),B=Tt(Tt({},B),{},{text:B.text.slice(0,E)})}if(d.offset>C){var x=d.offset-C;b=Tt(Tt({},B),{},{text:B.text.slice(0,x)}),B=Tt(Tt({},B),{},{text:B.text.slice(x)})}Object.assign(B,s),b&&p.push(b),p.push(B),y&&p.push(y)}}}catch(w){m.e(w)}finally{m.f()}r=p}}catch(w){o.e(w)}finally{o.f()}return r}};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt={transform:function(e,t){e.children=me(e.children);var n=e.selection&&me(e.selection);try{n=function(e,t,n){switch(n.type){case"insert_node":var r=n.path,o=n.node,u=mt.parent(e,r),a=r[r.length-1];if(a>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(u.children.splice(a,0,o),t){var s,c=(0,h.Z)(Zt.points(t));try{for(c.s();!(s=c.n()).done;){var l=(0,i.Z)(s.value,2),d=l[0];t[l[1]]=xt.transform(d,n)}}catch(He){c.e(He)}finally{c.f()}}break;case"insert_text":var p=n.path,v=n.offset,m=n.text;if(0===m.length)break;var D=mt.leaf(e,p),g=D.text.slice(0,v),C=D.text.slice(v);if(D.text=g+m+C,t){var B,b=(0,h.Z)(Zt.points(t));try{for(b.s();!(B=b.n()).done;){var y=(0,i.Z)(B.value,2),E=y[0];t[y[1]]=xt.transform(E,n)}}catch(He){b.e(He)}finally{b.f()}}break;case"merge_node":var x=n.path,w=mt.get(e,x),A=Bt.previous(x),F=mt.get(e,A),Z=mt.parent(e,x),k=x[x.length-1];if(Rt.isText(w)&&Rt.isText(F))F.text+=w.text;else{if(Rt.isText(w)||Rt.isText(F))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(w," ").concat(F));var P;(P=F.children).push.apply(P,(0,f.Z)(w.children))}if(Z.children.splice(k,1),t){var j,O=(0,h.Z)(Zt.points(t));try{for(O.s();!(j=O.n()).done;){var S=(0,i.Z)(j.value,2),T=S[0];t[S[1]]=xt.transform(T,n)}}catch(He){O.e(He)}finally{O.f()}}break;case"move_node":var R=n.path,M=n.newPath;if(Bt.isAncestor(R,M))throw new Error("Cannot move a path [".concat(R,"] to new path [").concat(M,"] because the destination is inside itself."));var N=mt.get(e,R),L=mt.parent(e,R),I=R[R.length-1];L.children.splice(I,1);var _=Bt.transform(R,n),W=mt.get(e,Bt.parent(_)),V=_[_.length-1];if(W.children.splice(V,0,N),t){var z,H=(0,h.Z)(Zt.points(t));try{for(H.s();!(z=H.n()).done;){var q=(0,i.Z)(z.value,2),U=q[0];t[q[1]]=xt.transform(U,n)}}catch(He){H.e(He)}finally{H.f()}}break;case"remove_node":var K=n.path,J=K[K.length-1];if(mt.parent(e,K).children.splice(J,1),t){var $,X=(0,h.Z)(Zt.points(t));try{for(X.s();!($=X.n()).done;){var Y=(0,i.Z)($.value,2),G=Y[0],Q=Y[1],ee=xt.transform(G,n);if(null!=t&&null!=ee)t[Q]=ee;else{var te,ne=void 0,re=void 0,oe=(0,h.Z)(mt.texts(e));try{for(oe.s();!(te=oe.n()).done;){var ie=(0,i.Z)(te.value,2),ue=ie[0],ae=ie[1];if(-1!==Bt.compare(ae,K)){re=[ue,ae];break}ne=[ue,ae]}}catch(He){oe.e(He)}finally{oe.f()}var se=!1;ne&&re&&(se=Bt.equals(re[1],K)?!Bt.hasPrevious(re[1]):Bt.common(ne[1],K).length<Bt.common(re[1],K).length),ne&&!se?(G.path=ne[1],G.offset=ne[0].text.length):re?(G.path=re[1],G.offset=0):t=null}}}catch(He){X.e(He)}finally{X.f()}}break;case"remove_text":var ce=n.path,le=n.offset,de=n.text;if(0===de.length)break;var fe=mt.leaf(e,ce),pe=fe.text.slice(0,le),ve=fe.text.slice(le+de.length);if(fe.text=pe+ve,t){var he,me=(0,h.Z)(Zt.points(t));try{for(me.s();!(he=me.n()).done;){var De=(0,i.Z)(he.value,2),ge=De[0];t[De[1]]=xt.transform(ge,n)}}catch(He){me.e(He)}finally{me.f()}}break;case"set_node":var Ce=n.path,Be=n.properties,be=n.newProperties;if(0===Ce.length)throw new Error("Cannot set properties on the root node!");var ye=mt.get(e,Ce);for(var Ee in be){if("children"===Ee||"text"===Ee)throw new Error('Cannot set the "'.concat(Ee,'" property of nodes!'));var xe=be[Ee];null==xe?delete ye[Ee]:ye[Ee]=xe}for(var we in Be)be.hasOwnProperty(we)||delete ye[we];break;case"set_selection":var Ae=n.newProperties;if(null==Ae)t=Ae;else{if(null==t){if(!Zt.isRange(Ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ae)," when there is no current selection."));t=Nt({},Ae)}for(var Fe in Ae){var Ze=Ae[Fe];if(null==Ze){if("anchor"===Fe||"focus"===Fe)throw new Error('Cannot remove the "'.concat(Fe,'" selection property'));delete t[Fe]}else t[Fe]=Ze}}break;case"split_node":var ke=n.path,Pe=n.position,je=n.properties;if(0===ke.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ke,"] because the root node cannot be split."));var Oe,Se=mt.get(e,ke),Te=mt.parent(e,ke),Re=ke[ke.length-1];if(Rt.isText(Se)){var Me=Se.text.slice(0,Pe),Ne=Se.text.slice(Pe);Se.text=Me,Oe=Nt(Nt({},je),{},{text:Ne})}else{var Le=Se.children.slice(0,Pe),Ie=Se.children.slice(Pe);Se.children=Le,Oe=Nt(Nt({},je),{},{children:Ie})}if(Te.children.splice(Re+1,0,Oe),t){var _e,We=(0,h.Z)(Zt.points(t));try{for(We.s();!(_e=We.n()).done;){var Ve=(0,i.Z)(_e.value,2),ze=Ve[0];t[Ve[1]]=xt.transform(ze,n)}}catch(He){We.e(He)}finally{We.f()}}}return t}(e,n,t)}finally{e.children=De(e.children),e.selection=n?C(n)?De(n):n:null}}},It=["text"],_t=["children"];function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt={insertNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,u=n.voids,a=void 0!==u&&u,s=n.mode,c=void 0===s?"lowest":s,l=n.at,d=n.match,f=n.select;if(mt.isNode(t)&&(t=[t]),0!==t.length){var p=t,v=(0,i.Z)(p,1)[0];if(l||(l=e.selection?e.selection:e.children.length>0?dt.end(e,[]):[0],f=!0),null==f&&(f=!1),Zt.isRange(l))if(o||(l=dt.unhangRange(e,l)),Zt.isCollapsed(l))l=l.anchor;else{var m=Zt.edges(l),D=(0,i.Z)(m,2)[1],g=dt.pointRef(e,D);Qt.delete(e,{at:l}),l=g.unref()}if(xt.isPoint(l)){null==d&&(d=Rt.isText(v)?function(e){return Rt.isText(e)}:e.isInline(v)?function(t){return Rt.isText(t)||dt.isInline(e,t)}:function(t){return dt.isBlock(e,t)});var C=dt.nodes(e,{at:l.path,match:d,mode:c,voids:a}),B=(0,i.Z)(C,1)[0];if(!B)return;var b=(0,i.Z)(B,2)[1],y=dt.pathRef(e,b),E=dt.isEnd(e,l,b);Qt.splitNodes(e,{at:l,match:d,mode:c,voids:a});var x=y.unref();l=E?Bt.next(x):x}var w=Bt.parent(l),A=l[l.length-1];if(a||!dt.void(e,{at:w})){var F,Z=(0,h.Z)(t);try{for(Z.s();!(F=Z.n()).done;){var k=F.value,P=w.concat(A);A++,e.apply({type:"insert_node",path:P,node:k}),l=Bt.next(l)}}catch(O){Z.e(O)}finally{Z.f()}if(l=Bt.previous(l),f){var j=dt.end(e,l);j&&Qt.select(e,j)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.at,r=void 0===n?e.selection:n,o=t.mode,u=void 0===o?"lowest":o,a=t.voids,s=void 0!==a&&a,c=t.match;if(null==c&&(c=Bt.isPath(r)?Ut(e,r):function(t){return dt.isBlock(e,t)}),r)for(var l=dt.nodes(e,{at:r,match:c,mode:u,voids:s}),d=Array.from(l,(function(t){var n=(0,i.Z)(t,2)[1];return dt.pathRef(e,n)})),f=0,p=d;f<p.length;f++){var v=p[f].unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var h=dt.node(e,Bt.parent(v)),m=(0,i.Z)(h,2),D=m[0],g=m[1],C=v[v.length-1],B=D.children.length;if(1===B){var b=Bt.next(g);Qt.moveNodes(e,{at:v,to:b,voids:s}),Qt.removeNodes(e,{at:g,voids:s})}else if(0===C)Qt.moveNodes(e,{at:v,to:g,voids:s});else if(C===B-1){var y=Bt.next(g);Qt.moveNodes(e,{at:v,to:y,voids:s})}else{var E=Bt.next(v),x=Bt.next(g);Qt.splitNodes(e,{at:E,voids:s}),Qt.moveNodes(e,{at:v,to:x,voids:s})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.match,r=t.at,o=void 0===r?e.selection:r,u=t.hanging,a=void 0!==u&&u,s=t.voids,c=void 0!==s&&s,l=t.mode,d=void 0===l?"lowest":l;if(o){if(null==n)if(Bt.isPath(o)){var f=dt.parent(e,o),p=(0,i.Z)(f,1)[0];n=function(e){return p.children.includes(e)}}else n=function(t){return dt.isBlock(e,t)};if(!a&&Zt.isRange(o)&&(o=dt.unhangRange(e,o)),Zt.isRange(o))if(Zt.isCollapsed(o))o=o.anchor;else{var v=Zt.edges(o),h=(0,i.Z)(v,2)[1],m=dt.pointRef(e,h);Qt.delete(e,{at:o}),o=m.unref(),null==t.at&&Qt.select(e,o)}var D=dt.nodes(e,{at:o,match:n,voids:c,mode:d}),g=(0,i.Z)(D,1)[0],C=dt.previous(e,{at:o,match:n,voids:c,mode:d});if(g&&C){var B=(0,i.Z)(g,2),b=B[0],y=B[1],E=(0,i.Z)(C,2),x=E[0],w=E[1];if(0!==y.length&&0!==w.length){var A,F,Z=Bt.next(w),k=Bt.common(y,w),P=Bt.isSibling(y,w),j=Array.from(dt.levels(e,{at:y}),(function(e){return(0,i.Z)(e,1)[0]})).slice(k.length).slice(0,-1),O=dt.above(e,{at:y,mode:"highest",match:function(t){return j.includes(t)&&Ht(e,t)}}),S=O&&dt.pathRef(e,O[1]);if(Rt.isText(b)&&Rt.isText(x)){var T=ke(b,It);F=x.text.length,A=T}else{if(!it.isElement(b)||!it.isElement(x))throw new Error("Cannot merge the node at path [".concat(y,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(b)," ").concat(JSON.stringify(x)));T=ke(b,_t);F=x.children.length,A=T}P||Qt.moveNodes(e,{at:y,to:Z,voids:c}),S&&Qt.removeNodes(e,{at:S.current,voids:c}),it.isElement(x)&&dt.isEmpty(e,x)||Rt.isText(x)&&""===x.text&&0!==w[w.length-1]?Qt.removeNodes(e,{at:w,voids:c}):e.apply({type:"merge_node",path:Z,position:F,properties:A}),S&&S.unref()}}}}))},moveNodes:function(e,t){dt.withoutNormalizing(e,(function(){var n=t.to,r=t.at,o=void 0===r?e.selection:r,u=t.mode,a=void 0===u?"lowest":u,s=t.voids,c=void 0!==s&&s,l=t.match;if(o){null==l&&(l=Bt.isPath(o)?Ut(e,o):function(t){return dt.isBlock(e,t)});for(var d=dt.pathRef(e,n),f=dt.nodes(e,{at:o,match:l,mode:a,voids:c}),p=Array.from(f,(function(t){var n=(0,i.Z)(t,2)[1];return dt.pathRef(e,n)})),v=0,h=p;v<h.length;v++){var m=h[v].unref(),D=d.current;0!==m.length&&e.apply({type:"move_node",path:m,newPath:D}),d.current&&Bt.isSibling(D,m)&&Bt.isAfter(D,m)&&(d.current=Bt.next(d.current))}d.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.hanging,r=void 0!==n&&n,o=t.voids,u=void 0!==o&&o,a=t.mode,s=void 0===a?"lowest":a,c=t.at,l=void 0===c?e.selection:c,d=t.match;if(l){null==d&&(d=Bt.isPath(l)?Ut(e,l):function(t){return dt.isBlock(e,t)}),!r&&Zt.isRange(l)&&(l=dt.unhangRange(e,l));for(var f=dt.nodes(e,{at:l,match:d,mode:s,voids:u}),p=Array.from(f,(function(t){var n=(0,i.Z)(t,2)[1];return dt.pathRef(e,n)})),v=0,h=p;v<h.length;v++){var m=h[v].unref();if(m){var D=dt.node(e,m),g=(0,i.Z)(D,1)[0];e.apply({type:"remove_node",path:m,node:g})}}}}))},setNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt.withoutNormalizing(e,(function(){var r=n.match,o=n.at,u=void 0===o?e.selection:o,a=n.compare,s=n.merge,c=n.hanging,l=void 0!==c&&c,d=n.mode,f=void 0===d?"lowest":d,p=n.split,v=void 0!==p&&p,m=n.voids,D=void 0!==m&&m;if(u){if(null==r&&(r=Bt.isPath(u)?Ut(e,u):function(t){return dt.isBlock(e,t)}),!l&&Zt.isRange(u)&&(u=dt.unhangRange(e,u)),v&&Zt.isRange(u)){if(Zt.isCollapsed(u)&&dt.leaf(e,u.anchor)[0].text.length>0)return;var g=dt.rangeRef(e,u,{affinity:"inward"}),C=Zt.edges(u),B=(0,i.Z)(C,2),b=B[0],y=B[1],E="lowest"===f?"lowest":"highest",x=dt.isEnd(e,y,y.path);Qt.splitNodes(e,{at:y,match:r,mode:E,voids:D,always:!x});var w=dt.isStart(e,b,b.path);Qt.splitNodes(e,{at:b,match:r,mode:E,voids:D,always:!w}),u=g.unref(),null==n.at&&Qt.select(e,u)}a||(a=function(e,t){return e!==t});var A,F=(0,h.Z)(dt.nodes(e,{at:u,match:r,mode:f,voids:D}));try{for(F.s();!(A=F.n()).done;){var Z=(0,i.Z)(A.value,2),k=Z[0],P=Z[1],j={},O={};if(0!==P.length){var S=!1;for(var T in t)"children"!==T&&"text"!==T&&a(t[T],k[T])&&(S=!0,k.hasOwnProperty(T)&&(j[T]=k[T]),s?null!=t[T]&&(O[T]=s(k[T],t[T])):null!=t[T]&&(O[T]=t[T]));S&&e.apply({type:"set_node",path:P,properties:j,newProperties:O})}}}catch(R){F.e(R)}finally{F.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.voids,u=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s,l=t.height,d=void 0===l?0:l,f=t.always,p=void 0!==f&&f;if(null==a&&(a=function(t){return dt.isBlock(e,t)}),Zt.isRange(c)&&(c=qt(e,c)),Bt.isPath(c)){var v=c,m=dt.point(e,v),D=dt.parent(e,v),g=(0,i.Z)(D,1)[0];a=function(e){return e===g},d=m.path.length-v.length+1,c=m,p=!0}if(c){var C=dt.pointRef(e,c,{affinity:"backward"}),B=dt.nodes(e,{at:c,match:a,mode:r,voids:u}),b=(0,i.Z)(B,1)[0];if(b){var y=dt.void(e,{at:c,mode:"highest"});if(!u&&y){var E=(0,i.Z)(y,2),x=E[0],w=E[1];if(it.isElement(x)&&e.isInline(x)){var A=dt.after(e,w);if(!A){var F=Bt.next(w);Qt.insertNodes(e,{text:""},{at:F,voids:u}),A=dt.point(e,F)}c=A,p=!0}d=c.path.length-w.length+1,p=!0}var Z,k=dt.pointRef(e,c),P=c.path.length-d,j=(0,i.Z)(b,2)[1],O=c.path.slice(0,P),S=0===d?c.offset:c.path[P]+0,T=(0,h.Z)(dt.levels(e,{at:O,reverse:!0,voids:u}));try{for(T.s();!(Z=T.n()).done;){var R=(0,i.Z)(Z.value,2),M=R[0],N=R[1],L=!1;if(N.length<j.length||0===N.length||!u&&dt.isVoid(e,M))break;var I=C.current,_=dt.isEnd(e,I,N);if(p||!C||!dt.isEdge(e,I,N)){L=!0;var W=mt.extractProps(M);e.apply({type:"split_node",path:N,position:S,properties:W})}S=N[N.length-1]+(L||_?1:0)}}catch(z){T.e(z)}finally{T.f()}if(null==t.at){var V=k.current||dt.end(e,[]);Qt.select(e,V)}C.unref(),k.unref()}}}))},unsetNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,o={},i=(0,h.Z)(t);try{for(i.s();!(r=i.n()).done;){o[r.value]=null}}catch(u){i.e(u)}finally{i.f()}Qt.setNodes(e,o,n)},unwrapNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.split,u=void 0!==o&&o,a=t.voids,s=void 0!==a&&a,c=t.at,l=void 0===c?e.selection:c,d=t.match;if(l){null==d&&(d=Bt.isPath(l)?Ut(e,l):function(t){return dt.isBlock(e,t)}),Bt.isPath(l)&&(l=dt.range(e,l));var f,p=Zt.isRange(l)?dt.rangeRef(e,l):null,v=dt.nodes(e,{at:l,match:d,mode:r,voids:s}),m=Array.from(v,(function(t){var n=(0,i.Z)(t,2)[1];return dt.pathRef(e,n)})).reverse(),D=function(t){var n=t.unref(),r=dt.node(e,n),o=(0,i.Z)(r,1)[0],a=dt.range(e,n);u&&p&&(a=Zt.intersection(p.current,a)),Qt.liftNodes(e,{at:a,match:function(e){return it.isAncestor(o)&&o.children.includes(e)},voids:s})},g=(0,h.Z)(m);try{for(g.s();!(f=g.n()).done;){D(f.value)}}catch(C){g.e(C)}finally{g.f()}p&&p.unref()}}))},wrapNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt.withoutNormalizing(e,(function(){var r=n.mode,o=void 0===r?"lowest":r,u=n.split,a=void 0!==u&&u,s=n.voids,c=void 0!==s&&s,l=n.match,d=n.at,f=void 0===d?e.selection:d;if(f){if(null==l&&(l=Bt.isPath(f)?Ut(e,f):e.isInline(t)?function(t){return dt.isInline(e,t)||Rt.isText(t)}:function(t){return dt.isBlock(e,t)}),a&&Zt.isRange(f)){var p=Zt.edges(f),v=(0,i.Z)(p,2),h=v[0],m=v[1],D=dt.rangeRef(e,f,{affinity:"inward"});Qt.splitNodes(e,{at:m,match:l,voids:c}),Qt.splitNodes(e,{at:h,match:l,voids:c}),f=D.unref(),null==n.at&&Qt.select(e,f)}for(var g=Array.from(dt.nodes(e,{at:f,match:e.isInline(t)?function(t){return dt.isBlock(e,t)}:function(e){return dt.isEditor(e)},mode:"lowest",voids:c})),C=0,B=g;C<B.length;C++){var b=(0,i.Z)(B[C],2)[1],y=Zt.isRange(f)?Zt.intersection(f,dt.range(e,b)):f;if(y){var E=Array.from(dt.nodes(e,{at:y,match:l,mode:o,voids:c}));if(E.length>0){var x=function(){var n=E,r=(0,i.Z)(n,1)[0],o=E[E.length-1],u=(0,i.Z)(r,2)[1],a=(0,i.Z)(o,2)[1];if(0===u.length&&0===a.length)return"continue";var s=Bt.equals(u,a)?Bt.parent(u):Bt.common(u,a),l=dt.range(e,u,a),d=dt.node(e,s),f=(0,i.Z)(d,1)[0],p=s.length+1,v=Bt.next(a.slice(0,p)),h=Vt(Vt({},t),{},{children:[]});Qt.insertNodes(e,h,{at:v,voids:c}),Qt.moveNodes(e,{at:l,match:function(e){return it.isAncestor(f)&&f.children.includes(e)},to:v.concat(0),voids:c})}();if("continue"===x)continue}}}}}))}},Ht=function e(t,n){if(it.isElement(n)){var r=n;return!!dt.isVoid(t,n)||1===r.children.length&&e(t,r.children[0])}return!dt.isEditor(n)},qt=function(e,t){if(Zt.isCollapsed(t))return t.anchor;var n=Zt.edges(t),r=(0,i.Z)(n,2)[1],o=dt.pointRef(e,r);return Qt.delete(e,{at:t}),o.unref()},Ut=function(e,t){var n=dt.node(e,t),r=(0,i.Z)(n,1)[0];return function(e){return e===r}};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t={collapse:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).edge,n=void 0===t?"anchor":t,r=e.selection;if(r)if("anchor"===n)Qt.select(e,r.anchor);else if("focus"===n)Qt.select(e,r.focus);else if("start"===n){var o=Zt.edges(r),u=(0,i.Z)(o,1)[0];Qt.select(e,u)}else if("end"===n){var a=Zt.edges(r),s=(0,i.Z)(a,2)[1];Qt.select(e,s)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selection,r=t.distance,o=void 0===r?1:r,i=t.unit,u=void 0===i?"character":i,a=t.reverse,s=void 0!==a&&a,c=t.edge,l=void 0===c?null:c;if(n){"start"===l&&(l=Zt.isBackward(n)?"focus":"anchor"),"end"===l&&(l=Zt.isBackward(n)?"anchor":"focus");var d=n.anchor,f=n.focus,p={distance:o,unit:u},v={};if(null==l||"anchor"===l){var h=s?dt.before(e,d,p):dt.after(e,d,p);h&&(v.anchor=h)}if(null==l||"focus"===l){var m=s?dt.before(e,f,p):dt.after(e,f,p);m&&(v.focus=m)}Qt.setSelection(e,v)}},select:function(e,t){var n=e.selection;if(t=dt.range(e,t),n)Qt.setSelection(e,t);else{if(!Zt.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,o=n.edge,i=void 0===o?"both":o;if(r){"start"===i&&(i=Zt.isBackward(r)?"focus":"anchor"),"end"===i&&(i=Zt.isBackward(r)?"anchor":"focus");var u=r.anchor,a=r.focus,s="anchor"===i?u:a;Qt.setSelection(e,(0,v.Z)({},"anchor"===i?"anchor":"focus",Jt(Jt({},s),t)))}},setSelection:function(e,t){var n=e.selection,r={},o={};if(n){for(var i in t)("anchor"===i&&null!=t.anchor&&!xt.equals(t.anchor,n.anchor)||"focus"===i&&null!=t.focus&&!xt.equals(t.focus,n.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}}},Xt={delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt.withoutNormalizing(e,(function(){var n=t.reverse,r=void 0!==n&&n,o=t.unit,u=void 0===o?"character":o,a=t.distance,s=void 0===a?1:a,c=t.voids,l=void 0!==c&&c,d=t.at,f=void 0===d?e.selection:d,p=t.hanging,v=void 0!==p&&p;if(f){if(Zt.isRange(f)&&Zt.isCollapsed(f)&&(f=f.anchor),xt.isPoint(f)){var m=dt.void(e,{at:f,mode:"highest"});if(!l&&m){f=(0,i.Z)(m,2)[1]}else{var D={unit:u,distance:s};f={anchor:f,focus:r?dt.before(e,f,D)||dt.start(e,[]):dt.after(e,f,D)||dt.end(e,[])},v=!0}}if(Bt.isPath(f))Qt.removeNodes(e,{at:f,voids:l});else if(!Zt.isCollapsed(f)){if(!v){var g=Zt.edges(f),C=(0,i.Z)(g,2)[1],B=dt.end(e,[]);xt.equals(C,B)||(f=dt.unhangRange(e,f,{voids:l}))}var b=Zt.edges(f),y=(0,i.Z)(b,2),E=y[0],x=y[1],w=dt.above(e,{match:function(t){return dt.isBlock(e,t)},at:E,voids:l}),A=dt.above(e,{match:function(t){return dt.isBlock(e,t)},at:x,voids:l}),F=w&&A&&!Bt.equals(w[1],A[1]),Z=Bt.equals(E.path,x.path),k=l?null:dt.void(e,{at:E,mode:"highest"}),P=l?null:dt.void(e,{at:x,mode:"highest"});if(k){var j=dt.before(e,E);j&&w&&Bt.isAncestor(w[1],j.path)&&(E=j)}if(P){var O=dt.after(e,x);O&&A&&Bt.isAncestor(A[1],O.path)&&(x=O)}var S,T,R=[],M=(0,h.Z)(dt.nodes(e,{at:f,voids:l}));try{for(M.s();!(T=M.n()).done;){var N=T.value,L=N,I=(0,i.Z)(L,2),_=I[0],W=I[1];S&&0===Bt.compare(W,S)||(!l&&dt.isVoid(e,_)||!Bt.isCommon(W,E.path)&&!Bt.isCommon(W,x.path))&&(R.push(N),S=W)}}catch(ae){M.e(ae)}finally{M.f()}var V=Array.from(R,(function(t){var n=(0,i.Z)(t,2)[1];return dt.pathRef(e,n)})),z=dt.pointRef(e,E),H=dt.pointRef(e,x);if(!Z&&!k){var q=z.current,U=dt.leaf(e,q),K=(0,i.Z)(U,1)[0],J=q.path,$=E.offset,X=K.text.slice($);X.length>0&&e.apply({type:"remove_text",path:J,offset:$,text:X})}for(var Y=0,G=V;Y<G.length;Y++){var Q=G[Y].unref();Qt.removeNodes(e,{at:Q,voids:l})}if(!P){var ee=H.current,te=dt.leaf(e,ee),ne=(0,i.Z)(te,1)[0],re=ee.path,oe=Z?E.offset:0,ie=ne.text.slice(oe,x.offset);ie.length>0&&e.apply({type:"remove_text",path:re,offset:oe,text:ie})}!Z&&F&&H.current&&z.current&&Qt.mergeNodes(e,{at:H.current,hanging:!0,voids:l});var ue=r?z.unref()||H.unref():H.unref()||z.unref();null==t.at&&ue&&Qt.select(e,ue)}}}))},insertFragment:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,u=n.voids,a=void 0!==u&&u,s=n.at,c=void 0===s?e.selection:s;if(t.length&&c){if(Zt.isRange(c))if(o||(c=dt.unhangRange(e,c)),Zt.isCollapsed(c))c=c.anchor;else{var l=Zt.edges(c),d=(0,i.Z)(l,2)[1];if(!a&&dt.void(e,{at:d}))return;var f=dt.pointRef(e,d);Qt.delete(e,{at:c}),c=f.unref()}else Bt.isPath(c)&&(c=dt.start(e,c));if(a||!dt.void(e,{at:c})){var p=dt.above(e,{at:c,match:function(t){return dt.isInline(e,t)},mode:"highest",voids:a});if(p){var v=(0,i.Z)(p,2)[1];if(dt.isEnd(e,c,v))c=dt.after(e,v);else if(dt.isStart(e,c,v)){c=dt.before(e,v)}}var m,D=dt.above(e,{match:function(t){return dt.isBlock(e,t)},at:c,voids:a}),g=(0,i.Z)(D,2)[1],C=dt.isStart(e,c,g),B=dt.isEnd(e,c,g),b=C&&B,y=!C||C&&B,E=!B,x=mt.first({children:t},[]),w=(0,i.Z)(x,2)[1],A=mt.last({children:t},[]),F=(0,i.Z)(A,2)[1],Z=[],k=function(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];return!(0===o.length)&&(!!b||!(y&&Bt.isAncestor(o,w)&&it.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(E&&Bt.isAncestor(o,F)&&it.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))},P=(0,h.Z)(mt.nodes({children:t},{pass:k}));try{for(P.s();!(m=P.n()).done;){var j=m.value;k(j)&&Z.push(j)}}catch(Y){P.e(Y)}finally{P.f()}for(var O=[],S=[],T=[],R=!0,M=!1,N=0,L=Z;N<L.length;N++){var I=(0,i.Z)(L[N],1)[0];it.isElement(I)&&!e.isInline(I)?(R=!1,M=!0,S.push(I)):R?O.push(I):T.push(I)}var _=dt.nodes(e,{at:c,match:function(t){return Rt.isText(t)||dt.isInline(e,t)},mode:"highest",voids:a}),W=(0,i.Z)(_,1)[0],V=(0,i.Z)(W,2)[1],z=dt.isStart(e,c,V),H=dt.isEnd(e,c,V),q=dt.pathRef(e,B?Bt.next(g):g),U=dt.pathRef(e,H?Bt.next(V):V),K=dt.pathRef(e,g);Qt.splitNodes(e,{at:c,match:function(t){return M?dt.isBlock(e,t):Rt.isText(t)||dt.isInline(e,t)},mode:M?"lowest":"highest",voids:a});var J=dt.pathRef(e,!z||z&&H?Bt.next(V):V);if(Qt.insertNodes(e,O,{at:J.current,match:function(t){return Rt.isText(t)||dt.isInline(e,t)},mode:"highest",voids:a}),b&&S.length&&Qt.delete(e,{at:K.unref(),voids:a}),Qt.insertNodes(e,S,{at:q.current,match:function(t){return dt.isBlock(e,t)},mode:"lowest",voids:a}),Qt.insertNodes(e,T,{at:U.current,match:function(t){return Rt.isText(t)||dt.isInline(e,t)},mode:"highest",voids:a}),!n.at){var $;$=T.length>0?Bt.previous(U.current):S.length>0?Bt.previous(q.current):Bt.previous(J.current);var X=dt.end(e,$);Qt.select(e,X)}J.unref(),q.unref(),U.unref()}}}))},insertText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt.withoutNormalizing(e,(function(){var r=n.voids,o=void 0!==r&&r,i=n.at,u=void 0===i?e.selection:i;if(u){if(Bt.isPath(u)&&(u=dt.range(e,u)),Zt.isRange(u))if(Zt.isCollapsed(u))u=u.anchor;else{var a=Zt.end(u);if(!o&&dt.void(e,{at:a}))return;var s=dt.pointRef(e,a);Qt.delete(e,{at:u,voids:o}),u=s.unref(),Qt.setSelection(e,{anchor:u,focus:u})}if(o||!dt.void(e,{at:u})){var c=u,l=c.path,d=c.offset;t.length>0&&e.apply({type:"insert_text",path:l,offset:d,text:t})}}}))}};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=Gt(Gt(Gt(Gt({},Lt),zt),$t),Xt),en=n(43144),tn=n(15671),nn=n(70085),rn=n.n(nn),on=n(48573),un=n.n(on),an=n(33038),sn=n.n(an);function cn(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function ln(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function dn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return ln(n.overflowY,t)||ln(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function fn(e,t,n,r,o,i,u,a){return i<e&&u>t||i>e&&u<t?0:i<=e&&a<=n||u>=t&&a>=n?i-e-r:u>t&&a<n||i<e&&a>n?u-t+o:0}var pn=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,u=t.boundary,a=t.skipOverflowHiddenElements,s="function"==typeof u?u:function(e){return e!==u};if(!cn(e))throw new TypeError("Invalid target");for(var c,l,d=document.scrollingElement||document.documentElement,f=[],p=e;cn(p)&&s(p);){if((p=null==(l=(c=p).parentElement)?c.getRootNode().host||null:l)===d){f.push(p);break}null!=p&&p===document.body&&dn(p)&&!dn(document.documentElement)||null!=p&&dn(p,a)&&f.push(p)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,D=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),C=g.height,B=g.width,b=g.top,y=g.right,E=g.bottom,x=g.left,w="start"===o||"nearest"===o?b:"end"===o?E:b+C/2,A="center"===i?x+B/2:"end"===i?y:x,F=[],Z=0;Z<f.length;Z++){var k=f[Z],P=k.getBoundingClientRect(),j=P.height,O=P.width,S=P.top,T=P.right,R=P.bottom,M=P.left;if("if-needed"===r&&b>=0&&x>=0&&E<=h&&y<=v&&b>=S&&E<=R&&x>=M&&y<=T)return F;var N=getComputedStyle(k),L=parseInt(N.borderLeftWidth,10),I=parseInt(N.borderTopWidth,10),_=parseInt(N.borderRightWidth,10),W=parseInt(N.borderBottomWidth,10),V=0,z=0,H="offsetWidth"in k?k.offsetWidth-k.clientWidth-L-_:0,q="offsetHeight"in k?k.offsetHeight-k.clientHeight-I-W:0,U="offsetWidth"in k?0===k.offsetWidth?0:O/k.offsetWidth:0,K="offsetHeight"in k?0===k.offsetHeight?0:j/k.offsetHeight:0;if(d===k)V="start"===o?w:"end"===o?w-h:"nearest"===o?fn(D,D+h,h,I,W,D+w,D+w+C,C):w-h/2,z="start"===i?A:"center"===i?A-v/2:"end"===i?A-v:fn(m,m+v,v,L,_,m+A,m+A+B,B),V=Math.max(0,V+D),z=Math.max(0,z+m);else{V="start"===o?w-S-I:"end"===o?w-R+W+q:"nearest"===o?fn(S,R,j,I,W+q,w,w+C,C):w-(S+j/2)+q/2,z="start"===i?A-M-L:"center"===i?A-(M+O/2)+H/2:"end"===i?A-T+_+H:fn(M,T,O,L,_+H,A,A+B,B);var J=k.scrollLeft,$=k.scrollTop;w+=$-(V=Math.max(0,Math.min($+V/K,k.scrollHeight-j/K+q))),A+=J-(z=Math.max(0,Math.min(J+z/U,k.scrollWidth-O/U+H)))}F.push({el:k,top:V,left:z})}return F};function vn(e){return e===Object(e)&&0!==Object.keys(e).length}var hn=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(vn(t)&&"function"===typeof t.behavior)return t.behavior(n?pn(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:vn(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(pn(e,r),r.behavior)}},mn=n(70366),Dn=n(54164);function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Bn=parseInt(s.version.split(".")[0],10)>=17,bn="undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,yn="undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent),En="undefined"!==typeof navigator&&/Android/.test(navigator.userAgent),xn="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),wn="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),An="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(\.)/i.test(navigator.userAgent),Fn="undefined"!==typeof navigator&&/Chrome/i.test(navigator.userAgent),Zn="undefined"!==typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(\.)/i.test(navigator.userAgent),kn="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Pn="undefined"!==typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),jn="undefined"!==typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),On="undefined"!==typeof navigator&&/.*Wechat/.test(navigator.userAgent),Sn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Tn=!Zn&&!An&&"undefined"!==typeof globalThis&&globalThis.InputEvent&&"function"===typeof globalThis.InputEvent.prototype.getTargetRanges,Rn=Sn?s.useLayoutEffect:s.useEffect,Mn=function(e){var t=e.isLast,n=e.leaf,r=e.parent,o=e.text,i=mr(),u=ro.findPath(i,o),a=Bt.parent(u);return i.isVoid(r)?s.createElement(Ln,{length:mt.string(r).length}):""!==n.text||r.children[r.children.length-1]!==o||i.isInline(r)||""!==dt.string(i,a)?""===n.text?s.createElement(Ln,null):t&&"\n"===n.text.slice(-1)?s.createElement(Nn,{isTrailing:!0,text:n.text}):s.createElement(Nn,{text:n.text}):s.createElement(Ln,{isLineBreak:!0})},Nn=function(e){var t=e.text,n=e.isTrailing,r=void 0!==n&&n,o=(0,s.useRef)(null),i=function(){return"".concat(null!==t&&void 0!==t?t:"").concat(r?"\n":"")};return Rn((function(){var e=i();o.current&&o.current.textContent!==e&&(o.current.textContent=e)})),o.current?s.createElement("span",{"data-slate-string":!0,ref:o}):s.createElement("span",{"data-slate-string":!0,ref:o},i())},Ln=function(e){var t=e.length,n=void 0===t?0:t,r=e.isLineBreak,o=void 0!==r&&r;return s.createElement("span",{"data-slate-zero-width":o?"n":"z","data-slate-length":n},"\ufeff",o?s.createElement("br",null):null)},In=new WeakMap,_n=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Hn=new WeakMap,qn=new WeakMap,Un=new WeakMap,Kn=new WeakMap,Jn=new WeakMap,$n=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,er=new WeakMap,tr=Symbol("placeholder"),nr=function(e){var t=e.leaf,n=e.isLast,r=e.text,o=e.parent,i=e.renderPlaceholder,u=e.renderLeaf,a=void 0===u?function(e){return s.createElement(or,Object.assign({},e))}:u,c=(0,s.useRef)(null);(0,s.useEffect)((function(){var e=null===c||void 0===c?void 0:c.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),function(){t.style.minHeight="auto"}}),[c,t]);var l=s.createElement(Mn,{isLast:n,leaf:t,parent:o,text:r});if(t[tr]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:c}};l=s.createElement(s.Fragment,null,i(d),l)}return a({attributes:{"data-slate-leaf":!0},children:l,leaf:t,text:r})},rr=s.memo(nr,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Rt.equals(t.leaf,e.leaf)&&t.leaf[tr]===e.leaf[tr]})),or=function(e){var t=e.attributes,n=e.children;return s.createElement("span",Object.assign({},t),n)},ir=["anchor","focus"],ur=["anchor","focus"],ar=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return t.hasOwnProperty(n)&&e[n]===t[n]}))},sr=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n],i=Cn(r,ir),u=Cn(o,ur);if(!Zt.equals(r,o)||r[tr]!==o[tr]||!ar(i,u))return!1}return!0};function cr(e){var t=(0,s.useRef)(0),n=(0,s.useRef)(null),r=(0,s.useState)(0),o=(0,i.Z)(r,2)[1];return(0,s.useEffect)((function(){return er.set(e,(function(){n.current||(n.current=requestAnimationFrame((function(){o((function(e){return e+1})),n.current=null})),t.current++)})),function(){er.delete(e)}}),[e]),n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current}var lr=function(e){for(var t=e.decorations,n=e.isLast,r=e.parent,o=e.renderPlaceholder,i=e.renderLeaf,u=e.text,a=mr(),c=(0,s.useRef)(null),l=Rt.decorations(u,t),d=ro.findKey(a,u),f=[],p=0;p<l.length;p++){var v=l[p];f.push(s.createElement(rr,{isLast:n&&p===l.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:v,text:u,parent:r,renderLeaf:i}))}Rn((function(){var e=Un.get(a);c.current?(null===e||void 0===e||e.set(d,c.current),Hn.set(u,c.current),zn.set(c.current,u)):(null===e||void 0===e||e.delete(d),Hn.delete(u))}));var h=En?cr(u):void 0;return s.createElement("span",{"data-slate-node":"text",ref:c,key:h},f)},dr=s.memo(lr,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&sr(t.decorations,e.decorations)})),fr=function(e){var t=e.decorations,n=e.element,r=e.renderElement,o=void 0===r?function(e){return s.createElement(vr,Object.assign({},e))}:r,u=e.renderPlaceholder,a=e.renderLeaf,c=e.selection,l=(0,s.useRef)(null),d=mr(),f=wr(),p=d.isInline(n),v=ro.findKey(d,n),h=gr({decorations:t,node:n,renderElement:o,renderPlaceholder:u,renderLeaf:a,selection:c}),m={"data-slate-node":"element",ref:l};if(p&&(m["data-slate-inline"]=!0),!p&&dt.hasInlines(d,n)){var D=mt.string(n),g=rn()(D);"rtl"===g&&(m.dir=g)}if(dt.isVoid(d,n)){m["data-slate-void"]=!0,!f&&p&&(m.contentEditable=!1);var C=p?"span":"div",B=mt.texts(n),b=(0,i.Z)(B,1),y=(0,i.Z)(b[0],1)[0];h=s.createElement(C,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},s.createElement(dr,{renderPlaceholder:u,decorations:[],isLast:!1,parent:n,text:y})),In.set(y,0),_n.set(y,n)}Rn((function(){var e=Un.get(d);l.current?(null===e||void 0===e||e.set(v,l.current),Hn.set(n,l.current),zn.set(l.current,n)):(null===e||void 0===e||e.delete(v),Hn.delete(n))}));var E=o({attributes:m,children:h,element:n});if(En){var x=cr(n);return s.createElement(s.Fragment,{key:x},E)}return E},pr=s.memo(fr,(function(e,t){return e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&sr(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&Zt.equals(e.selection,t.selection))})),vr=function(e){var t=e.attributes,n=e.children,r=e.element,o=mr().isInline(r)?"span":"div";return s.createElement(o,Object.assign({},t,{style:{position:"relative"}}),n)},hr=(0,s.createContext)(null),mr=function(){var e=(0,s.useContext)(hr);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Dr=(0,s.createContext)(!1),gr=function(e){for(var t=e.decorations,n=e.node,r=e.renderElement,o=e.renderPlaceholder,i=e.renderLeaf,u=e.selection,a=mr(),c=ro.findPath(a,n),l=[],d=it.isElement(n)&&!a.isInline(n)&&dt.hasInlines(a,n),f=function(e){var f=c.concat(e),p=n.children[e],v=ro.findKey(a,p),h=dt.range(a,f),m=u&&Zt.intersection(h,u),D=t.reduce((function(e,t){var n=Zt.intersection(t,h);return n&&e.push(n),e}),[]);it.isElement(p)?l.push(s.createElement(Dr.Provider,{key:"provider-".concat(v.id),value:!!m},s.createElement(pr,{decorations:D,element:p,key:v.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:m}))):l.push(s.createElement(dr,{decorations:D,key:v.id,isLast:d&&e===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:p})),In.set(p,e),_n.set(p,n)},p=0;p<n.children.length;p++)f(p);return l},Cr={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Br={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},br={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},yr=function(e){var t=Cr[e],n=Br[e],r=br[e],o=t&&(0,mn.TB)(t),i=n&&(0,mn.TB)(n),u=r&&(0,mn.TB)(r);return function(e){return!(!o||!o(e))||(!!(yn&&i&&i(e))||!(yn||!u||!u(e)))}},Er={isBold:yr("bold"),isCompose:yr("compose"),isMoveBackward:yr("moveBackward"),isMoveForward:yr("moveForward"),isDeleteBackward:yr("deleteBackward"),isDeleteForward:yr("deleteForward"),isDeleteLineBackward:yr("deleteLineBackward"),isDeleteLineForward:yr("deleteLineForward"),isDeleteWordBackward:yr("deleteWordBackward"),isDeleteWordForward:yr("deleteWordForward"),isExtendBackward:yr("extendBackward"),isExtendForward:yr("extendForward"),isExtendLineBackward:yr("extendLineBackward"),isExtendLineForward:yr("extendLineForward"),isItalic:yr("italic"),isMoveLineBackward:yr("moveLineBackward"),isMoveLineForward:yr("moveLineForward"),isMoveWordBackward:yr("moveWordBackward"),isMoveWordForward:yr("moveWordForward"),isRedo:yr("redo"),isSoftBreak:yr("insertSoftBreak"),isSplitBlock:yr("splitBlock"),isTransposeCharacter:yr("transposeCharacter"),isUndo:yr("undo")},xr=(0,s.createContext)(!1),wr=function(){return(0,s.useContext)(xr)},Ar=(0,s.createContext)(null),Fr=function(){var e=(0,s.useContext)(Ar);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return(0,i.Z)(e,1)[0]},Zr=(0,s.createContext)((function(){return[]})),kr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Pr=function(e){return jr(e)&&1===e.nodeType},jr=function(e){var t=kr(e);return!!t&&e instanceof t.Node},Or=function(e){var t=e&&e.anchorNode&&kr(e.anchorNode);return!!t&&e instanceof t.Selection},Sr=function(e){return jr(e)&&3===e.nodeType},Tr=function(e,t,n){for(var r,o=e.childNodes,i=o[t],u=t,a=!1,s=!1;(jr(r=i)&&8===r.nodeType||Pr(i)&&0===i.childNodes.length||Pr(i)&&"false"===i.getAttribute("contenteditable"))&&(!a||!s);)u>=o.length?(a=!0,u=t-1,n="backward"):u<0?(s=!0,u=t+1,n="forward"):(i=o[u],t=u,u+="forward"===n?1:-1);return[i,t]},Rr=function(e,t,n){var r=Tr(e,t,n);return(0,i.Z)(r,1)[0]},Mr=function e(t){var n="";if(Sr(t)&&t.nodeValue)return t.nodeValue;if(Pr(t)){for(var r=0,o=Array.from(t.childNodes);r<o.length;r++){n+=e(o[r])}var i=getComputedStyle(t).getPropertyValue("display");"block"!==i&&"list"!==i&&"BR"!==t.tagName||(n+="\n")}return n},Nr=/data-slate-fragment="(.+?)"/m,Lr=function(e){var t=e.getData("text/html").match(Nr)||[];return(0,i.Z)(t,2)[1]},Ir=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr=function(e){return s.createElement(s.Fragment,null,gr(e))},zr=function(e){var t=e.attributes,n=e.children;return s.createElement("span",Object.assign({},t),n)},Hr=function(){return[]},qr=function(e,t){if(!e.selection||e.selection&&Zt.isCollapsed(e.selection)){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),hn(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Ur=function(e,t){return jr(t)&&ro.hasDOMNode(e,t)},Kr=function(e,t){return jr(t)&&ro.hasDOMNode(e,t,{editable:!0})},Jr=function(e,t){if(Kn.get(e))return!1;var n=Ur(e,t)&&ro.toSlateNode(e,t);return dt.isVoid(e,n)},$r=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},Xr=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented};function Yr(e,t){if(e===t)return null;var n=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length!==t.length?n:null}(e,t);if(null===n)return null;var r=function(e,t,n){for(var r=e.length,o=t.length,i=Math.min(r,o,n),u=0;u<i;u++)if(e.charAt(r-u-1)!==t.charAt(o-u-1))return u;return e.length!==t.length?i:null}(e,t,Math.min(e.length-n,t.length-n));return null===r?null:{start:n,end:r}}function Gr(e,t){return e.slice(t.start,e.length-t.end)}function Qr(e,t){var n=ro.toSlateNode(e,t);if(Rt.isText(n)){var r=n.text,o=t.textContent;if(o.endsWith("\n")&&(o=o.slice(0,o.length-1)),o!==r){var i=function(e,t){if(void 0===e||void 0===t)return null;var n=Yr(e,t);if(null==n)return null;var r=Gr(t,n),o=Gr(e,n);return{start:n.start,end:e.length-n.end,insertText:r,removeText:o}}(r,o);if(null!==i)return{text:i,path:ro.findPath(e,n)}}}}function eo(e,t,n){var r=n.path,o=n.text,u={anchor:{path:r,offset:o.start},focus:{path:r,offset:o.end}};if(!t||!Zt.isCollapsed(t))return u;var a=o.insertText,s=o.removeText;if((1===a.length||1===s.length)&&Bt.equals(t.anchor.path,r)){var c=Array.from(dt.nodes(e,{at:t,match:Rt.isText})),l=(0,i.Z)(c,1)[0];if(l){var d=(0,i.Z)(l,1)[0],f=t.anchor,p=d.text[f.offset-1],v=d.text[f.offset];if(1===a.length&&a===v)return t;if(1===s.length&&s===p)return{anchor:{path:r,offset:f.offset-1},focus:{path:r,offset:f.offset}}}}return u}var to=0,no=(0,en.Z)((function e(){(0,tn.Z)(this,e),this.id="".concat(to++)})),ro={getWindow:function(e){var t=Wn.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey:function(e,t){var n=qn.get(t);return n||(n=new no,qn.set(t,n)),n},findPath:function(e,t){for(var n=[],r=t;;){var o=_n.get(r);if(null==o){if(dt.isEditor(r))return n;break}var i=In.get(r);if(null==i)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot:function(e){var t=ro.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused:function(e){return!!Jn.get(e)},isReadOnly:function(e){return!!Kn.get(e)},blur:function(e){var t=ro.toDOMNode(e,e),n=ro.findDocumentOrShadowRoot(e);Jn.set(e,!1),n.activeElement===t&&t.blur()},focus:function(e){var t=ro.toDOMNode(e,e),n=ro.findDocumentOrShadowRoot(e);Jn.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){ro.toDOMNode(e,e);var t=e.selection,n=ro.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&Qt.deselect(e)},hasDOMNode:function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,o=void 0!==r&&r,i=ro.toDOMNode(e,e);try{n=Pr(t)?t:t.parentElement}catch(u){if(!u.message.includes('Permission denied to access property "nodeType"'))throw u}return!!n&&(n.closest("[data-slate-editor]")===i&&(!(o&&!n.isContentEditable)||("boolean"===typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===i||!!n.getAttribute("data-slate-zero-width"))))},insertData:function(e,t){e.insertData(t)},insertFragmentData:function(e,t){return e.insertFragmentData(t)},insertTextData:function(e,t){return e.insertTextData(t)},setFragmentData:function(e,t,n){e.setFragmentData(t,n)},toDOMNode:function(e,t){var n=Un.get(e),r=dt.isEditor(t)?Vn.get(e):null===n||void 0===n?void 0:n.get(ro.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint:function(e,t){var n,r=dt.node(e,t.path),o=(0,i.Z)(r,1)[0],u=ro.toDOMNode(e,o);dt.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a=0,s=0,c=Array.from(u.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));s<c.length;s++){var l=c[s],d=l.childNodes[0];if(null!=d&&null!=d.textContent){var f=d.textContent.length,p=l.getAttribute("data-slate-length"),v=a+(null==p?f:parseInt(p,10));if(t.offset<=v){n=[d,Math.min(f,Math.max(0,t.offset-a))];break}a=v}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return n},toDOMRange:function(e,t){var n=t.anchor,r=t.focus,o=Zt.isBackward(t),u=ro.toDOMPoint(e,n),a=Zt.isCollapsed(t)?u:ro.toDOMPoint(e,r),s=ro.getWindow(e).document.createRange(),c=o?a:u,l=(0,i.Z)(c,2),d=l[0],f=l[1],p=o?u:a,v=(0,i.Z)(p,2),h=v[0],m=v[1],D=!!(Pr(d)?d:d.parentElement).getAttribute("data-slate-zero-width"),g=!!(Pr(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return s.setStart(d,D?1:f),s.setEnd(h,g?1:m),s},toSlateNode:function(e,t){var n=Pr(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?zn.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n=t,r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var u,a=ro.toSlateNode(e,t.target),s=ro.findPath(e,a);if(dt.isVoid(e,a)){var c=i.getBoundingClientRect(),l=e.isInline(a)?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o,d=dt.point(e,s,{edge:l?"start":"end"}),f=l?dt.before(e,d):dt.after(e,d);if(f)return dt.range(e,f)}var p=ro.getWindow(e).document;if(p.caretRangeFromPoint)u=p.caretRangeFromPoint(r,o);else{var v=p.caretPositionFromPoint(r,o);v&&((u=p.createRange()).setStart(v.offsetNode,v.offset),u.setEnd(v.offsetNode,v.offset))}if(!u)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return ro.toSlateRange(e,u,{exactMatch:!1,suppressThrow:!1})},toSlatePoint:function(e,t,n){var r=n.exactMatch,o=n.suppressThrow,u=r?t:function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];if(Pr(n)&&n.childNodes.length){var o=r===n.childNodes.length,u=o?r-1:r,a=Tr(n,u,o?"backward":"forward"),s=(0,i.Z)(a,2);for(n=s[0],o=(u=s[1])<r;Pr(n)&&n.childNodes.length;){var c=o?n.childNodes.length-1:0;n=Rr(n,c,o?"backward":"forward")}r=o&&null!=n.textContent?n.textContent.length:0}return[n,r]}(t),a=(0,i.Z)(u,2),s=a[0],c=a[1],l=s.parentNode,d=null,p=0;if(l){var v,h=ro.toDOMNode(e,e),m=l.closest('[data-slate-void="true"]'),D=m&&h.contains(m)?m:null,g=l.closest("[data-slate-leaf]"),C=null;if(g){if(d=g.closest('[data-slate-node="text"]')){var B=ro.getWindow(e).document.createRange();B.setStart(d,0),B.setEnd(s,c);var b=B.cloneContents();[].concat((0,f.Z)(Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]"))),(0,f.Z)(Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]")))).forEach((function(e){e.parentNode.removeChild(e)})),p=b.textContent.length,C=d}}else D&&((g=D.querySelector("[data-slate-leaf]"))?(d=g.closest('[data-slate-node="text"]'),p=(C=g).textContent.length,C.querySelectorAll("[data-slate-zero-width]").forEach((function(e){p-=e.textContent.length}))):p=1);C&&p===C.textContent.length&&(l.hasAttribute("data-slate-zero-width")||xn&&null!==(v=C.textContent)&&void 0!==v&&v.endsWith("\n\n"))&&p--}if(!d){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var y=ro.toSlateNode(e,d);return{path:ro.findPath(e,y),offset:p}},toSlateRange:function(e,t,n){var r,o,i,u,a,s=n.exactMatch,c=n.suppressThrow;if((Or(t)?t.anchorNode:t.startContainer)&&(Or(t)?(r=t.anchorNode,o=t.anchorOffset,i=t.focusNode,u=t.focusOffset,a=Fn&&window.document.activeElement&&window.document.activeElement.shadowRoot?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,o=t.startOffset,i=t.endContainer,u=t.endOffset,a=t.collapsed)),null==r||null==i||null==o||null==u)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var l=ro.toSlatePoint(e,[r,o],{exactMatch:s,suppressThrow:c});if(!l)return null;var d=a?l:ro.toSlatePoint(e,[i,u],{exactMatch:s,suppressThrow:c});if(!d)return null;var f={anchor:l,focus:d};return Zt.isExpanded(f)&&Zt.isForward(f)&&Pr(i)&&dt.void(e,{at:f.focus,mode:"highest"})&&(f=dt.unhangRange(e,f,{voids:!0})),f},hasRange:function(e,t){var n=t.anchor,r=t.focus;return dt.hasPath(e,n.path)&&dt.hasPath(e,r.path)}};var oo=(0,en.Z)((function e(t,n){var r=this;(0,tn.Z)(this,e),this.editor=t,this.restoreDOM=n,this.flush=function(e){try{r.reconcileMutations(e)}catch(t){console.error(t),r.restoreDOM()}},this.reconcileMutations=function(e){var t=function(e,t){var n=[],r=[],o=[],i=[];return t.forEach((function(t){switch(t.type){case"childList":t.addedNodes.length&&t.addedNodes.forEach((function(e){n.push(e)})),t.removedNodes.forEach((function(e){r.push(e)}));break;case"characterData":i.push(t);var u=t.target.parentNode;if(!u)return;var a=Qr(e,u);if(!a)return;if(o.some((function(e){var t=e.path;return Bt.equals(t,a.path)})))return;o.push(a)}})),{addedNodes:n,removedNodes:r,insertedText:o,characterDataMutations:i}}(r.editor,e),n=t.insertedText,o=t.removedNodes;if(function(e,t){var n=e.selection,r=t.removedNodes;return!!n&&Zt.isExpanded(n)&&r.length>0}(r.editor,t)){var i=function(e){return e.reduce((function(e,t){var n=t.text;return"".concat(e).concat(n.insertText)}),"")}(n);r.replaceExpandedSelection(i)}else!function(e,t){var n=t.addedNodes,r=e.selection,o=r?mt.parent(e,r.anchor.path):null,i=o?ro.toDOMNode(e,o):null;return!!i&&n.some((function(e){return e instanceof HTMLElement&&e.tagName===(null===i||void 0===i?void 0:i.tagName)}))}(r.editor,t)?!function(e,t){var n=t.addedNodes,r=t.characterDataMutations;return t.removedNodes.length>0&&0===n.length&&r.length>0}(r.editor,t)?(r.editor,t.removedNodes.length>0?r.deleteBackward():(r.editor,t.insertedText.length>0&&r.insertText(n))):r.removeLeafNodes(o):r.insertBreak()},this.insertText=function(e){var t=r.editor.selection;if($n.get(r.editor)||Xn.get(r.editor))return Gn.set(r.editor,e),void Xn.set(r.editor,!1);e.forEach((function(e){var n=e.text.insertText,o=eo(r.editor,t,e);Qt.setSelection(r.editor,o),dt.insertText(r.editor,n)}))},this.insertBreak=function(){var e=r.editor.selection;dt.insertBreak(r.editor),r.restoreDOM(),e&&setTimeout((function(){r.editor.selection&&Zt.equals(e,r.editor.selection)&&Qt.move(r.editor)}),100)},this.replaceExpandedSelection=function(e){dt.deleteFragment(r.editor),e.length&&dt.insertText(r.editor,e),r.restoreDOM()},this.deleteBackward=function(){dt.deleteBackward(r.editor),ro.focus(r.editor),r.restoreDOM()},this.removeLeafNodes=function(e){var t,n=(0,h.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=ro.toSlateNode(r.editor,o);if(i){var u=ro.findPath(r.editor,i);Qt.delete(r.editor,{at:u}),r.restoreDOM()}}}catch(a){n.e(a)}finally{n.f()}},this.editor=t,this.restoreDOM=n}));function io(e,t,n){var r=(0,s.useState)((function(){return new MutationObserver(t)})),o=(0,i.Z)(r,1)[0];Rn((function(){o.disconnect()})),(0,s.useEffect)((function(){if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return o.observe(e.current,n),o.disconnect.bind(o)}))}var uo={childList:!0,characterData:!0,subtree:!0};function ao(e){var t,n=Pr(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n&&zn.get(n);return r||(null!==(t=n)&&void 0!==t&&t.parentElement?ao(n.parentElement):null)}function so(e,t){var n=mr(),r=(0,s.useRef)(new Set);io(e,(0,s.useCallback)((function(e){t.current&&e.forEach((function(e){var t=ao(e.target);if(t)return r.current.add(t)}))}),[]),uo),r.current.clear();var o=(0,s.useCallback)((function(){var e=Array.from(r.current.values()),t=e.filter((function(t){return!e.some((function(e){return Bt.isParent(ro.findPath(n,e),ro.findPath(n,t))}))}));t.forEach((function(e){var t;null===(t=er.get(e))||void 0===t||t()})),r.current.clear()}),[]);return o}var co={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function lo(e){var t=mr(),n=function(){var e=mr(),t=(0,s.useRef)(!1),n=(0,s.useRef)(null),r=(0,s.useCallback)((function(){if(!1===t.current){var r=ro.getWindow(e);t.current=!0,n.current&&r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((function(){t.current=!1,n.current=null}))}}),[]);return(0,s.useEffect)((function(){t.current&&(t.current=!1)})),{receivedUserInput:t,onUserInput:r}}(),r=n.receivedUserInput,o=n.onUserInput,i=so(e,r),u=(0,s.useMemo)((function(){return new oo(t,i)}),[i,t]),a=(0,s.useRef)(null),c=(0,s.useRef)(!1);return io(e,(0,s.useCallback)((function(e){r.current&&(c.current=!0,u.flush(e),a.current&&clearTimeout(a.current),a.current=setTimeout((function(){c.current=!1,a.current=null}),250))}),[]),co),{isReconciling:c,onUserInput:o}}var fo=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ho=(0,s.createContext)(!1);var mo=(0,s.createContext)({});var Do,go,Co,Bo,bo=["editor","children","onChange","value"],yo=function(e){var t=e.editor,n=e.children,r=e.onChange,o=e.value,u=Cn(e,bo),a=(0,s.useRef)(!1),c=s.useState((function(){if(!mt.isNodeList(o))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(o)));if(!dt.isEditor(t))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(t)));return t.children=o,Object.assign(t,u),[t]})),l=(0,i.Z)(c,2),d=l[0],f=l[1],p=function(e){var t=(0,s.useRef)([]).current,n=(0,s.useRef)({editor:e}).current,r=(0,s.useCallback)((function(e){n.editor=e,t.forEach((function(t){return t(e)}))}),[]);return{selectorContext:(0,s.useMemo)((function(){return{getSlate:function(){return n.editor},addEventListener:function(e){return t.push(e),function(){t.splice(t.indexOf(e),1)}}}}),[t,n]),onChange:r}}(t),v=p.selectorContext,h=p.onChange,m=(0,s.useCallback)((function(){r&&r(t.children),f([t]),h(t)}),[r]);Qn.set(t,m),(0,s.useEffect)((function(){return function(){Qn.set(t,(function(){})),a.current=!0}}),[]);var D=(0,s.useState)(ro.isFocused(t)),g=(0,i.Z)(D,2),C=g[0],B=g[1];return(0,s.useEffect)((function(){B(ro.isFocused(t))})),Rn((function(){var e=function(){return B(ro.isFocused(t))};return Bn?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),function(){document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),s.createElement(mo.Provider,{value:v},s.createElement(Ar.Provider,{value:d},s.createElement(hr.Provider,{value:t},s.createElement(ho.Provider,{value:C},n))))},Eo=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},xo=function(e,t,n){var r=ro.toDOMRange(e,t).getBoundingClientRect(),o=ro.toDOMRange(e,n).getBoundingClientRect();return Eo(r,o)&&Eo(o,r)},wo=function(e){var t=e,n=t.apply,r=t.onChange,o=t.deleteBackward;return Un.set(t,new WeakMap),t.deleteBackward=function(n){if("line"!==n)return o(n);if(e.selection&&Zt.isCollapsed(e.selection)){var r=dt.above(e,{match:function(t){return dt.isBlock(e,t)},at:e.selection});if(r){var u=(0,i.Z)(r,2)[1],a=dt.range(e,u,e.selection.anchor),s=function(e,t){var n=dt.range(e,Zt.end(t)),r=Array.from(dt.positions(e,{at:t})),o=0,i=r.length,u=Math.floor(i/2);if(xo(e,dt.range(e,r[o]),n))return dt.range(e,r[o],n);if(r.length<2)return dt.range(e,r[r.length-1],n);for(;u!==r.length&&u!==o;)xo(e,dt.range(e,r[u]),n)?i=u:o=u,u=Math.floor((o+i)/2);return dt.range(e,r[i],n)}(t,a);Zt.isCollapsed(s)||Qt.delete(e,{at:s})}}},t.apply=function(r){var o=[];switch(r.type){case"insert_text":case"remove_text":case"set_node":case"split_node":o.push.apply(o,(0,f.Z)(Ao(t,r.path)));break;case"set_selection":var u;null===(u=Yn.get(e))||void 0===u||u.unref(),Yn.delete(e);break;case"insert_node":case"remove_node":o.push.apply(o,(0,f.Z)(Ao(t,Bt.parent(r.path))));break;case"merge_node":var a=Bt.previous(r.path);o.push.apply(o,(0,f.Z)(Ao(t,a)));break;case"move_node":var s=Bt.common(Bt.parent(r.path),Bt.parent(r.newPath));o.push.apply(o,(0,f.Z)(Ao(t,s)))}n(r);for(var c=0,l=o;c<l.length;c++){var d=(0,i.Z)(l[c],2),p=d[0],v=d[1],h=dt.node(t,p),m=(0,i.Z)(h,1)[0];qn.set(m,v)}},t.setFragmentData=function(e){var n=t.selection;if(n){var r=Zt.edges(n),o=(0,i.Z)(r,2),u=o[0],a=o[1],s=dt.void(t,{at:u.path}),c=dt.void(t,{at:a.path});if(!Zt.isCollapsed(n)||s){var l=ro.toDOMRange(t,n),d=l.cloneContents(),f=d.childNodes[0];if(d.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(f=e)})),c){var p=(0,i.Z)(c,1)[0],v=l.cloneRange(),h=ro.toDOMNode(t,p);v.setEndAfter(h),d=v.cloneContents()}if(s&&(f=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Sr(f)){var m=f.ownerDocument.createElement("span");m.style.whiteSpace="pre",m.appendChild(f),d.appendChild(m),f=m}var D=t.getFragment(),g=JSON.stringify(D),C=window.btoa(encodeURIComponent(g));f.setAttribute("data-slate-fragment",C),e.setData("application/x-slate-fragment",C);var B=d.ownerDocument.createElement("div");return B.appendChild(d),B.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(B),e.setData("text/html",B.innerHTML),e.setData("text/plain",Mr(B)),d.ownerDocument.body.removeChild(B),e}}},t.insertData=function(e){t.insertFragmentData(e)||t.insertTextData(e)},t.insertFragmentData=function(e){var n=e.getData("application/x-slate-fragment")||Lr(e);if(n){var r=decodeURIComponent(window.atob(n)),o=JSON.parse(r);return t.insertFragment(o),!0}return!1},t.insertTextData=function(e){var n=e.getData("text/plain");if(n){var r,o=n.split(/\r\n|\r|\n/),i=!1,u=(0,h.Z)(o);try{for(u.s();!(r=u.n()).done;){var a=r.value;i&&Qt.splitNodes(t,{always:!0}),t.insertText(a),i=!0}}catch(s){u.e(s)}finally{u.f()}return!0}return!1},t.onChange=function(){Dn.unstable_batchedUpdates((function(){var e=Qn.get(t);e&&e(),r()}))},t},Ao=function(e,t){var n,r=[],o=(0,h.Z)(dt.levels(e,{at:t}));try{for(o.s();!(n=o.n()).done;){var u=(0,i.Z)(n.value,2),a=u[0],s=u[1],c=ro.findKey(e,a);r.push([s,c])}}catch(l){o.e(l)}finally{o.f()}return r},Fo=En?function(e){var t=e.autoFocus,n=e.decorate,r=void 0===n?Hr:n,o=e.onDOMBeforeInput,u=e.placeholder,a=e.readOnly,c=void 0!==a&&a,l=e.renderElement,d=e.renderLeaf,f=e.renderPlaceholder,p=void 0===f?function(e){return s.createElement(zr,Object.assign({},e))}:f,h=e.style,m=void 0===h?{}:h,D=e.as,g=void 0===D?"div":D,C=Cn(e,fo),B=Fr(),b=(0,s.useState)(!1),y=(0,i.Z)(b,2),E=y[0],x=y[1],w=(0,s.useRef)(null),A=lo(w);Kn.set(B,c);var F=(0,s.useMemo)((function(){return{isComposing:!1,isUpdatingSelection:!1,latestElement:null}}),[]),Z=cr(B);Rn((function(){var e;w.current&&(e=kr(w.current))?(Wn.set(B,e),Vn.set(B,w.current),Hn.set(B,w.current),zn.set(w.current,B)):Hn.delete(B);try{var t=B.selection,n=ro.findDocumentOrShadowRoot(B).getSelection();if(F.isComposing||!n||!ro.isFocused(B))return;var r="None"!==n.type;if(!t&&!r)return;var o=Vn.get(B),i=!1;if(o.contains(n.anchorNode)&&o.contains(n.focusNode)&&(i=!0),r&&i&&t){var u=ro.toSlateRange(B,n,{exactMatch:!0,suppressThrow:!0});if(u&&Zt.equals(u,t))return}if(t&&!ro.hasRange(B,t))return void(B.selection=ro.toSlateRange(B,n,{exactMatch:!1,suppressThrow:!1}));var a=ro.toDOMNode(B,B);F.isUpdatingSelection=!0;var s=t&&ro.toDOMRange(B,t);if(s){Zt.isBackward(t)?n.setBaseAndExtent(s.endContainer,s.endOffset,s.startContainer,s.startOffset):n.setBaseAndExtent(s.startContainer,s.startOffset,s.endContainer,s.endOffset);var c=s.startContainer.parentElement;c.getBoundingClientRect=s.getBoundingClientRect.bind(s),hn(c,{scrollMode:"if-needed",boundary:a}),delete c.getBoundingClientRect}else n.removeAllRanges();setTimeout((function(){F.isUpdatingSelection=!1}))}catch(l){F.isUpdatingSelection=!1}})),(0,s.useEffect)((function(){w.current&&t&&w.current.focus()}),[t]);var k=(0,s.useCallback)(sn()((function(){try{if(!F.isComposing&&!F.isUpdatingSelection&&!A.isReconciling.current){var e=ro.findDocumentOrShadowRoot(B),t=e.activeElement,n=ro.toDOMNode(B,B),r=e.getSelection();if(t===n?(F.latestElement=t,Jn.set(B,!0)):Jn.delete(B),!r)return Qt.deselect(B);var o=r.anchorNode,i=r.focusNode,u=Kr(B,o)||Jr(B,o),a=Kr(B,i)||Jr(B,i);if(u&&a){var s=ro.toSlateRange(B,r,{exactMatch:!1,suppressThrow:!1});Qt.select(B,s)}else Qt.deselect(B)}}catch(c){}}),100),[c]),P=(0,s.useMemo)((function(){return un()(k,0)}),[k]),j=(0,s.useCallback)((function(e){c||!Kr(B,e.target)||Xr(e,o)||(P.flush(),A.onUserInput())}),[c,o]);Rn((function(){var e=w.current;return null===e||void 0===e||e.addEventListener("beforeinput",j),function(){return null===e||void 0===e?void 0:e.removeEventListener("beforeinput",j)}}),[Z,o]),Rn((function(){var e=ro.getWindow(B);return e.document.addEventListener("selectionchange",P),function(){e.document.removeEventListener("selectionchange",P)}}),[P]);var O=r([B,[]]);if(u&&1===B.children.length&&1===Array.from(mt.texts(B)).length&&""===mt.string(B)&&!E){var S,T=dt.start(B,[]);O.push((S={},(0,v.Z)(S,tr,!0),(0,v.Z)(S,"placeholder",u),(0,v.Z)(S,"anchor",T),(0,v.Z)(S,"focus",T),S))}return s.createElement(xr.Provider,{value:c},s.createElement(Zr.Provider,{value:r},s.createElement(g,Object.assign({key:Z,role:c?void 0:"textbox"},C,{spellCheck:C.spellCheck,autoCorrect:C.autoCorrect,autoCapitalize:C.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c||void 0,suppressContentEditableWarning:!0,ref:w,style:vo({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},m),onCopy:(0,s.useCallback)((function(e){Kr(B,e.target)&&!$r(e,C.onCopy)&&(e.preventDefault(),ro.setFragmentData(B,e.clipboardData,"copy"))}),[C.onCopy]),onCut:(0,s.useCallback)((function(e){if(!c&&Kr(B,e.target)&&!$r(e,C.onCut)){e.preventDefault(),ro.setFragmentData(B,e.clipboardData,"cut");var t=B.selection;if(t)if(Zt.isExpanded(t))dt.deleteFragment(B);else{var n=mt.parent(B,t.anchor.path);dt.isVoid(B,n)&&Qt.delete(B)}}}),[c,C.onCut]),onFocus:(0,s.useCallback)((function(e){if(!c&&!F.isUpdatingSelection&&Kr(B,e.target)&&!$r(e,C.onFocus)){var t=ro.findDocumentOrShadowRoot(B);F.latestElement=t.activeElement,Jn.set(B,!0)}}),[c,C.onFocus]),onBlur:(0,s.useCallback)((function(e){if(!c&&!F.isUpdatingSelection&&Kr(B,e.target)&&!$r(e,C.onBlur)){var t=ro.findDocumentOrShadowRoot(B);if(F.latestElement!==t.activeElement){var n=e.relatedTarget;if(n!==ro.toDOMNode(B,B)&&(!Pr(n)||!n.hasAttribute("data-slate-spacer"))){if(null!=n&&jr(n)&&ro.hasDOMNode(B,n)){var r=ro.toSlateNode(B,n);if(it.isElement(r)&&!B.isVoid(r))return}Jn.delete(B)}}}}),[c,C.onBlur]),onClick:(0,s.useCallback)((function(e){if(!c&&Ur(B,e.target)&&!$r(e,C.onClick)&&jr(e.target)){var t=ro.toSlateNode(B,e.target),n=ro.findPath(B,t);if(dt.hasPath(B,n))if(mt.get(B,n)===t){var r=dt.start(B,n),o=dt.end(B,n),i=dt.void(B,{at:r}),u=dt.void(B,{at:o});if(i&&u&&Bt.equals(i[1],u[1])){var a=dt.range(B,r);Qt.select(B,a)}}}}),[c,C.onClick]),onCompositionEnd:(0,s.useCallback)((function(e){Kr(B,e.target)&&!$r(e,C.onCompositionEnd)&&(P.flush(),setTimeout((function(){F.isComposing&&x(!1),F.isComposing=!1,$n.set(B,!1),Xn.set(B,!0);var e=Gn.get(B)||[];if(e.length){Gn.set(B,[]);var t=B.selection;e.forEach((function(e){var n=e.text.insertText,r=eo(B,t,e);Qt.setSelection(B,r),dt.insertText(B,n)}))}}),20))}),[C.onCompositionEnd]),onCompositionUpdate:(0,s.useCallback)((function(e){Kr(B,e.target)&&!$r(e,C.onCompositionUpdate)&&(!F.isComposing&&x(!0),F.isComposing=!0,$n.set(B,!0))}),[C.onCompositionUpdate]),onCompositionStart:(0,s.useCallback)((function(e){Kr(B,e.target)&&!$r(e,C.onCompositionStart)&&(!F.isComposing&&x(!0),F.isComposing=!0,$n.set(B,!0))}),[C.onCompositionStart]),onPaste:(0,s.useCallback)((function(e){e.clipboardData=function(e){if(!e.getData("application/x-slate-fragment")){var t=Lr(e);if(t){var n=new DataTransfer;return e.types.forEach((function(t){n.setData(t,e.getData(t))})),n.setData("application/x-slate-fragment",t),n}}return e}(e.clipboardData),!Kr(B,e.target)||$r(e,C.onPaste)||c||(e.preventDefault(),ro.insertData(B,e.clipboardData))}),[c,C.onPaste])}),gr({decorations:O,node:B,renderElement:l,renderPlaceholder:p,renderLeaf:d,selection:B.selection}))))}:function(e){var t=e.autoFocus,n=e.decorate,r=void 0===n?Hr:n,o=e.onDOMBeforeInput,u=e.placeholder,a=e.readOnly,c=void 0!==a&&a,l=e.renderElement,d=e.renderLeaf,p=e.renderPlaceholder,m=void 0===p?function(e){return s.createElement(zr,Object.assign({},e))}:p,D=e.scrollSelectionIntoView,g=void 0===D?qr:D,C=e.style,B=void 0===C?{}:C,b=e.as,y=void 0===b?"div":b,E=Cn(e,Ir),x=Fr(),w=(0,s.useState)(!1),A=(0,i.Z)(w,2),F=A[0],Z=A[1],k=(0,s.useRef)(null),P=(0,s.useRef)([]);Kn.set(x,c);var j=(0,s.useMemo)((function(){return{isComposing:!1,hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}}),[]);Rn((function(){var e;k.current&&(e=kr(k.current))?(Wn.set(x,e),Vn.set(x,k.current),Hn.set(x,k.current),zn.set(k.current,x)):Hn.delete(x);var t=x.selection,n=ro.findDocumentOrShadowRoot(x).getSelection();if(!j.isComposing&&n&&ro.isFocused(x)){var r="None"!==n.type;if(t||r){var o=Vn.get(x),i=!1;if(o.contains(n.anchorNode)&&o.contains(n.focusNode)&&(i=!0),r&&i&&t){var u=ro.toSlateRange(x,n,{exactMatch:!0,suppressThrow:!0});if(u&&Zt.equals(u,t))return}if(!t||ro.hasRange(x,t)){j.isUpdatingSelection=!0;var a=t&&ro.toDOMRange(x,t);a?(Zt.isBackward(t)?n.setBaseAndExtent(a.endContainer,a.endOffset,a.startContainer,a.startOffset):n.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset),g(x,a)):n.removeAllRanges(),setTimeout((function(){a&&xn&&ro.toDOMNode(x,x).focus();j.isUpdatingSelection=!1}))}else x.selection=ro.toSlateRange(x,n,{exactMatch:!1,suppressThrow:!1})}}})),(0,s.useEffect)((function(){k.current&&t&&k.current.focus()}),[t]);var O=(0,s.useCallback)(sn()((function(){if(!j.isComposing&&!j.isUpdatingSelection&&!j.isDraggingInternally){var e=ro.findDocumentOrShadowRoot(x),t=e.activeElement,n=ro.toDOMNode(x,x),r=e.getSelection();if(t===n?(j.latestElement=t,Jn.set(x,!0)):Jn.delete(x),!r)return Qt.deselect(x);var o=r.anchorNode,i=r.focusNode,u=Kr(x,o)||Jr(x,o),a=Kr(x,i)||Jr(x,i);if(u&&a){var s=ro.toSlateRange(x,r,{exactMatch:!1,suppressThrow:!1});Qt.select(x,s)}}}),100),[c]),S=(0,s.useMemo)((function(){return un()(O,0)}),[O]),T=(0,s.useCallback)((function(e){if(!c&&Kr(x,e.target)&&!Xr(e,o)){var t;S.flush(),O.flush();var n=x.selection,r=e.inputType,u=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;var a=!1;if("insertText"===r&&n&&Zt.isCollapsed(n)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==n.anchor.offset){a=!0,x.marks&&(a=!1);var s=n.anchor,l=dt.above(x,{at:s,match:function(e){return dt.isInline(x,e)},mode:"highest"});if(l){var d=(0,i.Z)(l,2)[1];dt.isEnd(x,n.anchor,d)&&(a=!1)}}if(a||e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var f=e.getTargetRanges(),p=(0,i.Z)(f,1)[0];if(p){var v=ro.toSlateRange(x,p,{exactMatch:!1,suppressThrow:!1});if(!n||!Zt.equals(n,v)){var h=x.selection&&dt.rangeRef(x,x.selection);Qt.select(x,v),h&&Yn.set(x,h)}}}if(n&&Zt.isExpanded(n)&&r.startsWith("delete")){var m=r.endsWith("Backward")?"backward":"forward";return void dt.deleteFragment(x,{direction:m})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":dt.deleteFragment(x);break;case"deleteContent":case"deleteContentForward":dt.deleteForward(x);break;case"deleteContentBackward":dt.deleteBackward(x);break;case"deleteEntireSoftLine":dt.deleteBackward(x,{unit:"line"}),dt.deleteForward(x,{unit:"line"});break;case"deleteHardLineBackward":dt.deleteBackward(x,{unit:"block"});break;case"deleteSoftLineBackward":dt.deleteBackward(x,{unit:"line"});break;case"deleteHardLineForward":dt.deleteForward(x,{unit:"block"});break;case"deleteSoftLineForward":dt.deleteForward(x,{unit:"line"});break;case"deleteWordBackward":dt.deleteBackward(x,{unit:"word"});break;case"deleteWordForward":dt.deleteForward(x,{unit:"word"});break;case"insertLineBreak":dt.insertSoftBreak(x);break;case"insertParagraph":dt.insertBreak(x);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":var D=x.selection;D&&Zt.isExpanded(D)&&dt.deleteFragment(x),"insertFromComposition"===r&&(j.isComposing&&Z(!1),j.isComposing=!1),"DataTransfer"===(null===u||void 0===u?void 0:u.constructor.name)?ro.insertData(x,u):"string"===typeof u&&(a?P.current.push((function(){return dt.insertText(x,u)})):dt.insertText(x,u))}var g=null===(t=Yn.get(x))||void 0===t?void 0:t.unref();Yn.delete(x),!g||x.selection&&Zt.equals(x.selection,g)||Qt.select(x,g)}}),[c,o]);Rn((function(){return k.current&&Tn&&k.current.addEventListener("beforeinput",T),function(){k.current&&Tn&&k.current.removeEventListener("beforeinput",T)}}),[T]),Rn((function(){var e=ro.getWindow(x);return e.document.addEventListener("selectionchange",S),function(){e.document.removeEventListener("selectionchange",S)}}),[S]);var R=(0,f.Z)(mt.nodes(x)).flatMap((function(e){var t=(0,i.Z)(e,2),n=t[0],o=t[1];return r([n,o])}));if(u&&1===x.children.length&&1===Array.from(mt.texts(x)).length&&""===mt.string(x)&&!F){var M,N=dt.start(x,[]);R.push((M={},(0,v.Z)(M,tr,!0),(0,v.Z)(M,"placeholder",u),(0,v.Z)(M,"anchor",N),(0,v.Z)(M,"focus",N),M))}return s.createElement(xr.Provider,{value:c},s.createElement(Zr.Provider,{value:r},s.createElement(y,Object.assign({role:c?void 0:"textbox"},E,{spellCheck:!(!Tn&&Sn)&&E.spellCheck,autoCorrect:Tn||!Sn?E.autoCorrect:"false",autoCapitalize:Tn||!Sn?E.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c,zindex:-1,suppressContentEditableWarning:!0,ref:k,style:Wr({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},B),onBeforeInput:(0,s.useCallback)((function(e){if(!Tn&&!c&&!$r(e,E.onBeforeInput)&&Kr(x,e.target)&&(e.preventDefault(),!j.isComposing)){var t=e.data;dt.insertText(x,t)}}),[c]),onInput:(0,s.useCallback)((function(e){var t,n=(0,h.Z)(P.current);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}P.current=[]}),[]),onBlur:(0,s.useCallback)((function(e){if(!c&&!j.isUpdatingSelection&&Kr(x,e.target)&&!$r(e,E.onBlur)){var t=ro.findDocumentOrShadowRoot(x);if(j.latestElement!==t.activeElement){var n=e.relatedTarget;if(n!==ro.toDOMNode(x,x)&&(!Pr(n)||!n.hasAttribute("data-slate-spacer"))){if(null!=n&&jr(n)&&ro.hasDOMNode(x,n)){var r=ro.toSlateNode(x,n);if(it.isElement(r)&&!x.isVoid(r))return}if(wn){var o=t.getSelection();null===o||void 0===o||o.removeAllRanges()}Jn.delete(x)}}}}),[c,E.onBlur]),onClick:(0,s.useCallback)((function(e){if(Ur(x,e.target)&&!$r(e,E.onClick)&&jr(e.target)){var t=ro.toSlateNode(x,e.target),n=ro.findPath(x,t);if(3===e.detail){var r=dt.start(x,[n[0]]),o=dt.end(x,[n[0]]),i=dt.range(x,r,o);return void Qt.select(x,i)}if(c)return;if(dt.hasPath(x,n))if(mt.get(x,n)===t){var u=dt.start(x,n),a=dt.end(x,n),s=dt.void(x,{at:u}),l=dt.void(x,{at:a});if(s&&l&&Bt.equals(s[1],l[1])){var d=dt.range(x,u);Qt.select(x,d)}}}}),[c,E.onClick]),onCompositionEnd:(0,s.useCallback)((function(e){if(Kr(x,e.target)&&!$r(e,E.onCompositionEnd)&&(j.isComposing&&Z(!1),j.isComposing=!1,wn||kn||bn||Pn||On||jn||!e.data||dt.insertText(x,e.data),x.selection&&Zt.isCollapsed(x.selection))){var t=x.selection.anchor.path,n=mt.leaf(x,t);j.hasInsertPrefixInCompositon&&(j.hasInsertPrefixInCompositon=!1,dt.withoutNormalizing(x,(function(){var e=n.text.replace(/^\uFEFF/,"");Qt.delete(x,{distance:n.text.length,reverse:!0}),dt.insertText(x,e)})))}}),[E.onCompositionEnd]),onCompositionUpdate:(0,s.useCallback)((function(e){Kr(x,e.target)&&!$r(e,E.onCompositionUpdate)&&(!j.isComposing&&Z(!0),j.isComposing=!0)}),[E.onCompositionUpdate]),onCompositionStart:(0,s.useCallback)((function(e){if(Kr(x,e.target)&&!$r(e,E.onCompositionStart)){var t=x.selection,n=x.marks;if(t){if(Zt.isExpanded(t))return void dt.deleteFragment(x);var r=dt.above(x,{match:function(e){return dt.isInline(x,e)},mode:"highest"});if(r){var o=(0,i.Z)(r,2)[1];if(dt.isEnd(x,t.anchor,o)){var u=dt.after(x,o);Qt.setSelection(x,{anchor:u,focus:u})}}n&&(j.hasInsertPrefixInCompositon=!0,Qt.insertNodes(x,Wr({text:"\ufeff"},n),{select:!0}))}}}),[E.onCompositionStart]),onCopy:(0,s.useCallback)((function(e){Kr(x,e.target)&&!$r(e,E.onCopy)&&(e.preventDefault(),ro.setFragmentData(x,e.clipboardData,"copy"))}),[E.onCopy]),onCut:(0,s.useCallback)((function(e){if(!c&&Kr(x,e.target)&&!$r(e,E.onCut)){e.preventDefault(),ro.setFragmentData(x,e.clipboardData,"cut");var t=x.selection;if(t)if(Zt.isExpanded(t))dt.deleteFragment(x);else{var n=mt.parent(x,t.anchor.path);dt.isVoid(x,n)&&Qt.delete(x)}}}),[c,E.onCut]),onDragOver:(0,s.useCallback)((function(e){if(Ur(x,e.target)&&!$r(e,E.onDragOver)){var t=ro.toSlateNode(x,e.target);dt.isVoid(x,t)&&e.preventDefault()}}),[E.onDragOver]),onDragStart:(0,s.useCallback)((function(e){if(!c&&Ur(x,e.target)&&!$r(e,E.onDragStart)){var t=ro.toSlateNode(x,e.target),n=ro.findPath(x,t);if(dt.isVoid(x,t)||dt.void(x,{at:n,voids:!0})){var r=dt.range(x,n);Qt.select(x,r)}j.isDraggingInternally=!0,ro.setFragmentData(x,e.dataTransfer,"drag")}}),[c,E.onDragStart]),onDrop:(0,s.useCallback)((function(e){if(!c&&Ur(x,e.target)&&!$r(e,E.onDrop)){e.preventDefault();var t=x.selection,n=ro.findEventRange(x,e),r=e.dataTransfer;Qt.select(x,n),j.isDraggingInternally&&(!t||Zt.equals(t,n)||dt.void(x,{at:n,voids:!0})||Qt.delete(x,{at:t})),ro.insertData(x,r),ro.isFocused(x)||ro.focus(x)}j.isDraggingInternally=!1}),[c,E.onDrop]),onDragEnd:(0,s.useCallback)((function(e){!c&&j.isDraggingInternally&&E.onDragEnd&&Ur(x,e.target)&&E.onDragEnd(e),j.isDraggingInternally=!1}),[c,E.onDragEnd]),onFocus:(0,s.useCallback)((function(e){if(!c&&!j.isUpdatingSelection&&Kr(x,e.target)&&!$r(e,E.onFocus)){var t=ro.toDOMNode(x,x),n=ro.findDocumentOrShadowRoot(x);if(j.latestElement=n.activeElement,xn&&e.target!==t)return void t.focus();Jn.set(x,!0)}}),[c,E.onFocus]),onKeyDown:(0,s.useCallback)((function(e){if(!c&&Kr(x,e.target)&&!$r(e,E.onKeyDown)&&!j.isComposing){var t=e.nativeEvent,n=x.selection,r=x.children[null!==n?n.focus.path[0]:0],o="rtl"===rn()(mt.string(r));if(Er.isRedo(t)){e.preventDefault();var i=x;return void("function"===typeof i.redo&&i.redo())}if(Er.isUndo(t)){e.preventDefault();var u=x;return void("function"===typeof u.undo&&u.undo())}if(Er.isMoveLineBackward(t))return e.preventDefault(),void Qt.move(x,{unit:"line",reverse:!0});if(Er.isMoveLineForward(t))return e.preventDefault(),void Qt.move(x,{unit:"line"});if(Er.isExtendLineBackward(t))return e.preventDefault(),void Qt.move(x,{unit:"line",edge:"focus",reverse:!0});if(Er.isExtendLineForward(t))return e.preventDefault(),void Qt.move(x,{unit:"line",edge:"focus"});if(Er.isMoveBackward(t))return e.preventDefault(),void(n&&Zt.isCollapsed(n)?Qt.move(x,{reverse:!o}):Qt.collapse(x,{edge:"start"}));if(Er.isMoveForward(t))return e.preventDefault(),void(n&&Zt.isCollapsed(n)?Qt.move(x,{reverse:o}):Qt.collapse(x,{edge:"end"}));if(Er.isMoveWordBackward(t))return e.preventDefault(),n&&Zt.isExpanded(n)&&Qt.collapse(x,{edge:"focus"}),void Qt.move(x,{unit:"word",reverse:!o});if(Er.isMoveWordForward(t))return e.preventDefault(),n&&Zt.isExpanded(n)&&Qt.collapse(x,{edge:"focus"}),void Qt.move(x,{unit:"word",reverse:o});if(Tn){if((Fn||wn)&&n&&(Er.isDeleteBackward(t)||Er.isDeleteForward(t))&&Zt.isCollapsed(n)){var a=mt.parent(x,n.anchor.path);if(it.isElement(a)&&dt.isVoid(x,a)&&dt.isInline(x,a))return e.preventDefault(),void dt.deleteBackward(x,{unit:"block"})}}else{if(Er.isBold(t)||Er.isItalic(t)||Er.isTransposeCharacter(t))return void e.preventDefault();if(Er.isSoftBreak(t))return e.preventDefault(),void dt.insertSoftBreak(x);if(Er.isSplitBlock(t))return e.preventDefault(),void dt.insertBreak(x);if(Er.isDeleteBackward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"backward"}):dt.deleteBackward(x));if(Er.isDeleteForward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"forward"}):dt.deleteForward(x));if(Er.isDeleteLineBackward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"backward"}):dt.deleteBackward(x,{unit:"line"}));if(Er.isDeleteLineForward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"forward"}):dt.deleteForward(x,{unit:"line"}));if(Er.isDeleteWordBackward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"backward"}):dt.deleteBackward(x,{unit:"word"}));if(Er.isDeleteWordForward(t))return e.preventDefault(),void(n&&Zt.isExpanded(n)?dt.deleteFragment(x,{direction:"forward"}):dt.deleteForward(x,{unit:"word"}))}}}),[c,E.onKeyDown]),onPaste:(0,s.useCallback)((function(e){c||!Kr(x,e.target)||$r(e,E.onPaste)||Tn&&!function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(e.nativeEvent)||(e.preventDefault(),ro.insertData(x,e.clipboardData))}),[c,E.onPaste])}),s.createElement(Vr,{decorations:R,node:x,renderElement:l,renderPlaceholder:m,renderLeaf:d,selection:x.selection}))))},Zo=function(e){return D(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||Ct.isOperationList(e.redos[0]))&&(0===e.undos.length||Ct.isOperationList(e.undos[0]))},ko=(new WeakMap,new WeakMap),Po=new WeakMap,jo={isHistoryEditor:function(e){return Zo(e.history)&&dt.isEditor(e)},isMerging:function(e){return Po.get(e)},isSaving:function(e){return ko.get(e)},redo:function(e){e.redo()},undo:function(e){e.undo()},withoutMerging:function(e,t){var n=jo.isMerging(e);Po.set(e,!1),t(),Po.set(e,n)},withoutSaving:function(e,t){var n=jo.isSaving(e);ko.set(e,!1),t(),ko.set(e,n)}},Oo=function(e,t){return"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!Bt.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!Bt.equals(e.path,t.path)))},So=function(e,t){return"set_selection"!==e.type||null!=e.properties&&null!=e.newProperties},To=function(e,t){return!(!t||"set_selection"!==e.type||"set_selection"!==t.type)},Ro=function(e){return"set_selection"!==e.type},Mo=n(16444),No=n(57993),Lo=n(95075),Io=n(9972),_o=n(94313),Wo=n(23730),Vo=n(94496),zo=n(22e3),Ho=n(87946),qo=n(14472),Uo=n(25935),Ko=n(51090),Jo=n(36862),$o=n(994),Xo=n(94342),Yo=n(10446),Go=n(41878),Qo=["unordered-list","ordered-list"],ei=["paragraph","header-1","header-2","header-3","header-4"],ti=function(e){return it.isElement(e)&&Qo.includes(e.type)},ni=function(e){return it.isElement(e)&&"list-item"===e.type},ri={toggleList:function(e,t){var n,r=dt.nodes(t,{at:(null===(n=t.selection)||void 0===n?void 0:n.anchor.path)||void 0,match:ni});(0,i.Z)(r,1)[0]?Qt.setNodes(t,{type:e},{match:ti}):(Qt.wrapNodes(t,{type:e,children:[]}),Qt.wrapNodes(t,{type:"list-item",order:1,level:1,id:(0,zo.Z)(),children:[]}))},checkListEnter:function(e,t){var n,r=dt.nodes(e,{at:(null===(n=e.selection)||void 0===n?void 0:n.anchor.path)||void 0,match:ni,mode:"lowest"}),u=(0,i.Z)(r,1)[0];if(["Backspace","Enter"].includes(t.key)&&u){var a,s,c,l=(0,i.Z)(u,2),d=l[0],p=l[1],v=dt.nodes(e,{at:(null===(a=e.selection)||void 0===a?void 0:a.anchor.path)||void 0,match:Rt.isText}),h=(0,i.Z)(v,1),m=(0,i.Z)(h[0],1)[0],D=dt.nodes(e,{at:e.selection||void 0,match:ni,mode:"highest"}),g=(0,i.Z)(D,1),C=(0,i.Z)(g[0],1)[0];try{s=Bt.next(p)}catch(w){s=void 0}if(""!==m.text)if("Enter"===t.key){t.preventDefault();var B=(0,zo.Z)(),b=[];if(2===d.children.length){var y=(0,o.Z)({},d.children[1]);y.children=y.children.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{parentId:B})})),b.push(y),Qt.removeNodes(e,{at:[].concat((0,f.Z)(p),[1])})}Qt.insertNodes(e,{type:"list-item",order:d.order?d.order+1:0,level:d.level?d.level:1,id:B,parentId:C.id,children:[{type:"paragraph",children:[{text:""}]}].concat(b)}),Qt.liftNodes(e,{match:function(e){return ni(e)&&e.id===B}});var E={path:[].concat((0,f.Z)(Bt.next(p)),[0,0]),offset:0};Qt.setSelection(e,{focus:E,anchor:E})}else 0===(null===(c=e.selection)||void 0===c?void 0:c.anchor.offset)&&ri.unNestList(e);else if(C&&C.children.length>1)t.preventDefault(),ri.unNestList(e);else if(s){var x;t.preventDefault(),Qt.unwrapNodes(e,{at:(null===(x=e.selection)||void 0===x?void 0:x.anchor.path)||void 0,match:ni}),Qt.liftNodes(e)}}},nestList:function(e){var t,n,r=dt.nodes(e,{at:(null===(t=e.selection)||void 0===t?void 0:t.anchor.path)||void 0,match:ni,mode:"lowest"}),u=(0,i.Z)(r,1)[0],a="unordered-list",s=dt.nodes(e,{at:(null===(n=e.selection)||void 0===n?void 0:n.anchor.path)||void 0,match:ti,mode:"highest"}),c=(0,i.Z)(s,1)[0];c&&(a=c[0].type);var l,d,p=u||[void 0,void 0],v=(0,i.Z)(p,2),h=v[0],m=v[1];try{l=Bt.previous(m)}catch(L){l=void 0}if(h&&l&&h.level<3){var D=dt.nodes(e,{at:l,match:function(e){return ni(e)&&e.level===h.level}}),g=(0,i.Z)(D,1),C=(0,i.Z)(g[0],2),B=C[0],b=C[1],y=dt.nodes(e,{at:l,match:function(e){return it.isElement(e)&&ei.includes(e.type)}}),E=(0,i.Z)(y,1),x=(0,i.Z)(E[0],2)[1],w=[],A=[h.children[0]];if(h.children.length&&h.children.length>1){var F=h.children[1];F&&(w=(0,f.Z)(F.children))}if(B.children.length>1){var Z=B.children[1].children,k=dt.nodes(e,{at:b,match:function(e){return ni(e)&&e.order===Z.length&&e.level-1===h.level}}),P=(0,i.Z)(k,1),j=(0,i.Z)(P[0],2),O=j[0],S=j[1],T=Bt.next(S),R=O.order+1;Qt.insertNodes(e,[(0,o.Z)((0,o.Z)({},h),{},{level:h.level+1,order:O.order+1,parentId:B.id,children:A})].concat((0,f.Z)(w.map((function(e){return R+=1,(0,o.Z)((0,o.Z)({},e),{},{level:h.level+1,order:R,parentId:B.id})})))),{at:T})}else{var M=((d=x)[d.length-1]=d[d.length-1]+1,d),N=1;Qt.insertNodes(e,{type:a,children:[(0,o.Z)((0,o.Z)({},h),{},{order:1,level:h.level+1,parentId:B.id,children:A})].concat((0,f.Z)(w.map((function(e){return N+=1,(0,o.Z)((0,o.Z)({},e),{},{level:h.level+1,order:N,parentId:B.id})}))))},{at:M,mode:"lowest"})}Qt.removeNodes(e,{at:m})}},unNestList:function(e){var t,n=dt.nodes(e,{at:(null===(t=e.selection)||void 0===t?void 0:t.anchor.path)||void 0,match:ni,mode:"lowest"}),r=(0,i.Z)(n,1),u=(0,i.Z)(r[0],2),a=u[0],s=u[1],c=dt.nodes(e,{match:function(e){return ti(e)&&1===e.children.length},mode:"highest"});if((0,i.Z)(c,1)[0])return Qt.unwrapNodes(e,{match:ni}),void Qt.unwrapNodes(e,{match:ti});var l=dt.nodes(e,{at:e.selection||void 0,match:function(e){return ni(e)&&a.level-e.level===2},mode:"lowest"}),d=(0,i.Z)(l,1)[0],p=dt.nodes(e,{at:e.selection||void 0,match:function(e){return ni(e)&&a.level-e.level===1},mode:"lowest"}),v=(0,i.Z)(p,1),h=(0,i.Z)(v[0],1)[0],m=dt.nodes(e,{at:e.selection||void 0,match:ti,mode:"lowest"}),D=(0,i.Z)(m,1),g=(0,i.Z)(D[0],1)[0];if(h&&h.children.length>1){var C;if(d)C=(0,i.Z)(d,1)[0].id;if(Qt.setNodes(e,{level:a.level-1,order:h.order+1},{at:s,match:function(e){return ni(e)&&e.id===a.id}}),Qt.setNodes(e,{level:a.level},{at:s,match:function(e){return ni(e)&&e.level>a.level}}),C?Qt.setNodes(e,{parentId:C},{at:s,match:function(e){return ni(e)&&e.id===a.id}}):Qt.unsetNodes(e,"parentId",{at:s,match:function(e){return ni(e)&&e.id===a.id}}),a.order<g.children.length){for(var B,b=dt.nodes(e,{at:s,match:ti}),y=(0,i.Z)(b,1),E=(0,i.Z)(y[0],2)[1],x=Bt.next(E),w=[],A=1,F=a.order;F<g.children.length;F+=1)w.push((0,o.Z)((0,o.Z)({},g.children[F]),{},{parentId:a.id,order:A})),A+=1;Qt.insertNodes(e,{type:g.type,children:[].concat(w)},{at:x});var Z=dt.nodes(e,{at:(null===(B=e.selection)||void 0===B?void 0:B.anchor.path)||void 0,match:ti,mode:"lowest"}),k=(0,i.Z)(Z,1),P=(0,i.Z)(k[0],2),j=P[0],O=P[1],S=0;Qt.setNodes(e,{parentId:a.id,order:S},{match:function(e){return!!ni(e)&&(e.parentId===a.id&&(S+=1),e.parentId===a.id)}});for(var T=j.children.length-1;T>=a.order;T-=1){var R=[].concat((0,f.Z)(O),[T]);Qt.removeNodes(e,{at:R,match:ni})}}Qt.liftNodes(e,{match:ni}),Qt.liftNodes(e,{match:ni})}}},oi=ri,ii={48:"paragraph",49:"heading-1",50:"heading-2",51:"heading-3",52:"heading-4"},ui={isFormatActive:function(e,t){var n=dt.marks(t);return!!n&&!0===n[e]},toggleFormat:function(e,t){ui.isFormatActive(e,t)?dt.removeMark(t,e):dt.addMark(t,e,!0)},isBlockActive:function(e,t){var n=dt.nodes(t,{match:function(t){return it.isElement(t)&&t.type===e}});return!!(0,i.Z)(n,1)[0]},getActiveBlockType:function(e){var t=dt.nodes(e,{at:e.selection||void 0,match:it.isElement,mode:"lowest"}),n=(0,i.Z)(t,1)[0];return n?n[0].type:""},setBlock:function(e,t){Qt.setNodes(t,{type:e},{mode:"lowest"})},replaceWithText:function(e,t,n){t&&Qt.select(e,t),Qt.insertText(e,n),Qt.move(e)},replaceWithNodes:function(e,t,n){t&&Qt.select(e,t),Qt.insertNodes(e,n)},getSelectedNode:function(e){var t=dt.nodes(e,{at:e.selection||void 0,match:function(e){return it.isElement(e)},mode:"highest"});return(0,i.Z)(t,1)[0]},appendTable:function(e){var t,n=[{type:"table",children:[{type:"table-body",children:new Array(3).fill(new Array(3).fill(0)).map((function(e){return{type:"table-row",children:e.map((function(){return{type:"table-cell",children:[{type:"paragraph",children:[{text:""}]}]}}))}}))}]},{type:"paragraph",children:[{text:""}]}];Qt.insertNodes(e,n,{mode:"highest"});var r=dt.nodes(e,{at:null===(t=e.selection)||void 0===t?void 0:t.anchor.path.slice(0,1),match:function(e){return it.isElement(e)&&"paragraph"===e.type},mode:"highest"}),o=(0,i.Z)(r,1)[0];if(o){var u=(0,i.Z)(o,2)[1];u.push(0);var a={path:u,offset:0};Qt.setSelection(e,{anchor:a,focus:a})}},appendImage:function(e,t,n){var r=dt.nodes(e,{match:function(e){return it.isElement(e)&&"image-placeholder"===e.type},at:[Number(n)]}),o=(0,i.Z)(r,1)[0];if(o){var u=(0,i.Z)(o,2)[1];return Qt.setNodes(e,{type:"image",src:t.src,alt:t.alt},{at:u}),Qt.unsetNodes(e,"id",{at:u}),dt.end(e,u)}return null},appendImagePlaceholder:function(e){var t=ui.getSelectedNode(e);if(t){var n=(0,i.Z)(t,2)[1],r=Bt.next(n);return Qt.insertNodes(e,{type:"image-placeholder",children:[{text:""}]},{at:r}),r[0].toString()}return""},createLink:function(e,t,n,r){var o={text:t||n,href:n};if(r)if(Zt.isCollapsed(r)){var u=dt.node(e,r),a=(0,i.Z)(u,1)[0];if(Rt.isText(a)&&a.href){var s=dt.before(e,r,{unit:"word"}),c=dt.after(e,r,{unit:"word"});if(s&&c)Qt.insertNodes(e,[o],{at:{anchor:s,focus:c}});else if(s){var l=dt.after(e,s,{unit:"word"});l&&Qt.insertNodes(e,[o],{at:{anchor:s,focus:l}})}else if(c){var d=dt.before(e,c,{unit:"word"});d&&Qt.insertNodes(e,[o],{at:{anchor:d,focus:c}})}}else Qt.insertNodes(e,[o])}else Qt.insertNodes(e,[o],{at:r});else Qt.insertNodes(e,[o])},checkImageEnter:function(e,t){var n=dt.nodes(e,{match:function(e){return it.isElement(e)&&"image"===e.type}}),r=(0,i.Z)(n,1)[0];if(r&&(t.keyCode<37&&t.keyCode>40&&t.preventDefault(),"Enter"===t.key)){t.preventDefault();var o=(0,i.Z)(r,2)[1],u=Bt.next(o);Qt.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:u}),Qt.select(e,u)}},checkLinkBreak:function(e,t){var n=dt.nodes(e,{match:function(e){return Rt.isText(e)&&!!e.href}}),r=(0,i.Z)(n,1)[0],o=dt.nodes(e,{match:function(e){return Rt.isText(e)&&!!e.searchResult}}),u=(0,i.Z)(o,1)[0];!r&&!u||" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),dt.insertNode(e,{text:"Enter"===t.key?"\n":" "}),dt.removeMark(e,r?"href":"searchResult"))},checkSearchDownKeys:function(e,t){var n=dt.nodes(e,{match:function(e){return Rt.isText(e)}}),r=(0,i.Z)(n,1)[0];if(r){var o,u,a,s,c,l,d,f,p,v,h=(0,i.Z)(r,2),m=h[0],D=h[1],g=null===(o=dt.next(e))||void 0===o?void 0:o[0],C=null===(u=dt.next(e))||void 0===u?void 0:u[1],B=null===(a=dt.previous(e))||void 0===a?void 0:a[0],b=null===(s=dt.previous(e))||void 0===s?void 0:s[1],y=g&&g.searchResult,E=y&&D[0]===(null===C||void 0===C?void 0:C[0]),x=B&&B.searchResult,w=x&&D[0]===(null===b||void 0===b?void 0:b[0]),A=(null===(c=e.selection)||void 0===c?void 0:c.anchor.offset)===(null===(l=e.selection)||void 0===l?void 0:l.focus.offset)&&(null===(d=e.selection)||void 0===d?void 0:d.anchor.path[0])===(null===(f=e.selection)||void 0===f?void 0:f.focus.path[0])&&(null===(p=e.selection)||void 0===p?void 0:p.anchor.path[1])===(null===(v=e.selection)||void 0===v?void 0:v.focus.path[1]);if(m.searchResult||y&&E||x&&w){var F,Z,k=m.searchResult&&0===(null===(F=e.selection)||void 0===F?void 0:F.anchor.offset),P=m.searchResult&&(null===(Z=e.selection)||void 0===Z?void 0:Z.anchor.offset)===m.text.length;"Backspace"===t.key&&(P||x&&w)?(A&&t.preventDefault(),Qt.delete(e,{at:x?b:D})):"Delete"===t.key&&(k||y&&E)?(A&&t.preventDefault(),Qt.delete(e,{at:y?C:D})):"ArrowLeft"===t.key&&(P||x&&w)?(A&&t.preventDefault(),Qt.move(e,{distance:x?B.text.length:m.text.length,unit:"character",reverse:!0})):"ArrowRight"===t.key&&(k||y&&E)?(A&&t.preventDefault(),Qt.move(e,{distance:y?g.text.length:m.text.length,unit:"character"})):1!==t.key.length||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),dt.insertNode(e,{text:"Enter"===t.key?"\n":t.key})),A&&dt.removeMark(e,"searchResult")}}},checkSearchUpKeys:function(e,t){var n=dt.nodes(e,{match:function(e){return Rt.isText(e)}}),r=(0,i.Z)(n,1)[0];if(r){var o,u,a=(0,i.Z)(r,2),s=a[0],c=a[1];if(s.searchResult&&(null===(o=e.selection)||void 0===o?void 0:o.anchor.path[0])===c[0]&&(null===(u=e.selection)||void 0===u?void 0:u.anchor.path[1])===c[1]&&e.selection){var l=e.selection.anchor.offset,d=s.text.length-e.selection.anchor.offset;"ArrowLeft"===t.key?(t.preventDefault(),Qt.move(e,{distance:l,unit:"character",reverse:!0})):"ArrowRight"===t.key?(t.preventDefault(),Qt.move(e,{distance:d,unit:"character"})):"ArrowUp"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),Qt.move(e,{distance:l<=d?l:d,unit:"character",reverse:l<=d}))}}},indent:function(e){var t=dt.nodes(e,{match:function(e){return it.isElement(e)&&"list-item"===e.type}});if((0,i.Z)(t,1)[0])oi.nestList(e);else if(e.selection){var n=dt.before(e,e.selection,{unit:"block"});n=n||dt.start(e,e.selection),Qt.insertText(e,"\t",{at:n})}},unindent:function(e){var t=dt.nodes(e,{match:function(e){return it.isElement(e)&&"list-item"===e.type}});if((0,i.Z)(t,1)[0])oi.unNestList(e);else if(e.selection){var n=dt.before(e,e.selection,{unit:"block"});n=n||dt.start(e,e.selection);var r=dt.after(e,e.selection,{unit:"block"});if(r=r||dt.end(e,e.selection),n&&r){var o=dt.string(e,{anchor:n,focus:r}).replace(/\t/,"");Qt.insertText(e,o,{at:{anchor:n,focus:r}})}}},checkKeyCommands:function(e,t,n){var r=t.metaKey||t.ctrlKey,o=!1;if(r&&!n){if(t.shiftKey)switch(t.key){case"b":ui.toggleFormat("bold",e),o=!0;break;case"i":ui.toggleFormat("italic",e),o=!0;break;case"x":ui.toggleFormat("line-through",e),o=!0;break;case"l":oi.toggleList("unordered-list",e),o=!0}else if(!t.shiftKey&&!t.altKey)switch(t.key){case"b":ui.toggleFormat("bold",e),o=!0;break;case"i":ui.toggleFormat("italic",e),o=!0}}else if(r&&n&&!t.shiftKey&&!t.altKey&&"x"===t.key){var u=dt.nodes(e,{match:function(e){return Rt.isText(e)&&!!e.searchResult}});(0,i.Z)(u,1)[0]&&dt.removeMark(e,"searchResult")}if(t.altKey&&!n&&(r?ii[t.keyCode]&&(ui.setBlock(ii[t.keyCode],e),o=!0):77===t.keyCode&&(t.shiftKey?(ui.unindent(e),o=!0):(ui.indent(e),o=!0))),n&&"Backspace"===t.key){var a=dt.nodes(e,{match:function(e){return Rt.isText(e)&&!!e.searchResult}});(0,i.Z)(a,1)[0]&&dt.removeMark(e,"searchResult"),e.selection||Qt.select(e,{anchor:{offset:0,path:[0,0]},focus:{offset:0,path:[0,0]}})}o&&t.preventDefault()}},ai=ui,si=n(66010),ci=n(87517),li=n(75903),di=n(85051),fi=n(24450),pi=(0,s.createContext)({addImage:function(){},setPopoverOpen:function(){},onEditorFocus:function(){},disabled:!1}),vi=function(){return(0,s.useContext)(pi)},hi=["tooltip","active","styleType","disabled","label","onMouseDown"],mi=Mo.ZP.button((function(e){var t=e.active,n=e.theme,o=e.styleType,i="calc(4 * ".concat(e.theme.base.spacing,")"),u=(0,ci.Z)((function(){return(0,si.CD)(.85,n.base.palette["primary-background"],n.base.palette.interactive)}));return(0,Mo.iv)(Do||(Do=(0,r.Z)(["\n    background-color: ",";\n    border: none;\n    color: ",";\n    outline: none;\n    display: inline-flex;\n    line-height: 1;\n    align-items: center;\n    justify-content: center;\n    height: ",";\n    min-width: ",";\n    opacity: ",";\n    cursor: pointer;\n\n    &:focus {\n      box-shadow: ",";\n    }\n\n    &:hover {\n      opacity: 1;\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      box-shadow: none;\n    }\n\n    ","\n\n    ","\n\n    ","\n  "])),t?u:"transparent",t?n.base.palette.interactive:n.base.palette["foreground-color"],i,i,t?"inherit":"0.7",n.base.shadow.focus,"BOLD"===o&&(0,Mo.iv)(go||(go=(0,r.Z)(["\n      font-weight: bold;\n    "]))),"ITALIC"===o&&(0,Mo.iv)(Co||(Co=(0,r.Z)(["\n      font-style: italic;\n    "]))),"STRIKE-THROUGH"===o&&(0,Mo.iv)(Bo||(Bo=(0,r.Z)(["\n      text-decoration: line-through;\n    "]))))}));mi.defaultProps=Jo.ns;var Di=(0,s.forwardRef)((function(e,t){var n=e.tooltip,r=e.active,s=e.styleType,l=e.disabled,d=e.label,f=e.onMouseDown,p=(0,u.Z)(e,hi),v=vi().disabled,h=(0,li.Z)(),m=(0,i.Z)(h,2),D=m[0],g=m[1],C=(0,di.Z)(g,t),B=(0,c.Z)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mi,(0,o.Z)({active:r,styleType:s,ref:C,disabled:v||l,tabIndex:-1,onKeyPress:function(e){"Enter"===e.key&&(null===f||void 0===f||f(e))},onMouseDown:f,type:"button","aria-label":"".concat(d).concat(r?" - ".concat(B("active")):""),"aria-pressed":r},p)),D&&n&&(0,a.jsx)(fi.Z,{target:D,showDelay:"none",hideDelay:"none",children:n})]})})),gi=Di,Ci=n(53323);(0,Xo.q5)(Ci);var Bi=function(e){var t=(0,c.Z)(),n=Fr();return(0,a.jsx)(gi,(0,o.Z)((0,o.Z)({type:"button",onMouseDown:function(e){e.preventDefault(),ai.appendTable(n)},tooltip:t("rte_table"),label:t("rte_table")},e),{},{children:(0,a.jsx)(Xo.ZP,{name:"table"})}))},bi=n(39116),yi=n(80758),Ei=n(37260),xi=n(2461),wi=n(70817),Ai=n(67865),Fi=function(e,t){var n="Ctrl + ",r="Alt + ",o="Shift + ";return e&&(n="\u2318",r="\u2325",o="\u21e7"),t({ctrl:n,alt:r,shift:o})},Zi=["osx"];(0,Xo.q5)(Ai);var ki=function(e){var t=e.osx,n=(0,u.Z)(e,Zi),r=(0,c.Z)(),l=vi(),d=l.setPopoverOpen,f=l.onEditorFocus,p=(0,s.useRef)(null),v=(0,s.useRef)(null),h=(0,s.useRef)(null),m=Fr(),D=(0,li.Z)(),g=(0,i.Z)(D,2),C=g[0],B=g[1],b=(0,s.useState)(""),y=(0,i.Z)(b,2),E=y[0],x=y[1],w=(0,s.useState)(null),A=(0,i.Z)(w,2),F=A[0],Z=A[1],k=(0,s.useState)(""),P=(0,i.Z)(k,2),j=P[0],O=P[1],S=(0,s.useState)(!0),T=(0,i.Z)(S,2),R=T[0],M=T[1],N=(0,s.useState)(!1),L=(0,i.Z)(N,2),I=L[0],_=L[1],W=Fi(t,(function(e){var t=e.ctrl;return"".concat(r("rte_link")," (").concat(t,"K)")})),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(!0),d(!0),e.focusInput&&setTimeout((function(){var e;null===(e=v.current)||void 0===e||e.focus()}),0)},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{focusEditor:!0};Z(null),x(""),O(""),M(!0),_(!1),d(!1),e.focusEditor&&setTimeout((function(){f({runAfterFocus:function(){F&&Qt.setSelection(m,F)}})}),0)};(0,Wo.Z)("mousedown",[C],(function(){I&&z()}));(0,s.useEffect)((function(){if(m.selection){x(dt.string(m,m.selection)),Z(m.selection);var e=dt.nodes(m,{match:function(e){return Rt.isText(e)&&!!e.href},at:m.selection}),t=(0,i.Z)(e,1)[0];t?(O(t[0].href||""),x(t[0].text)):O("")}}),[I]);var H=function(e){e.preventDefault(),e.stopPropagation()},q=function(e){var t;("keydown"===(null===e||void 0===e?void 0:e.type)&&"Enter"===(null===e||void 0===e?void 0:e.key)||"mousedown"===(null===e||void 0===e?void 0:e.type)||!e)&&(null===e||void 0===e||e.preventDefault(),z({focusEditor:!1}),null===(t=p.current)||void 0===t||t.focus())};return(0,s.useEffect)((function(){var e=function(e){"k"===e.key&&(e.metaKey||e.ctrlKey)&&ro.isFocused(m)&&(e.preventDefault(),V({focusInput:!0})),"Escape"===e.key&&q()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gi,(0,o.Z)((0,o.Z)({ref:p,onMouseDown:function(){V()},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),V({focusInput:!0}))},active:function(){var e=dt.nodes(m,{match:function(e){return Rt.isText(e)&&!!e.href}});return!!(0,i.Z)(e,1)[0]}(),tooltip:W,label:r("rte_link")},n),{},{children:(0,a.jsx)(Xo.ZP,{name:"chain"})})),(0,a.jsx)(qo.Z,{show:I,target:p.current,ref:B,placement:"bottom",children:(0,a.jsx)(bi.Z,{children:(0,a.jsx)(yi.Z,{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ei.ZP,{variant:"secondary",onKeyDown:q,onMouseDown:q,type:"button",children:"Cancel"}),(0,a.jsx)(Ei.ZP,{disabled:!j||!R,name:"apply",type:"submit",variant:"primary",children:"Apply"})]}),onSubmit:function(e){e.preventDefault(),j&&(ai.createLink(m,E,new URL(/^[a-z][a-z0-9.+-]*:/i.test(j)?j:"http:".concat(j)).href,F),z())},children:(0,a.jsxs)(xi.Z,{container:{rowGap:2},children:[(0,a.jsx)(wi.Z,{label:"Text",value:E,onClick:H,onChange:function(e){x(e.target.value)},onBlur:function(){setTimeout((function(){document.activeElement!==h.current&&z({focusEditor:!1})}),0)},ref:v}),(0,a.jsx)(wi.Z,{label:"URL",value:j,onClick:H,onChange:function(e){var t=e.target.value;if(O(t),!R)try{new URL(/^[a-z][a-z0-9+.-]*:/i.test(t)?t:"http:".concat(t)),M(!0)}catch(n){M(!1)}},onBlur:function(){try{new URL(/^[a-z][a-z0-9+.-]*:/i.test(j)?j:"http:".concat(j)),M(!0)}catch(e){M(!1)}},info:R?"":"Not a valid URL",status:R?void 0:"error",ref:h})]})})})})]})};var Pi,ji=n(61296);(0,Xo.q5)(ji);var Oi,Si,Ti=Mo.ZP.input(Pi||(Pi=(0,r.Z)(["\n  ","\n"])),si.G0),Ri=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=(0,c.Z)(),r=vi().addImage,i=(0,s.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ti,{type:"file",accept:"image/*",ref:i,onChange:function(e){e.target.files&&(r(e.target.files[0]),i.current&&(i.current.value=""))}}),(0,a.jsx)(gi,(0,o.Z)((0,o.Z)({onClick:function(){var e;null===i||void 0===i||null===(e=i.current)||void 0===e||e.click()},tooltip:n("rte_image"),label:n("rte_image")},t),{},{children:(0,a.jsx)(Xo.ZP,{name:"picture"})}))]})},Mi=n(44896),Ni=n(22264);(0,Xo.q5)(Ni);var Li=(0,Mo.ZP)(Ei.ZP)((function(e){var t=e.theme,n=(0,Mi.MX)(t.base["font-size"],t.base["font-scale"]);return(0,Mo.iv)(Oi||(Oi=(0,r.Z)(["\n    color: ",";\n    display: inline-flex;\n    align-items: center;\n    border-radius: calc(0.25 * ",");\n    height: calc(4 * ",");\n    padding: calc(0.5 * ",");\n    font-size: ",";\n\n    span {\n      white-space: nowrap;\n    }\n\n    :focus {\n      box-shadow: ",";\n    }\n  "])),t.base.palette["foreground-color"],t.base["border-radius"],t.base.spacing,t.base.spacing,n.xxs,t.base.shadow.focus)}));Li.defaultProps=Jo.ns;var Ii=Mo.ZP.div(Si||(Si=(0,r.Z)(["\n  min-width: 10rem;\n"]))),_i={paragraph:"Normal","heading-1":"Heading 1","heading-2":"Heading 2","heading-3":"Heading 3","heading-4":"Heading 4","":"Normal"},Wi=function(e,t){return Fi(t,(function(t){var n=t.ctrl,r=t.alt;return"".concat(n).concat(r).concat(e)}))},Vi=function(e){var t=e.osx,n=(0,c.Z)(),r=vi().disabled,o=(0,s.useState)(!1),u=(0,i.Z)(o,2),l=u[0],d=u[1],f=(0,s.useRef)(!1),p=(0,s.useRef)(!1),v=(0,s.useRef)(null),h=(0,s.useRef)(null),m=(0,s.useRef)(null),D=Fr(),g=(0,s.useCallback)((function(){return function(e){return[{text:"Normal",subText:Wi(0,e),type:"paragraph"},{text:"Heading 1",subText:Wi(1,e),type:"heading-1"},{text:"Heading 2",subText:Wi(2,e),type:"heading-2"},{text:"Heading 3",subText:Wi(3,e),type:"heading-3"},{text:"Heading 4",subText:Wi(4,e),type:"heading-4"}]}(t)}),[t])();(0,Wo.Z)("click",[v,h,m],(function(){d(!1)}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Li,{variant:"simple",type:"button",disabled:r,icon:!1,ref:v,onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),d(!0),p.current=!0},onKeyDown:function(e){"Enter"!==e.key||f.current?"Enter"===e.key?(e.preventDefault(),f.current=!1):"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||d(!1):(e.preventDefault(),d(!0),p.current=!1)},onFocus:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(e){return e.stopPropagation()},"aria-expanded":l,"aria-label":"Text formatting toolbar. ".concat(n("rte_heading_style"),". ").concat(_i[ai.getActiveBlockType(D)]," selected"),"aria-haspopup":!0,children:[(0,a.jsx)("span",{children:_i[ai.getActiveBlockType(D)]}),(0,a.jsx)(Xo.ZP,{name:"arrow-micro-down"})]}),v.current&&(0,a.jsx)(fi.Z,{target:v.current,showDelay:"none",hideDelay:"none",children:n("rte_heading_style")}),(0,a.jsx)(qo.Z,{show:l,as:Ii,target:v.current,placement:"bottom-start",ref:h,children:(0,a.jsx)(Uo.Z,{items:g.map((function(e){var t=e.text,n=e.type;return{id:n,primary:t,secondary:[e.subText],selected:n===ai.getActiveBlockType(D)}})),focusControlEl:v.current||void 0,mode:"single-select",ref:m,onItemClick:function(e,t){var n;(t.stopPropagation(),t.preventDefault(),ai.setBlock(e,D),p.current)||(null===(n=v.current)||void 0===n||n.focus());d(!1),f.current=!0,setTimeout((function(){if(!ro.isFocused(D)&&p.current){var e=D.selection;ro.focus(D),e&&Qt.select(D,e)}}),0)}})})]})},zi=n(85899),Hi=n(85903);(0,Xo.q5)(zi,Hi);var qi,Ui,Ki=$o.Z&&navigator.userAgent.includes("Mobile"),Ji=function(e){var t=e.type,n=e.osx,r=Fr(),o=(0,c.Z)(),i="".concat(o("indent"===t?"rte_indent":"rte_unindent")),u=Fi(n,(function(e){var n=e.shift,r=e.alt;return"indent"===t?"".concat(o("rte_indent")," (").concat(r,"M)"):"".concat(o("rte_unindent")," (").concat(r).concat(n,"M)")})),s=Ki?i:u;return(0,a.jsx)(gi,{onMouseDown:function(e){e.preventDefault(),"indent"===t?ai.indent(r):ai.unindent(r),ro.isFocused(r)||ro.focus(r)},tooltip:s,label:t,children:(0,a.jsx)(Xo.ZP,{name:t})})},$i=Mo.ZP.div((function(e){var t=e.sticky,n=e.theme;return(0,Mo.iv)(qi||(qi=(0,r.Z)(["\n    background-color: ",";\n    border-radius: calc(0.25 * ",");\n    overflow: auto;\n    padding: 0.125rem;\n    ","\n\n    &:has(:focus-visible) {\n      box-shadow: ",";\n    }\n  "])),(function(e){return e.theme.base.palette["primary-background"]}),(function(e){return e.theme.base["border-radius"]}),t&&(0,Mo.iv)(Ui||(Ui=(0,r.Z)(["\n      position: sticky;\n      bottom: 0;\n    "]))),n.base.shadow["focus-group"])}));$i.defaultProps=Jo.ns;var Xi=$o.Z&&navigator.userAgent.includes("Mobile");function Yi(e,t,n,r){return[{style:"BOLD",text:"B",format:"bold",label:t("rte_bold"),tooltip:Xi?"".concat(t("rte_bold")):Fi(r,(function(e){var n=e.ctrl,r=e.shift;return"".concat(t("rte_bold")," (").concat(n,"B, ").concat(n).concat(r,"B)")}))},{style:"ITALIC",text:"I",format:"italic",label:t("rte_italic"),tooltip:Xi?"".concat(t("rte_italic")):Fi(r,(function(e){var n=e.ctrl,r=e.shift;return"".concat(t("rte_italic")," (").concat(n,"I, ").concat(n).concat(r,"I)")}))},{style:"STRIKE-THROUGH",text:"S",format:"line-through",label:t("rte_strike_through"),tooltip:Xi?"".concat(t("rte_strike_through")):Fi(r,(function(e){var n=e.ctrl,r=e.shift;return"".concat(t("rte_strike_through")," (").concat(n).concat(r,"X)")}))}].map((function(t){var r=t.format,o=t.style,i=t.text,u=t.label,s=t.tooltip;return(0,a.jsx)(gi,{onMouseDown:function(t){t.preventDefault(),n||ro.focus(e),setTimeout((function(){ai.toggleFormat(r,e)}),0)},styleType:o,active:ai.isFormatActive(r,e),tooltip:s,label:u,children:i},o)}))}function Gi(e,t,n){return[{text:"Cut",icon:"scissors",label:t("rte_cut"),func:function(){document.execCommand("cut")},tooltip:Fi(n,(function(e){var n=e.ctrl;return"".concat(t("rte_cut")," (").concat(n,"X)")}))},{text:"Copy",icon:"copy",label:t("rte_copy"),func:function(){document.execCommand("copy")},tooltip:Fi(n,(function(e){var n=e.ctrl;return"".concat(t("rte_copy")," (").concat(n,"C)")}))},{text:"Paste",icon:"clipboard-data",label:t("rte_paste"),func:function(){navigator.clipboard.readText().then((function(t){ai.replaceWithText(e,e.selection,t)}))},tooltip:Fi(n,(function(e){var n=e.ctrl;return"".concat(t("rte_paste")," (").concat(n,"V)")}))}].map((function(e){return(0,a.jsx)(gi,{onMouseDown:function(t){t.preventDefault(),e.func()},tooltip:e.tooltip,label:e.label,children:(0,a.jsx)(Xo.ZP,{name:e.icon})},e.text)}))}function Qi(e){return e.reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},t,!0))}),{})}var eu,tu,nu,ru,ou,iu,uu,au,su=function(e){var t=e.features,n=e.sticky,r=e.setFocusableBtn,o=Fr(),u=(0,s.useContext)(ho),l=(0,c.Z)(),d=(0,s.useState)(!1),f=(0,i.Z)(d,2),p=f[0],v=f[1],h=(0,s.useRef)(null);(0,Yo.Z)(h,{selector:"button",dir:"left-right"});var m=(0,s.useState)(Qi(t)),D=(0,i.Z)(m,2),g=D[0],C=D[1];return(0,s.useEffect)((function(){var e,t=null===h||void 0===h||null===(e=h.current)||void 0===e?void 0:e.querySelector("button");t&&r(t)}),[h.current]),(0,s.useEffect)((function(){C(Qi(t))}),[t]),(0,s.useEffect)((function(){navigator.appVersion.includes("Mac")&&v(!0)}),[]),(0,a.jsxs)(Go.Z,{as:$i,sticky:n,container:{justify:"between"},ref:h,children:[(0,a.jsxs)(Go.Z,{container:{alignItems:"end"},children:[(0,a.jsx)(Vi,{osx:p}),g["inline-styling"]&&Yi(o,l,u,p),g.lists&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gi,{onMouseDown:function(e){e.preventDefault(),oi.toggleList("unordered-list",o)},active:ai.isBlockActive("unordered-list",o),tooltip:Xi?"".concat(l("rte_bulleted_list")):Fi(p,(function(e){var t=e.ctrl,n=e.shift;return"".concat(l("rte_bulleted_list")," (").concat(t).concat(n,"L)")})),label:l("rte_bulleted_list"),children:(0,a.jsx)(Xo.ZP,{name:"list"})}),(0,a.jsx)(gi,{onMouseDown:function(e){e.preventDefault(),oi.toggleList("ordered-list",o)},active:ai.isBlockActive("ordered-list",o),tooltip:l("rte_numbered_list"),label:l("rte_numbered_list"),children:(0,a.jsx)(Xo.ZP,{name:"list-number"})})]}),g.indentation&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ji,{type:"indent",osx:p}),(0,a.jsx)(Ji,{type:"unindent",osx:p})]}),g.tables&&(0,a.jsx)(Bi,{})]}),(0,a.jsxs)(Go.Z,{container:{alignItems:"end"},children:[g.links&&(0,a.jsx)(ki,{osx:p}),g.images&&(0,a.jsx)(Ri,{})]}),g["cut-copy-paste"]&&(0,a.jsx)(Go.Z,{container:{alignItems:"end"},children:Gi(o,l,p)})]})},cu=n(84870),lu=function(e,t){var n,r=t.groupId,u=t.regex,a=t.trigger,s=e.selection;try{n=!!s&&Zt.isCollapsed(s)}catch(B){n=!1}if(s&&n){var c,l=Zt.edges(s),d=(0,i.Z)(l,1)[0],f=dt.node(e,d),p=(0,i.Z)(f,1)[0];if(null!==p&&void 0!==p&&p.searchResult)return;var v=dt.before(e,d,{unit:"line"}),h=v&&dt.range(e,v,d),m=h&&dt.string(e,h),D=m&&m.match(u);if(D&&"string"===typeof(null===(c=D.groups)||void 0===c?void 0:c[r])){var g=D.groups.match.length,C=dt.range(e,(0,o.Z)((0,o.Z)({},d),{},{offset:d.offset-g}),d);return{search:D.groups[r],target:C,trigger:a}}}},du=n(9511),fu=["text"],pu={link:"a","heading-1":"h1","heading-2":"h2","heading-3":"h3","heading-4":"h4","unordered-list":"ul","ordered-list":"ol","list-item":"li",table:"table","table-body":"tbody","table-row":"tr","table-cell":"td",text:"span",paragraph:"p",bold:"b","line-through":"del",italic:"i",href:"a",image:"img"},vu=function e(t){return t.reduce((function(t,n){if(it.isElement(n)&&("image-placeholder"===n.type||"custom"===n.type||"override"===n.type))return t;var r,o,i=it.isElement(n)?pu[n.type]:void 0;if(Rt.isText(n)){var a=n.text,s=(0,u.Z)(n,fu);r=Object.keys(s).reduce((function(e,t,n){var r=pu[t],o="a"===r?"".concat(r," href='").concat(s[t],"'"):r;return 0===n?"<".concat(o,">").concat(a,"</").concat(r,">"):"<".concat(o,">").concat(e,"</").concat(r,">")}),""),r||(r=a)}else{var c="list-item"===(o=n).type?[{name:"data-id",value:o.id},{name:"data-parent-id",value:o.parentId},{name:"data-order",value:o.order},{name:"data-level",value:o.level}].reduce((function(e,t){return t.value?"".concat(e," ").concat(t.name,"='").concat(t.value,"'"):e}),""):Object.keys(o).reduce((function(e,t){return"type"!==t&&"children"!==t?"".concat(e," ").concat(t,"='").concat(o[t],"'"):e}),"");r="<".concat(i).concat(c,">").concat(e(n.children||[]),"</").concat(i,">")}return"".concat(t).concat(r)}),"")},hu=n(61010),mu=["id","label","labelHidden","info","status","required","disabled","readOnly","additionalInfo","onChange","onFocus","onBlur","placeholder","toolbar","onImageAdded","markdownOnly","searchTriggers","onSearch","getSearchItemReplacement","searchRenderers","menu","height","defaultValue","autoFocus"],Du=(0,Mo.ZP)(No.u)(eu||(eu=(0,r.Z)(["\n  min-width: 20rem;\n"]))),gu=(0,s.forwardRef)((function(e,t){var n,c=(0,Lo.Z)().components["text-area"]["min-height"],l=(0,Io.Z)(),d=(0,Io.Z)(),p=e.id,m=void 0===p?l:p,D=e.label,g=e.labelHidden,C=e.info,B=e.status,b=e.required,y=e.disabled,E=e.readOnly,x=e.additionalInfo,w=e.onChange,A=e.onFocus,F=e.onBlur,Z=e.placeholder,k=e.toolbar,P=e.onImageAdded,j=e.markdownOnly,O=e.searchTriggers,S=e.onSearch,T=e.getSearchItemReplacement,R=e.searchRenderers,M=e.menu,N=e.height,L=void 0===N?{min:c}:N,I=e.defaultValue,_=e.autoFocus,W=(0,u.Z)(e,mu),V=(0,s.useRef)(null),z=(0,s.useMemo)((function(){return function(e){return e.isVoid=function(e){return"image"===e.type||"image-placeholder"===e.type},e}(wo(function(e){var t=e,n=t.apply;return t.history={undos:[],redos:[]},t.redo=function(){var e=t.history,n=e.redos;if(n.length>0){var r=n[n.length-1];jo.withoutSaving(t,(function(){dt.withoutNormalizing(t,(function(){var e,n=(0,h.Z)(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.apply(o)}}catch(i){n.e(i)}finally{n.f()}}))})),e.redos.pop(),e.undos.push(r)}},t.undo=function(){var e=t.history,n=e.undos;if(n.length>0){var r=n[n.length-1];jo.withoutSaving(t,(function(){dt.withoutNormalizing(t,(function(){var e,n=r.map(Ct.inverse).reverse(),o=(0,h.Z)(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;t.apply(i)}}catch(u){o.e(u)}finally{o.f()}}))})),e.redos.push(r),e.undos.pop()}},t.apply=function(e){var r=t.operations,o=t.history,i=o.undos,u=i[i.length-1],a=u&&u[u.length-1],s=To(e,a),c=jo.isSaving(t),l=jo.isMerging(t);if(null==c&&(c=So(e)),c){if(null==l&&(l=null!=u&&(0!==r.length||Oo(e,a)||s)),u&&l)s&&u.pop(),u.push(e);else{var d=[e];i.push(d)}for(;i.length>100;)i.shift();Ro(e)&&(o.redos=[])}n(e)},t}(function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var n,r=(0,h.Z)(dt.pathRefs(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;bt.transform(o,t)}}catch(E){r.e(E)}finally{r.f()}var i,u=(0,h.Z)(dt.pointRefs(e));try{for(u.s();!(i=u.n()).done;){var a=i.value;wt.transform(a,t)}}catch(E){u.e(E)}finally{u.f()}var s,c=(0,h.Z)(dt.rangeRefs(e));try{for(c.s();!(s=c.n()).done;){var l=s.value;kt.transform(l,t)}}catch(E){c.e(E)}finally{c.f()}var d,f,p=Ce.get(e)||[],v=Be.get(e)||new Set,m=function(e){if(e){var t=e.join(",");f.has(t)||(f.add(t),d.push(e))}};if(Bt.operationCanTransformPath(t)){d=[],f=new Set;var D,g=(0,h.Z)(p);try{for(g.s();!(D=g.n()).done;){var C=D.value;m(Bt.transform(C,t))}}catch(E){g.e(E)}finally{g.f()}}else d=p,f=v;var B,b=Ze(t),y=(0,h.Z)(b);try{for(y.s();!(B=y.n()).done;)m(B.value)}catch(E){y.e(E)}finally{y.f()}Ce.set(e,d),Be.set(e,f),Qt.transform(e,t),e.operations.push(t),dt.normalize(e),"set_selection"===t.type&&(e.marks=null),be.get(e)||(be.set(e,!0),Promise.resolve().then((function(){be.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,n){var r=e.selection;if(r)if(Zt.isExpanded(r))Qt.setNodes(e,(0,v.Z)({},t,n),{match:Rt.isText,split:!0});else{var o=Fe(Fe({},dt.marks(e)||{}),{},(0,v.Z)({},t,n));e.marks=o,be.get(e)||e.onChange()}},deleteBackward:function(t){var n=e.selection;n&&Zt.isCollapsed(n)&&Qt.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var n=e.selection;n&&Zt.isCollapsed(n)&&Qt.delete(e,{unit:t})},deleteFragment:function(t){var n=e.selection;n&&Zt.isExpanded(n)&&Qt.delete(e,{reverse:"backward"===t})},getFragment:function(){var t=e.selection;return t?mt.fragment(e,t):[]},insertBreak:function(){Qt.splitNodes(e,{always:!0})},insertSoftBreak:function(){Qt.splitNodes(e,{always:!0})},insertFragment:function(t){Qt.insertFragment(e,t)},insertNode:function(t){Qt.insertNodes(e,t)},insertText:function(t){var n=e.selection,r=e.marks;if(n){if(r){var o=Fe({text:t},r);Qt.insertNodes(e,o)}else Qt.insertText(e,t);e.marks=null}},normalizeNode:function(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];if(!Rt.isText(r))if(it.isElement(r)&&0===r.children.length)Qt.insertNodes(e,{text:""},{at:o.concat(0),voids:!0});else for(var u=!dt.isEditor(r)&&it.isElement(r)&&(e.isInline(r)||0===r.children.length||Rt.isText(r.children[0])||e.isInline(r.children[0])),a=0,s=0;s<r.children.length;s++,a++){var c=mt.get(e,o);if(!Rt.isText(c)){var l=r.children[s],d=c.children[a-1],f=s===r.children.length-1;(Rt.isText(l)||it.isElement(l)&&e.isInline(l))!==u?(Qt.removeNodes(e,{at:o.concat(a),voids:!0}),a--):it.isElement(l)?e.isInline(l)&&(null!=d&&Rt.isText(d)?f&&(Qt.insertNodes(e,{text:""},{at:o.concat(a+1),voids:!0}),a++):(Qt.insertNodes(e,{text:""},{at:o.concat(a),voids:!0}),a++)):null!=d&&Rt.isText(d)&&(Rt.equals(l,d,{loose:!0})?(Qt.mergeNodes(e,{at:o.concat(a),voids:!0}),a--):""===d.text?(Qt.removeNodes(e,{at:o.concat(a-1),voids:!0}),a--):""===l.text&&(Qt.removeNodes(e,{at:o.concat(a),voids:!0}),a--))}}},removeMark:function(t){var n=e.selection;if(n)if(Zt.isExpanded(n))Qt.unsetNodes(e,t,{match:Rt.isText,split:!0});else{var r=Fe({},dt.marks(e)||{});delete r[t],e.marks=r,be.get(e)||e.onChange()}}};return e}())))}),[]),H=(0,s.useState)((function(){return I&&!j?(0,du.aV)(I):(0,hu.u)(I,R)})),q=(0,i.Z)(H,2),U=q[0],K=q[1],J=(0,s.useState)(_),$=(0,i.Z)(J,2),X=$[0],Y=$[1],G=(0,s.useState)(!1),Q=(0,i.Z)(G,2),ee=Q[0],te=Q[1],ne=(0,s.useState)(!1),re=(0,i.Z)(ne,2),oe=re[0],ie=re[1],ue=(0,s.useState)(null),ae=(0,i.Z)(ue,2),se=ae[0],ce=ae[1],le=(0,s.useState)(null),de=(0,i.Z)(le,2),fe=de[0],pe=de[1],ve=(0,s.useState)(null),he=(0,i.Z)(ve,2),me=he[0],De=he[1],ge=(0,_o.Z)((function(){var e;((null===(e=V.current)||void 0===e?void 0:e.offsetHeight)||0)>window.innerHeight?ie(!0):ie(!1)}),200),ye=function(e){var t=e.event,n=e.force,r=e.focusEditor,o=e.runAfterFocus;r&&setTimeout((function(){ro.isFocused(z)||(ro.focus(z),Y(!0),z.selection||Qt.select(z,{anchor:dt.end(z,[0]),focus:dt.end(z,[0])}),null===A||void 0===A||A())}),0),o&&(n||!y&&!ee)?setTimeout(o,0):null===t||void 0===t||t.stopPropagation()},Ee=function(e){e&&ro.blur(z),ro.isFocused(z)&&(null===F||void 0===F||F()),Y(!1),pe(null)};(0,Wo.Z)("click",[V.current],(function(){return Ee()})),(0,s.useImperativeHandle)(t,(function(){return{focus:function(){ye({focusEditor:!0})},getPlainText:function(){return U.map((function(e){return j&&e.children?e.children.map((function(e){var t,n=e;if("text"===e.type){var r=e.children;if(1!==r.length)return r.map((function(e){var t=e;return t.searchResult?t.searchResult.markdown:t.text})).join("");n=r[0]}return(null===(t=n.searchResult)||void 0===t?void 0:t.markdown)||n.text})).join(""):mt.string(e)})).join("\n")},getRichText:function(){return JSON.stringify(U)},getHtml:function(){return function(e){if(1===e.length&&it.isElement(e[0])&&Rt.isText(e[0].children[0])&&""===e[0].children[0].text)return"";var t=vu(e);return"<body>".concat(t,"</body>")}(U)},clear:function(){var e={path:[0,0],offset:0};z.selection={anchor:e,focus:e},z.children=[{type:"paragraph",children:[{text:""}]}],K(z.children)},appendImage:function(e,t){var n=e.src,r=e.alt,o=ai.appendImage(z,{src:n,alt:r},t);o&&(Qt.select(z,{anchor:o,focus:o}),ro.focus(z),Y(!0))},insertText:function(e){z.insertText(e)},insertHtml:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t={path:[0,0],offset:0};z.selection={anchor:t,focus:t},z.children=(0,du.aV)(""!==e?e:"<p></p>")}else z.children=[].concat((0,f.Z)(U),(0,f.Z)((0,du.aV)(e)));K(z.children)}}}),[z,U]);var xe=(0,s.useCallback)((function(e){fe&&M?("Escape"===e.key&&(e.preventDefault(),pe(null)),["Enter","ArrowDown","ArrowUp"].includes(e.key)&&e.preventDefault()):"Tab"!==e.key||e.shiftKey?(oi.checkListEnter(z,e),ai.checkLinkBreak(z,e),ai.checkSearchDownKeys(z,e),ai.checkImageEnter(z,e),ai.checkKeyCommands(z,e,j)):se&&(se.focus(),e.preventDefault())}),[M,fe,se]),we=function(e){var t=ai.appendImagePlaceholder(z);t&&(null===P||void 0===P||P(e,t))};return(0,s.useEffect)((function(){fe&&De(ro.toDOMRange(z,fe))}),[fe]),(0,s.useEffect)((function(){null===w||void 0===w||w()}),[U]),(0,s.useEffect)((function(){_&&setTimeout((function(){ro.focus(z),Y(!0)}),0)}),[]),(0,a.jsx)(pi.Provider,{value:{addImage:we,setPopoverOpen:te,onEditorFocus:ye,disabled:y||!1},children:(0,a.jsx)(Vo.ZP,{toolbar:!(j||null===k||void 0===k||!k.length),label:(0,a.jsx)("span",{onClick:function(){return ye({focusEditor:!0})},children:D}),labelHidden:g,labelFor:"",labelId:d,id:m,info:C,status:B,required:b,disabled:y,additionalInfo:x,readOnly:E,onDrop:function(e){e.preventDefault(),e.dataTransfer&&Array.from(e.dataTransfer.files).forEach((function(e){e.type.includes("image")&&we(e)}))},onFocus:function(e){e.target!==V.current||y||ye({focusEditor:!0})},ref:V,"aria-label":"".concat(D," ").concat(j||E||null===k||void 0===k||!k.length?"":"Hit tab to edit toolbar below"),tabIndex:y?-1:void 0,children:(0,a.jsxs)(yo,{editor:z,value:U,onChange:function(e){if(!y&&(K(e),ge(),O&&S&&j)){for(var t,n=O.flatMap((function(e){for(var t=e.trigger,n=e.regex,o=0;o<10;o+=1)try{var i=(0,zo.Z)();return[{trigger:t,groupId:"g".concat(i),regex:new RegExp(String.raw(tu||(tu=(0,r.Z)(["(?:^|s)(?<match>","(?<g",">","))$"],["(?:^|\\s)(?<match>","(?<g",">","))$"])),t,i,n||String.raw(nu||(nu=(0,r.Z)(["w*"],["\\w*"])))))}]}catch(u){if(!(u instanceof SyntaxError))throw u}return[]})),o=0;o<n.length&&!(t=lu(z,n[o]));o+=1);t?(pe(t.target),S({search:t.search,trigger:t.trigger})):pe(null)}},children:[(0,a.jsxs)(Ho.Z,(0,o.Z)((0,o.Z)({},W),{},{ref:t,ariaLabel:D,required:b,disabled:y,readOnly:E,status:B,as:Ko.ZP,onClick:function(){ye({focusEditor:!0})},focused:X,tabIndex:E?0:void 0,children:[(0,a.jsx)(Ko.Jd,{containerHeight:L,onClick:function(){y||ye({focusEditor:!0})},children:(0,a.jsx)(Fo,{id:m,renderElement:cu.xO,renderLeaf:cu.d0,onKeyDown:xe,onKeyUp:function(e){ai.checkSearchUpKeys(z,e)},placeholder:Z,onFocus:function(e){ye({focusEditor:!0,event:e})},onBlur:function(){return Ee()},disabled:y,readOnly:E,onPaste:function(e){for(var t,n=0;n<e.clipboardData.items.length;n+=1){var r=e.clipboardData.items[n];r.type.startsWith("image")&&(t=r.getAsFile())}t&&(e.preventDefault(),we(t))},tabIndex:y?-1:void 0,onClick:function(e){3===e.detail&&(e.preventDefault(),function(){var e=Array.from(mt.elements(z)),t=e[0][1],n=e[e.length-1][1];Qt.select(z,{anchor:dt.start(z,t),focus:dt.end(z,n)})}())},"aria-labelledby":d})}),j||E||null===k||void 0===k||!k.length?null:(0,a.jsx)(su,{features:k,sticky:oe,setFocusableBtn:function(e){ce(e)}})]})),(0,a.jsx)(qo.Z,{show:!!fe&&!!M,strategy:"fixed",target:me,placement:"bottom-start",children:M&&(0,a.jsx)(Uo.Z,(0,o.Z)((0,o.Z)({},M),{},{as:Du,focusControlEl:(null===(n=V.current)||void 0===n?void 0:n.querySelector('[role="textbox"]'))||void 0,mode:"action",onItemClick:function(e,t){var n;null===M||void 0===M||null===(n=M.onItemClick)||void 0===n||n.call(M,e,t);var r,o=null===T||void 0===T?void 0:T(e);o&&(r=o.markdown&&o.component&&o.props?{text:o.text,searchResult:{markdown:o.markdown,component:o.component,props:o.props,toJSON:function(){}}}:{text:o.text},ai.replaceWithNodes(z,fe,r),Qt.insertNodes(z,{text:" "}))}}))})]})})})})),Cu=gu,Bu=n(33039),bu=n(71756),yu=["children","id","text","type","href"],Eu=(0,Mo.ZP)(Ei.ZP)(ru||(ru=(0,r.Z)(["\n  &:enabled:focus,\n  &:not([disabled]):focus {\n    box-shadow: none;\n    text-decoration: underline;\n  }\n"]))),xu=(0,Mo.ZP)(Bu.ZP)(ou||(ou=(0,r.Z)(["\n  &:enabled:focus,\n  &:not([disabled]):focus {\n    box-shadow: none;\n    text-decoration: underline;\n  }\n"]))),wu=new XMLSerializer,Au=(0,s.forwardRef)((function(e,t){var n=e.children,r=e.id,c=void 0===r?"":r,l=e.text,d=void 0===l?"":l,f=e.type,p=void 0===f?"":f,v=e.href,h=void 0===v?"":v,m=(0,u.Z)(e,yu),D=(0,s.useContext)(bu.M),g=D.onMentionClick,C=D.onMentionPreview,B=(0,s.useState)(),b=(0,i.Z)(B,2),y=b[0],E=b[1],x=(0,li.Z)(null),w=(0,i.Z)(x,2),A=w[0],F=w[1],Z=(0,di.Z)(t),k="",P="",j="",O="";if((0,s.isValidElement)(n))k=c,P=d,j=p,O=h;else{if(!n.id||!n.text||!n.type)return(0,a.jsx)("span",{children:n.rawText});k=n.id,P=n.text,j=n.type,O=n.href||""}return(0,a.jsxs)(a.Fragment,{children:[O?(0,a.jsx)(xu,(0,o.Z)((0,o.Z)({},m),{},{ref:Z,href:O,previewable:!!C,onPreview:C?function(){return C({id:k,text:P,type:j})}:void 0,spellCheck:!1,children:(0,s.isValidElement)(n)?n:P})):(0,a.jsx)(Eu,(0,o.Z)((0,o.Z)({},m),{},{ref:Z,variant:"link",onClick:function(e){F(e.currentTarget);var t=null===g||void 0===g?void 0:g({id:k,text:P,type:j,target:e.currentTarget,closeGlimpse:function(){return F(null)}});t&&E(t)},spellCheck:!1,children:(0,s.isValidElement)(n)?n:P})),A&&y]})})),Fu={type:"mention",xmlElement:"pega-mention",regexPattern:/(?:^|)<pega-mention (?:[^\n/]|\/(?!>))+\/>/g,component:Au,inject:function(e){var t=e.id,n=e.type,r=e.text,o=e.href;if(t&&n&&r){var i=document.createElementNS(null,"pega-mention");return i.setAttribute("id",t),i.setAttribute("text",r),i.setAttribute("type",n),o&&i.setAttribute("href",o),wu.serializeToString(i)}},extract:function(e){var t=(0,d.w)(e);if(t&&t.id&&t.text&&t.type)return{id:t.id,text:t.text,type:t.type,href:t.href}}},Zu=n(97451),ku=["children","tag"],Pu=(0,Mo.ZP)(Zu.Z)(iu||(iu=(0,r.Z)(["\n  cursor: pointer;\n"]))),ju=new XMLSerializer,Ou=(0,s.forwardRef)((function(e,t){var n=e.children,r=e.tag,i=void 0===r?"":r,c=(0,u.Z)(e,ku),l=(0,s.useContext)(bu.M).onTagClick,d="";if((0,s.isValidElement)(n))d=i;else{if(!n.tag)return(0,a.jsx)("span",{children:n.rawText});d=n.tag}return(0,a.jsx)(Pu,(0,o.Z)((0,o.Z)({},c),{},{ref:t,onClick:function(){return null===l||void 0===l?void 0:l(d)},spellCheck:!1,children:(0,s.isValidElement)(n)?n:d}))})),Su={type:"tag",xmlElement:"pega-tag",regexPattern:/(?:^|)<pega-tag (?:[^\n/]|\/(?!>))+\/>/gm,component:Ou,inject:function(e){var t=e.tag;if(t){var n=document.createElementNS(null,"pega-tag");return n.setAttribute("tag",t),ju.serializeToString(n)}},extract:function(e){var t=(0,d.w)(e);if(t&&t.tag)return{tag:t.tag}}},Tu=["height"],Ru=(0,s.forwardRef)((function(e,t){var n=e.height,f=void 0===n?{min:"auto"}:n,p=(0,u.Z)(e,Tu),v=(0,s.useContext)(bu.M),h=v.searchTypes,m=void 0===h?[]:h,D=v.onSearch,g=v.searchResults,C=void 0===g?[]:g,B=v.showSearchResults,b=(0,s.useState)("mention"),y=(0,i.Z)(b,2),E=y[0],x=y[1],w=(0,s.useState)(!1),A=(0,i.Z)(w,2),F=A[0],Z=A[1],k=(0,s.useRef)(""),P=(0,c.Z)(),j={onItemActive:function(e){k.current=e},onItemClick:function(e){k.current=e,Z(!1),null===D||void 0===D||D({type:"mention",search:"",mentionType:e})},items:m.map((function(e){return{id:e,primary:(0,l.Z)(e)}}))},O=C.length&&B?{header:"mention"===E?P("mention_type",[k.current]):"",items:C.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{href:void 0})}))}:void 0,S=function(e,t){switch(e){case"pega-mention":var n=(0,d.w)(t);if(!n)return;return{markdown:t,component:Fu.component,props:n,text:n.text};case"pega-tag":var r=(0,d.w)(t);if(!r)return;return{markdown:t,component:Su.component,props:r,text:r.tag}}};return(0,a.jsx)(Cu,(0,o.Z)((0,o.Z)({},p),{},{markdownOnly:!0,ref:t,height:f,searchTriggers:[{trigger:"@",regex:String.raw(uu||(uu=(0,r.Z)(["(?:S+(?:[^\nS][^@#s]S*)*[^\nS]?|)"],["(?:\\S+(?:[^\\n\\S][^@#\\s]\\S*)*[^\\n\\S]?|)"])))},{trigger:"#",regex:String.raw(au||(au=(0,r.Z)(["[^s,]*"],["[^\\s,]*"])))}],getSearchItemReplacement:function(e){var t=null===C||void 0===C?void 0:C.find((function(t){return t.id===e}));if(t)return{markdown:"mention"===E?Fu.inject({id:t.id,type:k.current,text:t.primary,href:t.href}):Su.inject({tag:t.id}),component:"mention"===E?Fu.component:Su.component,props:"mention"===E?{id:t.id,text:t.primary,type:k.current,tabIndex:-1}:{tag:t.primary,tabIndex:-1},text:t.primary}},searchRenderers:[{type:Fu.type,xmlElement:Fu.xmlElement,regexPattern:Fu.regexPattern,getSearchAttributes:S},{type:Su.type,xmlElement:Su.xmlElement,regexPattern:Su.regexPattern,getSearchAttributes:S}],onSearch:function(e){var t="@"===e.trigger?"mention":"tag";x(t),"mention"===t&&""===e.search?Z(!0):(Z(!1),null===D||void 0===D||D({type:t,search:e.search,mentionType:k.current}))},menu:F?j:O}))})),Mu=Ru},70085:function(e){"use strict";e.exports=function(e){if(e=String(e||""),r.test(e))return"rtl";if(o.test(e))return"ltr";return"neutral"};var t="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",r=new RegExp("^[^"+n+"]*["+t+"]"),o=new RegExp("^[^"+t+"]*["+n+"]")},70366:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},u=1;u<20;u++)i["f"+u]=111+u;function a(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return s(e,t)})),o=function(e){return r.some((function(t){return c(t,e)}))};return null==n?o:o(n)}function s(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),u=i.length;for(var a in r)o[r[a]]=!1;var s=!0,c=!1,f=void 0;try{for(var p,v=i[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var h=p.value,m=h.endsWith("?")&&h.length>1;m&&(h=h.slice(0,-1));var D=d(h),g=r[D];1!==u&&g||(n?o.key=D:o.which=l(h)),g&&(o[g]=!m||null)}}catch(C){c=!0,f=C}finally{try{!s&&v.return&&v.return()}finally{if(c)throw f}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function l(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=o[e]||e}t.TB=function(e,t){return a(e,{byKey:!0},t)}},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},39066:function(e,t,n){var r=n(87197),o=n(81587),i=n(43581),u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?o(e):i(e)}},20821:function(e,t,n){var r=n(26050),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},81587:function(e,t,n){var r=n(87197),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(s){}var o=u.call(e);return r&&(t?e[a]=n:delete e[a]),o}},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},97009:function(e,t,n){var r=n(31032),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},48573:function(e,t,n){var r=n(8092),o=n(50072),i=n(42582),u=Math.max,a=Math.min;e.exports=function(e,t,n){var s,c,l,d,f,p,v=0,h=!1,m=!1,D=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=s,r=c;return s=c=void 0,v=t,d=e.apply(r,n)}function C(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-v>=l}function B(){var e=o();if(C(e))return b(e);f=setTimeout(B,function(e){var n=t-(e-p);return m?a(n,l-(e-v)):n}(e))}function b(e){return f=void 0,D&&s?g(e):(s=c=void 0,d)}function y(){var e=o(),n=C(e);if(s=arguments,c=this,p=e,n){if(void 0===f)return function(e){return v=e,f=setTimeout(B,t),h?g(e):d}(p);if(m)return clearTimeout(f),f=setTimeout(B,t),g(p)}return void 0===f&&(f=setTimeout(B,t)),d}return t=i(t)||0,r(n)&&(h=!!n.leading,l=(m="maxWait"in n)?u(i(n.maxWait)||0,t):l,D="trailing"in n?!!n.trailing:D),y.cancel=function(){void 0!==f&&clearTimeout(f),v=0,s=p=c=f=void 0},y.flush=function(){return void 0===f?d:b(o())},y}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},70152:function(e,t,n){var r=n(39066),o=n(43141);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},33038:function(e,t,n){var r=n(48573),o=n(8092);e.exports=function(e,t,n){var i=!0,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),r(e,t,{leading:i,maxWait:t,trailing:u})}},42582:function(e,t,n){var r=n(20821),o=n(8092),i=n(70152),u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):u.test(e)?NaN:+e}}}]);
//# sourceMappingURL=96241.bc341546.chunk.js.map