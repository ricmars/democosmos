"use strict";(self.webpackChunkdemoapp2p=self.webpackChunkdemoapp2p||[]).push([[55868,65796],{14574:function(e,n,o){o.d(n,{b:function(){return u},v:function(){return v}});var t,i,r=o(30168),a=o(16444),l=o(36862),d=o(37260),s=o(87946),c=o(57993),u=a.ZP.div((function(e){var n=e.theme,o=n.base,i=n.components;return(0,a.iv)(t||(t=(0,r.Z)(["\n    @media (pointer: coarse) {\n      min-height: ",";\n    }\n\n    &:focus-within {\n      border-color: ",";\n      box-shadow: ",";\n    }\n\n    &:hover:not([readonly]):not([disabled]):focus-within {\n      border-color: transparent;\n    }\n\n    input {\n      min-width: 0;\n      width: 100%;\n      height: calc("," - 2 * ",");\n      color: ",";\n      text-overflow: ellipsis;\n      margin-inline-start: ",";\n    }\n\n    input,\n    input:focus {\n      border: none;\n      outline: none;\n      flex-grow: 1;\n      background-color: transparent;\n\n      &:read-only {\n        cursor: default;\n      }\n    }\n\n    & > "," {\n      align-self: stretch;\n      height: auto;\n      margin-block: -0.0625rem;\n      margin-inline-end: -0.0625rem;\n      border-start-start-radius: 0;\n      border-start-end-radius: calc(\n        "," * ","\n      );\n      border-end-start-radius: 0;\n      border-end-end-radius: calc(\n        "," * ","\n      );\n    }\n  "])),o["hit-area"]["finger-min"],i["form-control"][":focus"]["border-color"],i["form-control"][":focus"]["box-shadow"],i.input.height,i["form-control"]["border-width"],i["form-control"]["foreground-color"],o.spacing,d.S,o["border-radius"],i["form-control"]["border-radius"],o["border-radius"],i["form-control"]["border-radius"])}));u.defaultProps=l.ns;var v=(0,a.ZP)(s._)((function(){return(0,a.iv)(i||(i=(0,r.Z)(["\n    border: 0;\n\n    "," {\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n    }\n  "])),c.u)}));v.defaultProps=l.ns},75528:function(e,n,o){var t,i=o(1413),r=o(44925),a=o(30168),l=o(80184),d=o(72791),s=o(16444),c=o(36862),u=o(15579),v=o(87946),f=o(41878),m=o(85051),h=o(10446),p=o(38637),g=o(96706),b=o(14574),Z=["selected","value","onRemove","onChange","onKeyDown","actions","readOnly","disabled","status","placeholder","autoFocus"],x=(0,s.ZP)(b.b)((function(e){var n=e.theme;return(0,s.iv)(t||(t=(0,a.Z)(["\n    ul {\n      list-style: none;\n    }\n\n    "," {\n      margin: calc(0.25 * ",");\n    }\n  "])),u.Z,n.base.spacing)}));x.defaultProps=c.ns;var w=(0,d.forwardRef)((function(e,n){var o=e.selected,t=void 0===o?[]:o,a=e.value,s=e.onRemove,c=e.onChange,b=e.onKeyDown,w=e.actions,C=e.readOnly,y=e.disabled,k=e.status,j=e.placeholder,R=e.autoFocus,P=(0,r.Z)(e,Z),A=(0,m.Z)(n),E=(0,d.useRef)(null);(0,h.Z)(E,{selector:'div[role="button"], input',cycle:!1,dir:"left-right"});var S=(0,d.useCallback)((function(e){var n=t.length-1;"Backspace"===e.key&&!a&&t.length>0&&(null===s||void 0===s||s(t[n].id,n)),null===b||void 0===b||b(e)}),[b,a,t]),_=(0,p.Z)().end;return(0,l.jsxs)(f.Z,(0,i.Z)((0,i.Z)({as:x,forwardedAs:v._,container:{alignItems:"center"}},{readOnly:C,disabled:y,status:k}),{},{children:[(0,l.jsxs)(f.Z,{ref:E,as:"ul",item:{grow:1},container:{alignItems:"center",wrap:"wrap"},onBlur:function(){var e;null===(e=E.current)||void 0===e||e.querySelectorAll('div[role="button"]').forEach((function(e){e.tabIndex=-1})),A.current&&(A.current.tabIndex=0)},children:[t.map((function(e,n){return(0,l.jsx)("li",{children:(0,l.jsx)(u.C,{id:e.id.toString(),disabled:C||y,status:k,onRemove:function(e){var o;null===s||void 0===s||s(e,n),null===(o=A.current)||void 0===o||o.focus()},onKeyDown:function(e){var o;"Backspace"===e.key&&e.preventDefault(),n===t.length-1&&e.key==="Arrow".concat((0,g.Tk)(_))&&(null===(o=A.current)||void 0===o||o.focus())},children:e.text},void 0)},e.id)})),(0,l.jsx)(f.Z,{as:"li",item:{grow:1},container:!0,children:(0,l.jsx)("input",(0,i.Z)({size:5,ref:A,value:a,onChange:c||function(){},onKeyDown:S,readOnly:C||!c,placeholder:null!==t&&void 0!==t&&t.length?void 0:j,autoComplete:"off",autoFocus:R},P),void 0)},void 0)]},void 0),w]}),void 0)}));n.Z=w},64125:function(e,n,o){var t,i,r,a=o(29439),l=o(1413),d=o(44925),s=o(30168),c=o(80184),u=o(72791),v=o(16444),f=o(37260),m=o(85477),h=o(41878),p=o(64183),g=o(20029),b=o(73180),Z=o(36862),x=o(80068),w=o(44896),C=["children","open","actions"],y=["children","name","actions","collapsible","defaultCollapsed"];(0,p.q5)(g);var k=v.ZP.legend((function(e){var n=e.open,o=e.theme.base,r=o.spacing,a=o.animation;return(0,v.iv)(t||(t=(0,s.Z)(["\n    width: 100%;\n    margin-bottom: 0;\n    ","\n    transition: margin-block-end "," ",";\n\n    button "," {\n      transition: transform "," ",";\n    }\n\n    button[aria-expanded='true'] "," {\n      transform: rotate(90deg);\n    }\n    button[aria-expanded='false'] "," {\n      transform: rotate(0);\n    }\n  "])),n&&(0,v.iv)(i||(i=(0,s.Z)(["\n      margin-block-end: ",";\n    "])),r),a.speed,a.timing.ease,p.xL,a.speed,a.timing.ease,p.xL,p.xL)}));k.defaultProps=Z.ns;var j=v.ZP.fieldset((function(e){var n=e.theme,o=n.base,t=o["font-size"],i=o["font-scale"],a=n.components.text,l=(0,w.MX)(t,i);return(0,v.iv)(r||(r=(0,s.Z)(["\n      border: none;\n\n      "," "," {\n        font-weight: inherit;\n      }\n\n      & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n    "])),k,f.S,k,l[a.h3["font-size"]],a.h3["font-weight"],k,l[a.h4["font-size"]],a.h4["font-weight"],k,l[a.h5["font-size"]],a.h5["font-weight"],k,l[a.h6["font-size"]],a.h6["font-weight"])}));j.defaultProps=Z.ns;var R=function(e){var n=e.children,o=e.open,t=e.actions,i=(0,d.Z)(e,C);return(0,c.jsx)(k,(0,l.Z)((0,l.Z)({open:o},i),{},{children:(0,c.jsxs)(h.Z,{container:{alignItems:"center",justify:"between"},children:[n,t&&(0,c.jsx)(b.Z,{items:t},void 0)]},void 0)}),void 0)},P=(0,u.forwardRef)((function(e,n){var o=e.children,t=e.name,i=e.actions,r=e.collapsible,s=void 0!==r&&r,v=e.defaultCollapsed,g=void 0!==v&&v,b=(0,d.Z)(e,y),Z=(0,u.useState)(!g),w=(0,a.Z)(Z,2),C=w[0],k=w[1],P=(0,x.Z)();return(0,c.jsxs)(j,(0,l.Z)((0,l.Z)({"aria-label":t},b),{},{ref:n,children:[t&&(0,c.jsx)(R,{open:C,actions:i,children:s?(0,c.jsx)(f.Z,{type:"button",variant:"text",onClick:function(){k((function(e){return!e}))},"aria-expanded":C?"true":"false","aria-label":P(C?"collapse_noun":"expand_noun",[t]),children:(0,c.jsxs)(h.Z,{container:{direction:"row",alignItems:"center",gap:.5},forwardedAs:"span",children:[(0,c.jsx)(p.ZP,{name:"caret-right"},void 0),(0,c.jsx)("span",{children:t},void 0)]},void 0)},void 0):(0,c.jsx)("span",{children:t},void 0)},void 0),s?(0,c.jsx)(m.Z,{collapsed:!C,children:o},void 0):o]}),void 0)}));n.ZP=P},65796:function(e,n,o){o.r(n),o.d(n,{Component:function(){return r},name:function(){return i},viewBox:function(){return a}});var t=o(80184),i="caret-up",r=function(){return(0,t.jsx)("path",{d:"M13.4882812,8.23984375 C13.4882812,8.23984375 22.3484375,15.0882812 22.3484375,15.0882812 C22.3484375,15.0882812 22.4921875,15.2320313 22.4921875,15.2320313 C22.5882813,15.4234375 22.6359375,15.6148437 22.6359375,15.8070313 C22.6359375,15.8070313 22.6359375,15.8070313 22.6359375,15.8070313 C22.6359375,16.4773438 22.3007813,16.8125 21.678125,16.8125 C21.678125,16.8125 21.678125,16.8125 21.678125,16.8125 C21.534375,16.8125 21.3429688,16.7164062 21.0078125,16.5734375 C21.0078125,16.5734375 21.0078125,16.5734375 21.0078125,16.5734375 C21.0078125,16.5734375 12.8179688,10.5867187 12.8179688,10.5867187 C12.8179688,10.5867187 4.5328125,16.6210938 4.5328125,16.6210938 C4.29375,16.7648438 4.1015625,16.8125 3.9578125,16.8125 C3.9578125,16.8125 3.9578125,16.8125 3.9578125,16.8125 C3.33515625,16.8125 3,16.4773438 3,15.8070313 C3,15.8070313 3,15.8070313 3,15.8070313 C3,15.615625 3.04765625,15.4242188 3.14375,15.2320313 C3.14375,15.2320313 3.14375,15.2320313 3.14375,15.2320313 C3.14375,15.2320313 3.2875,15.0882812 3.2875,15.0882812 C3.2875,15.0882812 12.1476563,8.2875 12.1476563,8.2875 C12.3390625,8.09609375 12.5789062,8 12.8179688,8 C12.8179688,8 12.8179688,8 12.8179688,8 C13.0570312,8 13.2492188,8.09609375 13.4882812,8.2390625 C13.4882812,8.2390625 13.4882812,8.2390625 13.4882812,8.2390625 L13.4882812,8.23984375 Z"},void 0)},a="0 0 25 25"},10446:function(e,n,o){var t=o(29439),i=o(72791),r=o(96706);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.cycle,a=void 0===o||o,l=n.selector,d=void 0===l?"\n  a[href],\n  button:enabled,\n  input[type='checkbox']:enabled,\n  input[type='radio']:enabled\n":l,s=n.dir,c="up-down"===(void 0===s?"up-down":s)?["ArrowDown","ArrowUp"]:["ArrowRight","ArrowLeft"],u=(0,t.Z)(c,2),v=u[0],f=u[1],m=(0,i.useCallback)((function(e){Array.from(e.querySelectorAll(d)).slice(1).forEach((function(e){e instanceof HTMLElement&&(e.checked||(e.tabIndex=-1))}))}),[d]),h=(0,i.useCallback)((function(n){if(["Home","End",v,f].includes(n.key)&&n.preventDefault(),r.jL){var o=e.current;if(o){var t=Array.from(o.querySelectorAll(d)).filter((function(e){return e instanceof HTMLElement}));if(t.length){var i=o.getRootNode();if(i instanceof Document||i instanceof ShadowRoot){var l,s=t.indexOf(i.activeElement),c=t.length-1;if("Home"===n.key||n.key===v&&-1===s)l=0;else if("End"===n.key||n.key===f&&-1===s)l=c;else{if("Enter"===n.key)return void m(o);if(n.key===v)if(s===c){if(!a)return;l=0}else l=s+1;else{if(n.key!==f)return;if(0===s){if(!a)return;l=c}else l=s-1}}t[l].focus()}}}}}),[e.current,a,d]);(0,i.useEffect)((function(){var n=e.current;if(n)return m(n),n.addEventListener("keydown",h),function(){n.removeEventListener("keydown",h)}}),[e.current,d,h])}},42503:function(e,n,o){o.d(n,{Z:function(){return Ce}});var t,i,r,a=o(1413),l=o(93433),d=o(29439),s=o(44925),c=o(30168),u=o(80184),v=o(72791),f=o(16444),m=o(54164),h=o(80677),p=o(23501),g=o(36899),b=o(80068),Z=o(37260),x=o(73180),w=o(41878),C=o(27132),y=o(86049),k=o(36862),j=o(70158),R=o(21750),P=o(39116),A=o(44896),E=["loading","actions","items","searchInputProps"],S=f.ZP.div((function(e){var n=e.theme.base;return(0,f.iv)(t||(t=(0,c.Z)(["\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background-color: ",";\n    margin-bottom: ",";\n    transform: translateY(calc(-0.5 * ","));\n    padding: "," 0;\n\n    "," {\n      flex-grow: 1;\n    }\n  "])),n.palette["primary-background"],n.spacing,n.spacing,n.spacing,y.GB)}));S.defaultProps=k.ns;var _,D,I=f.ZP.div.withConfig((0,A.cZ)("loading"))((function(e){var n=e.loading;return(0,f.iv)(i||(i=(0,c.Z)(["\n    ",":not("," "," > ",") {\n      padding: 0;\n    }\n\n    ","\n  "])),P.e,R.r,R.r,P.e,n&&(0,f.iv)(r||(r=(0,c.Z)(["\n      min-height: 8rem;\n    "]))))})),O=(0,v.forwardRef)((function(e,n){var o=e.loading,t=e.actions,i=e.items,r=e.searchInputProps,l=(0,s.Z)(e,E);return(0,u.jsxs)(I,(0,a.Z)((0,a.Z)({ref:n,loading:o},l),{},{children:[!o&&(r||t)&&(0,u.jsxs)(w.Z,{container:{justify:"between",alignItems:"center",gap:2},as:S,children:[r&&(0,u.jsx)(w.Z,{container:{alignItems:"center",gap:1},item:{grow:1},children:(0,u.jsx)(y.ZP,{onSearchChange:r.onSearchChange},void 0)},void 0),t&&(0,u.jsx)(x.Z,{iconOnly:!1,items:t},void 0)]},void 0),o&&(0,u.jsx)(j.Z,{placement:"local"},void 0),!o&&(i.length?(0,u.jsx)(h.ZP,{items:i},void 0):(0,u.jsx)(C.Z,{},void 0))]}),void 0)})),z=o(63837),L=o(23730),q=o(12616),F=o(22479),N=o(64183),B=o(25419),M=o(65796),H=o(52278),K=o(9972),T=o(75903),V=o(85051),U=o(52003),W=o(94496),X=o(87946),G=o(61804),Y=o(96706),J=o(48426),Q=Object.freeze({name:"sameWidth",enabled:!0,phase:"beforeWrite",fn:function(e){var n=e.state;n.styles.popper.width="".concat(n.rects.reference.width,"px")},requires:["computeStyles"]}),$=o(14574),ee=["value","readOnly","disabled","status","actions","onChange","selected","visual"],ne=(0,f.ZP)($.b)(_||(_=(0,c.Z)([""]))),oe=f.ZP.span((function(e){var n=e.theme,o=n.base,t=n.components,i=t["form-control"],r=t.input.height;return(0,f.iv)(D||(D=(0,c.Z)(["\n    border-inline-end: "," solid ",";\n    min-width: calc("," - ",");\n    padding: 0 calc(0.5 * ",");\n    height: calc("," - 2 * ",");\n  "])),i["border-width"],i["border-color"],r,i["border-width"],o.spacing,r,i["border-width"])}));oe.defaultProps=k.ns;var te=(0,v.forwardRef)((function(e,n){var o=e.value,t=e.readOnly,i=e.disabled,r=e.status,l=e.actions,d=e.onChange,c=e.selected,v=e.visual,f=(0,s.Z)(e,ee);return(0,u.jsxs)(w.Z,(0,a.Z)((0,a.Z)({as:ne,forwardedAs:X._,container:{alignItems:"center",wrap:"nowrap"}},{disabled:i,status:r,readOnly:t}),{},{children:[v&&(0,u.jsx)(w.Z,{container:{justify:"center",alignItems:"center"},as:oe,children:v},void 0),(0,u.jsx)("input",(0,a.Z)((0,a.Z)({},{ref:n,disabled:i,status:r,readOnly:t}),{},{value:o||(null===c||void 0===c?void 0:c.text)||"",onChange:d||function(){},readOnly:t||!d,autoComplete:"off"},f),void 0),l]}),void 0)})),ie=o(75528),re=["value","mode","selected","visual","onRemove"],ae=(0,v.forwardRef)((function(e,n){var o=e.value,t=e.mode,i=e.selected,r=e.visual,l=e.onRemove,d=(0,s.Z)(e,re);return"multi-select"===t?(0,u.jsx)(ie.Z,(0,a.Z)((0,a.Z)({selected:i,value:o},{ref:n,onRemove:l}),d),void 0):(0,u.jsx)(te,(0,a.Z)({ref:n,selected:i,value:o,visual:r},d),void 0)})),le=["value","required","id","label","labelHidden","info","status","readOnly","disabled","mode","selected","onChange","actions","onFocus","onBlur","onDropdownButtonClick","onClick","menu"];(0,N.q5)(B,M);var de,se,ce,ue=Y.SX&&navigator.userAgent.includes("Mobile"),ve=(0,v.forwardRef)((function(e,n){var o=(0,K.Z)(),t=e.value,i=e.required,r=e.id,l=void 0===r?o:r,c=e.label,f=e.labelHidden,m=e.info,h=e.status,g=e.readOnly,x=e.disabled,w=e.mode,C=void 0===w?"single-select":w,y=e.selected,k=e.onChange,j=e.actions,R=e.onFocus,P=e.onBlur,A=e.onDropdownButtonClick,E=e.onClick,S=e.menu,_=(0,s.Z)(e,le),D=(0,b.Z)(),I=(0,v.useRef)(null),O=(0,v.useState)(!1),z=(0,d.Z)(O,2),L=z[0],q=z[1],F=(0,v.useRef)(null),B="".concat(l,"-listbox"),M=(0,T.Z)(),Y=(0,d.Z)(M,2)[1],ee=(0,V.Z)(n,Y),ne=(0,U.Z)([ee],(function(e){e?(null===R||void 0===R||R(null===y||void 0===y?void 0:y.items),ue&&setTimeout((function(){var e;null===(e=ee.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})}),150)):(q(!1),null===P||void 0===P||P(null===y||void 0===y?void 0:y.items))})),oe=(0,v.useCallback)((function(e){if(S&&!g)switch(e.key){case"ArrowDown":e.preventDefault(),L||q(!0);break;case"Escape":e.preventDefault(),L&&e.stopPropagation(),q(!1)}}),[L,g,S,t]),te=(0,v.useCallback)((function(){null===A||void 0===A||A(!L),q(!L)}),[L,A]),ie=(0,v.useMemo)((function(){var e;return!(null!==S&&void 0!==S&&null!==(e=S.items)&&void 0!==e&&e.length||A)&&k||g?null:(0,u.jsx)(Z.Z,{"aria-hidden":"true","aria-label":D(L?"combobox_close_list_button_a11y":"combobox_open_list_button_a11y"),icon:!0,variant:"simple",onClick:te,onMouseDown:function(e){var n;e.preventDefault(),null===(n=I.current)||void 0===n||n.focus()},disabled:x,tabIndex:"-1",children:(0,u.jsx)(N.ZP,{name:L?"caret-up":"caret-down"},void 0)},void 0)}),[te,k,g,L,x]),re=(0,v.useCallback)((function(e){g||(q(!0),null===E||void 0===E||E(e))}),[g,E]);(0,v.useEffect)((function(){ne&&S&&t&&t.length>0&&q(!0)}),[S,t,ne]);var de=(0,u.jsxs)(u.Fragment,{children:[ie,j]},void 0),se=(0,u.jsxs)($.v,{ref:ee,as:X._,id:"".concat(l,"-combobox"),children:[(0,u.jsx)(ae,(0,a.Z)((0,a.Z)({ref:I,role:"combobox","aria-haspopup":"listbox","aria-expanded":!g&&!x&&L,"aria-autocomplete":"list","aria-describedby":"".concat(l,"-inputDescription"),selected:null===y||void 0===y?void 0:y.items,spellCheck:!1},{id:l,readOnly:g,disabled:x,onChange:k,value:t,mode:C,status:h}),{},{actions:de,onRemove:null===y||void 0===y?void 0:y.onRemove,onClick:re,onKeyDown:oe},_),void 0),(0,u.jsx)(H.Z,{id:"".concat(l,"-inputDescription"),children:"".concat(D("combobox_open_close")," ")&&k?D("combobox_search_instructions"):""},void 0),(0,u.jsx)(p.Z,{show:L&&void 0!==S,target:ee.current,placement:"bottom-start",modifiers:[{name:"flip",options:{fallbackPlacements:["top-start"]}},Q],strategy:ue?"absolute":"fixed",onMouseDown:function(e){return e.preventDefault()},children:S&&(0,u.jsx)(G.Z,(0,a.Z)((0,a.Z)({ref:F,id:B,role:"listbox",mode:C},S),{},{items:S.items,focusControlEl:I.current||void 0,onItemClick:function(e,n){var o;"single-select"===C&&q(!1),null===(o=S.onItemClick)||void 0===o||o.call(S,e,n);var t,i=J.Z.getItem(S.items,e);null===i||void 0===i||!i.primary||null!==i&&void 0!==i&&i.selected||(null===y||void 0===y||null===(t=y.onNew)||void 0===t||t.call(y,null===i||void 0===i?void 0:i.primary))},arrowNavigationUnsupported:!0}),void 0)},void 0)]},void 0);return c?(0,u.jsx)(W.ZP,(0,a.Z)((0,a.Z)({},{label:c,labelHidden:f,id:l,info:m,status:h,required:i,disabled:x}),{},{children:se}),void 0):se})),fe=o(28682),me=o(34798),he=o(9480),pe=function(e){var n=e.roles,o=e.currentRole,t=e.renderer,i=e.rendererProps,r=e.setSelectedRoleNameRef,l=(0,v.useRef)(null),s=(0,b.Z)(),c=(0,v.useState)((function(){var e;if(n)return null===(e=o?n.find((function(e){return e.name===o.name})):n[0])||void 0===e?void 0:e.name})),f=(0,d.Z)(c,2),m=f[0],h=f[1],p=null;if(n){var g=s("stakeholders_role");if(n.length>3){var Z=n.map((function(e){return{id:e.name,primary:e.name,selected:e.name===m}})),x=Z.find((function(e){return e.selected}));p=(0,u.jsx)(ve,{label:g,selected:x?{items:{id:x.id,text:x.primary}}:void 0,menu:{mode:"single-select",items:Z,onItemClick:h}},void 0)}else p=(0,u.jsx)(fe.Z,{label:g,name:"role",inline:!0,onChange:function(e){h(e.target.value)},children:n.map((function(e){return(0,u.jsx)(me.Z,{label:e.name,value:e.name,checked:e.name===m},e.name)}))},void 0)}else o&&(p=(0,u.jsx)(he.Z,{readOnly:!0,label:s("stakeholders_role"),value:o.name,info:o.description},void 0));return(0,v.useEffect)((function(){var e;null===(e=(0,Y.sd)(l)[0])||void 0===e||e.focus()}),[]),(0,v.useEffect)((function(){n&&r(m)}),[m]),(0,u.jsxs)(w.Z,{container:{direction:"column",gap:2},ref:l,children:[p,(0,u.jsx)(t,(0,a.Z)((0,a.Z)({},i),{},{selectedRoleName:m}),void 0)]},void 0)},ge=["items","count","loading","onAddNew","form","onViewAll","viewAll","error"],be=["onEdit","onRemove"],Ze=(0,f.ZP)(h.ZP)(de||(de=(0,c.Z)([""]))),xe=f.ZP.div(se||(se=(0,c.Z)(["\n  position: relative;\n  min-height: 8rem;\n\n  &[aria-busy='true'] > :nth-child(2) {\n    visibility: hidden;\n  }\n"]))),we=(0,f.ZP)(p.Z)(ce||(ce=(0,c.Z)(["\n  width: 40ch;\n  min-height: 12rem;\n"]))),Ce=(0,v.forwardRef)((function(e,n){var o=e.items,t=e.count,i=e.loading,r=e.onAddNew,c=e.form,f=e.onViewAll,h=e.viewAll,p=e.error,x=(0,s.Z)(e,ge),C=(0,v.useContext)(g.Ek).create,y=(0,b.Z)(),k=(0,v.useRef)(),R=(0,v.useState)(),P=(0,d.Z)(R,2),A=P[0],E=P[1],S=(0,v.useState)(!1),_=(0,d.Z)(S,2),D=_[0],I=_[1],N=(0,v.useRef)(null),B=(0,v.useRef)(y("loading")),M=(0,v.useRef)(),H=(0,v.useCallback)((function(e){M.current=e}),[]),K=(0,v.useState)(null),T=(0,d.Z)(K,2),V=T[0],U=T[1],W=(0,v.useRef)({itemEls:[],viewAllItemEls:[]}),X=function(e){return e.map((function(e,n){var o=e.onEdit,t=e.onRemove,i=(0,s.Z)(e,be),r=[],d=W.current["viewAll"===A?"viewAllItemEls":"itemEls"];return o&&(r=[{id:"edit",text:y("edit"),icon:"pencil",onClick:function(){I(!0),U({portal:d[n],button:d[n].querySelector('button[aria-haspopup="menu"]')}),null===o||void 0===o||o()}}]),t&&(r=[].concat((0,l.Z)(r),[{id:"remove",text:y("remove"),icon:"trash",onClick:function(){null===t||void 0===t||t()}}])),(0,a.Z)((0,a.Z)({},i),{},{ref:function(e){d[n]=e},actions:r})}))},G=function(){var e;!V||c.loading&&B.current===y("submitting")||(null===(e=V.button)||void 0===e||e.focus(),U(null),I(!1),B.current=y("loading"))},Y=null;"add"!==A&&!D||c.loading&&B.current!==y("submitting")||(Y=(0,u.jsx)(pe,{roles:c.roles,currentRole:c.currentRole,renderer:c.renderer,rendererProps:c.rendererProps,setSelectedRoleNameRef:H},void 0));var J=null;if(("add"===A||D)&&(!c.loading||B.current===y("submitting"))){var Q=function(){var e;"add"===A?null===(e=k.current)||void 0===e||e.dismiss():G()};J=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Z.Z,{disabled:c.loading,onClick:function(){c.onDismiss({closeForm:Q})},children:y("cancel")},void 0),(0,u.jsx)(Z.Z,{disabled:c.loading,type:"submit",variant:"primary",onClick:function(){B.current=y("submitting"),c.onSubmit({selectedRoleName:M.current,closeForm:Q})},children:y("submit")},void 0)]},void 0)}var $=null;"add"===A&&($=Y),!h.loading&&("viewAll"===A||D&&k.current)&&($=(0,u.jsx)(O,{items:X(h.items),actions:[{id:"addStakeHolder",text:"Add new",onClick:function(){E("add"),null===r||void 0===r||r()}}],searchInputProps:h.onSearch?{onSearchChange:h.onSearch}:void 0},void 0)),(0,v.useEffect)((function(){if(A){var e={progress:"add"===A&&c.loading||h.loading?{message:B.current}:void 0,count:"viewAll"===A?t:void 0,children:$,actions:"add"===A?J:void 0,onRequestDismiss:c.loading&&B.current===y("submitting")?function(){return!1}:void 0};k.current?k.current.update(e):"add"!==A&&"viewAll"!==A||(k.current=C(z.Z,(0,a.Z)((0,a.Z)({},e),{},{heading:y("add"===A?"add_stakeholders":"view_stakeholders"),onAfterClose:function(){var e,n;"add"===A?null===(e=c.onAfterClose)||void 0===e||e.call(c):null===(n=h.onAfterClose)||void 0===n||n.call(h);B.current=y("loading"),E(void 0)}})))}else k.current=void 0}),[A,$,c.loading,J,t,h.loading]),(0,L.Z)("mousedown",[N],G);var ee=null;V&&(ee=(0,u.jsx)(we,{ref:N,target:V.button,placement:"auto",role:"dialog",children:(0,u.jsxs)(w.Z,{container:{direction:"column",gap:2,pad:2},children:[(0,u.jsx)(q.Z,{variant:"h3",children:y("edit_stakeholder")},void 0),(0,u.jsxs)(xe,{"aria-busy":c.loading?"true":"false",children:[(0,u.jsx)(j.Z,{placement:"local",visible:c.loading,message:B.current},void 0),(!c.loading||B.current===y("submitting"))&&(0,u.jsx)(pe,{roles:c.roles,currentRole:c.currentRole,renderer:c.renderer,rendererProps:c.rendererProps,setSelectedRoleNameRef:H},void 0)]},void 0),J&&(0,u.jsx)(w.Z,{container:{justify:"between"},children:J},void 0)]},void 0)},void 0));var ne=function(e){"Escape"===e.key&&G()};return(0,v.useEffect)((function(){if(V)return document.addEventListener("keydown",ne),function(){document.removeEventListener("keydown",ne)}}),[V]),(0,F.Z)((function(){var e;V||null===(e=c.onAfterClose)||void 0===e||e.call(c)}),[V]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ze,(0,a.Z)((0,a.Z)({},x),{},{ref:n,icon:"person",name:y("view_stakeholders"),loading:i,count:t,error:p,items:(0,v.useMemo)((function(){return X(o.slice(0,3))}),[X,o]),actions:r?[{text:y("add_stakeholders"),id:"add_new",icon:"plus",onClick:function(){E("add"),null===r||void 0===r||r()}}]:void 0,onViewAll:f&&t&&t>3?function(){E("viewAll"),null===f||void 0===f||f()}:void 0}),void 0),V&&(0,m.createPortal)(ee,V.portal)]},void 0)}))}}]);
//# sourceMappingURL=55868.59d90f62.chunk.js.map