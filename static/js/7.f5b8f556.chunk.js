(this.webpackJsonpdemoapp2p=this.webpackJsonpdemoapp2p||[]).push([[7],{1036:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(5),o=n(0),s=n(49),c=n(153),i=n(233),r=n(124),l=n(1060),p=n(1084),u=n(1064),d=n(1062),m={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},f=function(e){var t=e.getTime()-Date.now();Math.abs(t)<6e4&&(t=0);var n=Object.keys(m).find((function(e){return Math.abs(t)>=m[e]}))||"second";return new Intl.RelativeTimeFormat(window.config&&window.config.locale?window.config.locale.replace("_","-"):"en",{style:"long",numeric:"auto"}).format(Math.round(t/m[n]),n)},b=n(72),y=n(1);function j(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],m=t[1],j=Object(o.useState)(!1),k=Object(a.a)(j,2),x=k[0],g=k[1];Object(o.useEffect)((function(){Object(s.b)("feed","filterFor=DATA-PORTAL%20$DemoReact&feedClass=@baseclass&filterBy=&pageSize=9&olderThan=").then((function(e){null!==e.data&&e.data.FeedList&&e.data.FeedList.pxResults&&m(e.data.FeedList.pxResults),g(!0)})).catch((function(e){console.log(e)}))}),[]);var h=function(e){return e.pxResults&&e.pxResults.length>0?e.pxResults.map((function(e){return Object(y.jsx)(l.b,{id:e.pzInsKey,content:e.pyMessage,info:{fullname:e.postedByUser.name,fullnameLabel:e.postedByUser.name,username:e.postedByUser.ID,avatarSrc:Object(s.c)("operatorimage",e.postedByUser.userImage),content:e.pyMessage,timeElapsed:f(new Date(e.pxCreateDateTime))},interactionInfo:{likeLabel:"Like",likeCount:e.pyLikes.pxLikeCount,commentLabel:"Comment"},onLikeClick:function(){},onCommentClick:function(){}},e.pzInsKey)})):null};return Object(y.jsxs)(p.a,{searchTypes:["user","case"],userInfo:{username:Object(b.c)(),fullname:Object(b.c)(),avatarSrc:Object(s.c)("operatorimage",Object(b.d)())},children:[Object(y.jsx)(u.b,{id:"newpost",interactionInfo:{textAreaPlaceholder:"Start a conversation",postLabel:"Post"},onFilesAdded:function(){},onPost:function(){}}),x?n.map((function(e){return Object(y.jsx)(d.b,{id:e.pzInsKey,info:{fullname:e.postedByUser.name,username:e.postedByUser.ID,avatarSrc:Object(s.c)("operatorimage",e.postedByUser.userImage),content:e.pyMessage,postContext:(t=e,"case"===t.pxContextType?Object(y.jsx)(c.b,{href:"/case/".concat(t.pyContext.split(" ")[1]),previewable:!0,target:"_blank",children:t.pyContextDescription}):t.pyContextDescription),timeElapsed:f(new Date(e.pyFeed.pyPostedOn))},interactionInfo:{likeLabel:"Like",likeCount:e.pyLikes.pxLikeCount,commentLabel:"Comment"},replies:h(e),attachments:[],maxContentHeight:80,onLikeClick:function(){},onUserClick:function(){},actions:[{text:"Bookmark",id:"Bookmark",onClick:function(){}}],replyInput:{commentLabel:"Send Comment",attachments:[],onFilesAdded:function(){},onSubmit:function(){},placeholder:"Add a comment"}},e.pzInsKey);var t})):Object(y.jsx)(i.b,{style:{alignItems:"center",padding:"2rem 0"},children:Object(y.jsx)(r.a,{placement:"inline","aria-label":"Loading feed",message:""})})]})}}}]);
//# sourceMappingURL=7.f5b8f556.chunk.js.map