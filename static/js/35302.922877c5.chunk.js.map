{"version":3,"file":"static/js/35302.922877c5.chunk.js","mappings":"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","sources":["../node_modules/@pega/cosmos-react-core/src/components/Badges/Selection.tsx","../node_modules/@pega/cosmos-react-core/src/components/Badges/Tag.tsx","../node_modules/@pega/cosmos-react-core/src/components/ComboBox/ComboBox.styles.ts","../node_modules/@pega/cosmos-react-core/src/components/ComboBox/MultiSelectInput/MultiSelectInput.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/chain.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/chat.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/filter-on.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/filter.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/indent.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/paper-clip.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/picture.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/send.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/table.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/thumbs-up-solid.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/thumbs-up.icon.tsx","../node_modules/@pega/cosmos-react-core/src/components/Icon/icons/unindent.icon.tsx","../node_modules/@pega/cosmos-react-core/src/hooks/useArrows.ts","../node_modules/@pega/cosmos-react-core/src/hooks/useAutoResize.ts","../node_modules/@pega/cosmos-react-social/src/components/Feed/Feed.context.ts","../node_modules/@pega/cosmos-react-core/src/components/Switch/Switch.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedAnnouncer.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/Feed.tsx","../node_modules/@pega/cosmos-react-core/src/components/File/utils.ts","../node_modules/@pega/cosmos-react-core/src/components/File/FileVisual.tsx","../node_modules/@pega/cosmos-react-core/src/components/File/FileUploadItem.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedAttachments.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedButton.ts","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedContent.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedLikeButton.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedModalList.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedNewPostTypeMenu.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedNewPost.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedPost.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedReply.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedReplyInput.tsx","../node_modules/slate-history/src/history.ts","../node_modules/slate-history/src/history-editor.ts","../node_modules/slate-history/src/with-history.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/utils/utils.types.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/utils/ListCommands.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/utils/EditorCommands.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/RichTextEditor.context.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/ToolbarButton.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/TableButton.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/utils.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/AnchorButton.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/ImageButton.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/TextSelect.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/IndentButton.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/Toolbar/Toolbar.tsx","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/utils/search.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/utils/slateConverter.ts","../node_modules/@pega/cosmos-react-rte/src/components/RichTextEditor/RichTextEditor.tsx","../node_modules/@pega/cosmos-react-social/src/components/MentionButton/MentionButton.tsx","../node_modules/@pega/cosmos-react-social/src/components/HashtagButton/HashtagButton.tsx","../node_modules/@pega/cosmos-react-social/src/components/Feed/FeedRichText.tsx"],"sourcesContent":["import { FC, MouseEvent, forwardRef, PropsWithoutRef, Ref, KeyboardEvent } from 'react';\nimport styled, { css } from 'styled-components';\nimport { mix, transparentize } from 'polished';\n\nimport { ForwardProps } from '../../types';\nimport { tryCatch } from '../../utils/utils';\nimport BareButton, { StyledBareButton } from '../Button/BareButton';\nimport Icon, { registerIcon, StyledIcon } from '../Icon';\nimport * as timesIcon from '../Icon/icons/times.icon';\nimport { useConsolidatedRef } from '../../hooks';\nimport { FormControlProps } from '../FormControl';\n\nregisterIcon(timesIcon);\n\nexport interface SelectableProps {\n  /** An id that is used by the onSelect and onRemove functions if they are provided. */\n  id: string;\n  /** Takes an ID that represents the Badge. This function is called when the Badge is clicked. */\n  onSelect?: (id: string) => void;\n  /** Takes an ID that represents the Badge. This function is called when the Badge is closed by clicking the X. */\n  onRemove?: (id: string) => void;\n  /** The content of the Badge. */\n  children: string;\n  /** Makes the input non editable and non clickable. The browser defaults to false. */\n  readOnly?: FormControlProps['readOnly'];\n  /** Event handler called when the Badge is clicked. */\n  onClick?: (event: MouseEvent) => void;\n  /** Event handler fired on every keyup event. */\n  onKeyUp?: (event: KeyboardEvent) => void;\n}\n\nexport const StyledSelectable = styled.div(props => {\n  const { foreground, background } = props.theme.components.badges.selectable.base;\n  const { dark } = props.theme.base.palette;\n  const borderRadius = props.theme.base['border-radius'];\n  const { spacing } = props.theme.base;\n\n  const displayBackground = tryCatch(() => mix(0.15, background, '#ffffff'));\n  const hoverBorder = tryCatch(() => mix(0.3, background, '#ffffff'));\n  const boxShadowColor = tryCatch(() => transparentize(0.45, dark));\n\n  const height = 1.125;\n  return css`\n    background: ${displayBackground};\n    border: 0 solid transparent;\n    border-radius: calc(${height} * ${borderRadius});\n    color: ${foreground};\n    cursor: default;\n    display: inline-flex;\n    align-items: center;\n    font-size: 0.75rem;\n    height: ${height}rem;\n    padding: 0 ${spacing};\n    min-width: max-content;\n    line-height: 1;\n\n    &:hover {\n      color: ${props.theme.base.palette.interactive};\n      box-shadow: inset 0 0 0 0.0625rem ${hoverBorder};\n\n      ${StyledBareButton} {\n        color: ${props.theme.base.palette.interactive};\n      }\n    }\n\n    &:active {\n      box-shadow: inset 0 0 0 0.0625rem ${background};\n    }\n\n    &:focus {\n      color: ${props.theme.base.palette.interactive};\n      box-shadow: 0 0 0.5rem -0.125rem ${boxShadowColor}, inset 0 0 0 0.125rem ${background};\n      outline: none;\n\n      ${StyledBareButton} {\n        color: ${props.theme.base.palette.interactive};\n      }\n    }\n\n    ${StyledIcon} {\n      margin-inline-start: ${spacing};\n      height: 1em;\n      width: 1em;\n    }\n  `;\n});\n\nconst Selectable: FC<SelectableProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<SelectableProps>, ref: Ref<HTMLButtonElement>) => {\n    const consolidatedRef = useConsolidatedRef(ref);\n    const { id, onSelect, onRemove, children, onClick, onKeyUp, ...restProps } = props;\n\n    const handleClick = (e: MouseEvent<HTMLDivElement>) => {\n      onClick?.(e);\n      onSelect?.(id);\n    };\n\n    const handleCloseClick = (e: MouseEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      onRemove?.(id);\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      onKeyUp?.(e);\n      if (e.key === 'Enter') {\n        onSelect?.(id);\n      }\n\n      if (e.key === 'Backspace' || e.key === 'Delete') {\n        onRemove?.(id);\n      }\n    };\n\n    return (\n      <BareButton\n        role='button'\n        tabIndex='0'\n        as={StyledSelectable}\n        ref={consolidatedRef}\n        onClick={handleClick}\n        onKeyUp={handleKeyUp}\n        {...restProps}\n      >\n        {children}\n        <BareButton tabIndex='-1' onClick={handleCloseClick}>\n          <Icon name='times' />\n        </BareButton>\n      </BareButton>\n    );\n  }\n);\n\nexport default Selectable;\n","import { FC, forwardRef, Ref, PropsWithoutRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { mix } from 'polished';\n\nimport { defaultThemeProp } from '../../theme';\nimport { tryCatch } from '../../utils/utils';\nimport { ForwardProps } from '../../types';\n\nexport interface TagProps {\n  /** The content of the Badge. */\n  children: string;\n}\n\nexport const StyledTag = styled.span(props => {\n  const borderRadius = props.theme.base['border-radius'];\n  const { spacing } = props.theme.base;\n  const { foreground, background } = props.theme.components.badges.tag;\n\n  const borderColor = tryCatch(() =>\n    mix(0.85, props.theme.base.palette['primary-background'], background)\n  );\n  const boxShadow = props.theme.base.shadow.focus;\n\n  return css`\n    border: 0.0625rem solid ${borderColor};\n    border-radius: calc(0.25 * ${borderRadius});\n    color: ${foreground};\n    display: inline-block;\n    font-size: 0.75rem;\n    padding: 0 ${spacing};\n\n    &:hover {\n      border-color: ${background};\n    }\n\n    &:focus {\n      border-color: ${background};\n      box-shadow: ${boxShadow};\n      outline: none;\n    }\n\n    &:active {\n      border: 0.0625rem solid ${borderColor};\n      box-shadow: none;\n    }\n  `;\n});\n\nStyledTag.defaultProps = defaultThemeProp;\n\nconst Tag: FC<TagProps & ForwardProps> = forwardRef(\n  ({ children, ...restProps }: PropsWithoutRef<TagProps>, ref: Ref<HTMLSpanElement>) => {\n    return (\n      <StyledTag {...restProps} tabIndex={0} ref={ref}>\n        {children}\n      </StyledTag>\n    );\n  }\n);\n\nexport default Tag;\n","import styled, { css } from 'styled-components';\n\nimport { defaultThemeProp } from '../../theme';\nimport { StyledButton } from '../Button';\nimport { StyledFormControl } from '../FormControl';\nimport { StyledPopover } from '../Popover';\n\nexport const StyledSelectInput = styled.div(({ theme: { base, components } }) => {\n  return css`\n    @media (pointer: coarse) {\n      min-height: ${base['hit-area']['finger-min']};\n    }\n\n    &:focus-within {\n      border-color: ${components['form-control'][':focus']['border-color']};\n      box-shadow: ${components['form-control'][':focus']['box-shadow']};\n    }\n\n    &:hover:not([readonly]):not([disabled]):focus-within {\n      border-color: transparent;\n    }\n\n    input {\n      min-width: 0;\n      width: 100%;\n      height: calc(${components.input.height} - 2 * ${components['form-control']['border-width']});\n      color: ${components['form-control']['foreground-color']};\n      text-overflow: ellipsis;\n      margin-inline-start: ${base.spacing};\n    }\n\n    input,\n    input:focus {\n      border: none;\n      outline: none;\n      flex-grow: 1;\n      background-color: transparent;\n\n      &:read-only {\n        cursor: default;\n      }\n    }\n\n    & > ${StyledButton} {\n      align-self: stretch;\n      height: auto;\n      margin-block: -0.0625rem;\n      margin-inline-end: -0.0625rem;\n      border-start-start-radius: 0;\n      border-start-end-radius: calc(\n        ${base['border-radius']} * ${components['form-control']['border-radius']}\n      );\n      border-end-start-radius: 0;\n      border-end-end-radius: calc(\n        ${base['border-radius']} * ${components['form-control']['border-radius']}\n      );\n    }\n  `;\n});\n\nexport const StyledComboBox = styled(StyledFormControl)(() => {\n  return css`\n    border: 0;\n\n    ${StyledPopover} {\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n    }\n  `;\n});\n\nStyledComboBox.defaultProps = defaultThemeProp;\n","import {\n  FunctionComponent,\n  forwardRef,\n  Ref,\n  PropsWithoutRef,\n  KeyboardEvent,\n  useRef,\n  useCallback\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ForwardProps } from '../../../types';\nimport { defaultThemeProp } from '../../../theme';\nimport Selectable, { StyledSelectable } from '../../Badges/Selection';\nimport { StyledFormControl } from '../../FormControl';\nimport Flex from '../../Flex';\nimport { useArrows, useConsolidatedRef, useDirection } from '../../../hooks';\nimport { cap } from '../../../utils';\nimport { StyledSelectInput } from '../ComboBox.styles';\n\nimport { MultiSelectInputProps } from './MultiSelectInput.types';\n\nexport const StyledMultiSelectInput = styled(StyledSelectInput)(({ theme }) => {\n  return css`\n    ul {\n      list-style: none;\n    }\n\n    ${StyledSelectable} {\n      margin: calc(0.25 * ${theme.base.spacing});\n    }\n  `;\n});\n\nStyledMultiSelectInput.defaultProps = defaultThemeProp;\n\nconst MultiSelectInput: FunctionComponent<MultiSelectInputProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<MultiSelectInputProps>, ref: Ref<HTMLInputElement>) => {\n    const {\n      selected = [],\n      value,\n      onRemove,\n      onChange,\n      onKeyDown,\n      actions,\n      readOnly,\n      disabled,\n      status,\n      placeholder,\n      autoFocus,\n      ...restProps\n    } = props;\n\n    const inputRef = useConsolidatedRef<HTMLInputElement>(ref);\n    const listRef = useRef<HTMLUListElement>(null);\n    useArrows(listRef, { selector: 'div[role=\"button\"], input', cycle: false, dir: 'left-right' });\n\n    const onInputKeyDown = useCallback(\n      (e: KeyboardEvent<HTMLInputElement>) => {\n        const lastIndex = selected.length - 1;\n        if (e.key === 'Backspace' && !value && selected.length > 0) {\n          onRemove?.(selected[lastIndex].id, lastIndex);\n        }\n        onKeyDown?.(e);\n      },\n      [onKeyDown, value, selected]\n    );\n\n    const { end } = useDirection();\n\n    return (\n      <Flex\n        as={StyledMultiSelectInput}\n        forwardedAs={StyledFormControl}\n        container={{ alignItems: 'center' }}\n        {...{\n          readOnly,\n          disabled,\n          status\n        }}\n      >\n        <Flex\n          ref={listRef}\n          as='ul'\n          item={{ grow: 1 }}\n          container={{ alignItems: 'center', wrap: 'wrap' }}\n          onBlur={() => {\n            listRef.current?.querySelectorAll<HTMLElement>('div[role=\"button\"]').forEach(el => {\n              el.tabIndex = -1;\n            });\n            if (inputRef.current) inputRef.current.tabIndex = 0;\n          }}\n        >\n          {selected.map((element, idx) => {\n            return (\n              <li key={element.id}>\n                <Selectable\n                  id={element.id.toString()}\n                  disabled={readOnly || disabled}\n                  status={status}\n                  onRemove={id => {\n                    onRemove?.(id, idx);\n                    inputRef.current?.focus();\n                  }}\n                  onKeyDown={(e: KeyboardEvent<Element>) => {\n                    // prevent browser's Back on FF\n                    if (e.key === 'Backspace') e.preventDefault();\n                    if (idx === selected.length - 1 && e.key === `Arrow${cap(end)}`)\n                      inputRef.current?.focus();\n                  }}\n                >\n                  {element.text}\n                </Selectable>\n              </li>\n            );\n          })}\n          <Flex as='li' item={{ grow: 1 }} container>\n            <input\n              size={5}\n              ref={inputRef}\n              value={value}\n              // no-op avoids react uncontrolled warning\n              onChange={onChange || (() => {})}\n              onKeyDown={onInputKeyDown}\n              readOnly={readOnly || !onChange}\n              placeholder={selected?.length ? undefined : placeholder}\n              autoComplete='off'\n              // eslint-disable-next-line jsx-a11y/no-autofocus\n              autoFocus={autoFocus}\n              {...restProps}\n            />\n          </Flex>\n        </Flex>\n        {actions}\n      </Flex>\n    );\n  }\n);\n\nexport default MultiSelectInput;\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'chain';\n\nexport const Component = () => (\n  <path d='M6.3703125,11.928125 C6.3703125,11.928125 6.3703125,11.928125 6.3703125,11.928125 C6.3703125,11.928125 18.1515625,11.928125 18.1515625,11.928125 C18.4867188,11.928125 18.6304687,12.071875 18.6304687,12.4070313 C18.6304687,12.4070313 18.6304687,12.4070313 18.6304687,12.4070313 C18.6304687,12.7421875 18.4867188,12.9335938 18.1515625,12.9335938 C18.1515625,12.9335938 18.1515625,12.9335938 18.1515625,12.9335938 C18.1515625,12.9335938 6.3703125,12.9335938 6.3703125,12.9335938 C6.03515625,12.9335938 5.89140625,12.7421875 5.89140625,12.4070313 C5.89140625,12.4070313 5.89140625,12.4070313 5.89140625,12.4070313 C5.89140625,12.071875 6.03515625,11.928125 6.3703125,11.928125 Z M23.0375,8.00078125 C23.0375,8.00078125 23.0375,8.00078125 23.0375,8.00078125 C23.0375,8.00078125 15.1828125,8.00078125 15.1828125,8.00078125 C14.7515625,8.00078125 14.4164062,8.14453125 14.1773437,8.43203125 C13.8898437,8.71953125 13.7460937,9.0546875 13.7460937,9.4859375 C13.7460937,9.4859375 13.7460937,9.4859375 13.7460937,9.4859375 C13.7460937,9.4859375 13.7460937,10.9703125 13.7460937,10.9703125 C13.7460937,10.9703125 14.7039062,10.9703125 14.7039062,10.9703125 C14.7039062,10.9703125 14.7039062,9.4859375 14.7039062,9.4859375 C14.7039062,9.15078125 14.8476562,9.00703125 15.1828125,9.00703125 C15.1828125,9.00703125 15.1828125,9.00703125 15.1828125,9.00703125 C15.1828125,9.00703125 23.0375,9.00703125 23.0375,9.00703125 C23.3726562,9.00703125 23.5640625,9.15078125 23.5640625,9.4859375 C23.5640625,9.4859375 23.5640625,9.4859375 23.5640625,9.4859375 C23.5640625,9.4859375 23.5640625,15.3765625 23.5640625,15.3765625 C23.5640625,15.7117187 23.3726562,15.8554688 23.0375,15.8554688 C23.0375,15.8554688 23.0375,15.8554688 23.0375,15.8554688 C23.0375,15.8554688 15.1828125,15.8554688 15.1828125,15.8554688 C14.8476562,15.8554688 14.7039062,15.7117187 14.7039062,15.3765625 C14.7039062,15.3765625 14.7039062,15.3765625 14.7039062,15.3765625 C14.7039062,15.3765625 14.7039062,13.8921875 14.7039062,13.8921875 C14.7039062,13.8921875 13.7460937,13.8921875 13.7460937,13.8921875 C13.7460937,13.8921875 13.7460937,15.3765625 13.7460937,15.3765625 C13.7460937,15.8078125 13.8898437,16.1429688 14.1773437,16.4304688 C14.4164062,16.7179688 14.7523437,16.8617188 15.1828125,16.8617188 C15.1828125,16.8617188 15.1828125,16.8617188 15.1828125,16.8617188 C15.1828125,16.8617188 23.0375,16.8617188 23.0375,16.8617188 C23.46875,16.8617188 23.8039063,16.7179688 24.0914062,16.4304688 C24.3789062,16.1429688 24.5226562,15.8078125 24.5226562,15.3765625 C24.5226562,15.3765625 24.5226562,15.3765625 24.5226562,15.3765625 C24.5226562,15.3765625 24.5226562,9.4859375 24.5226562,9.4859375 C24.5226562,9.0546875 24.3789062,8.71953125 24.0914062,8.43203125 C23.8039062,8.14453125 23.46875,8.00078125 23.0375,8.00078125 L23.0375,8.00078125 Z M9.81875,13.8914063 C9.81875,13.8914063 9.81875,15.3757812 9.81875,15.3757812 C9.81875,15.7109375 9.675,15.8546875 9.33984375,15.8546875 C9.33984375,15.8546875 9.33984375,15.8546875 9.33984375,15.8546875 C9.33984375,15.8546875 1.48515625,15.8546875 1.48515625,15.8546875 C1.15,15.8546875 0.95859375,15.7109375 0.95859375,15.3757812 C0.95859375,15.3757812 0.95859375,15.3757812 0.95859375,15.3757812 C0.95859375,15.3757812 0.95859375,9.48515625 0.95859375,9.48515625 C0.95859375,9.15 1.15,9.00625 1.48515625,9.00625 C1.48515625,9.00625 1.48515625,9.00625 1.48515625,9.00625 C1.48515625,9.00625 9.33984375,9.00625 9.33984375,9.00625 C9.675,9.00625 9.81875,9.15 9.81875,9.48515625 C9.81875,9.48515625 9.81875,9.48515625 9.81875,9.48515625 C9.81875,9.48515625 9.81875,10.9695312 9.81875,10.9695312 C9.81875,10.9695312 10.7765625,10.9695312 10.7765625,10.9695312 C10.7765625,10.9695312 10.7765625,9.48515625 10.7765625,9.48515625 C10.7765625,9.05390625 10.6328125,8.71875 10.39375,8.43125 C10.10625,8.14375 9.77109375,8 9.33984375,8 C9.33984375,8 9.33984375,8 9.33984375,8 C9.33984375,8 1.48515625,8 1.48515625,8 C1.05390625,8 0.71875,8.14375 0.43125,8.43125 C0.14375,8.71875 0,9.05390625 0,9.48515625 C0,9.48515625 0,9.48515625 0,9.48515625 C0,9.48515625 0,15.3757812 0,15.3757812 C0,15.8070313 0.14375,16.1421875 0.43125,16.4296875 C0.71875,16.7171875 1.05390625,16.8609375 1.48515625,16.8609375 C1.48515625,16.8609375 1.48515625,16.8609375 1.48515625,16.8609375 C1.48515625,16.8609375 9.33984375,16.8609375 9.33984375,16.8609375 C9.77109375,16.8609375 10.10625,16.7171875 10.39375,16.4296875 C10.6328125,16.1421875 10.7765625,15.8070313 10.7765625,15.3757812 C10.7765625,15.3757812 10.7765625,15.3757812 10.7765625,15.3757812 C10.7765625,15.3757812 10.7765625,13.8914063 10.7765625,13.8914063 C10.7765625,13.8914063 9.81875,13.8914063 9.81875,13.8914063 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'chat';\n\nexport const Component = () => (\n  <path d='M23.0367187,1 C23.0367187,1 23.0367187,1 23.0367187,1 C23.0367187,1 1.48515625,1 1.48515625,1 C1.05390625,1.04765625 0.71875,1.19140625 0.43125,1.43125 C0.14375,1.71875 0,2.05390625 0,2.48515625 C0,2.48515625 0,2.48515625 0,2.48515625 C0,2.48515625 0,18.19375 0,18.19375 C0,18.625 0.14375,18.9601563 0.43125,19.2476563 C0.71875,19.5351562 1.05390625,19.6789062 1.48515625,19.6789062 C1.48515625,19.6789062 1.48515625,19.6789062 1.48515625,19.6789062 C1.48515625,19.6789062 13.8890625,19.6789062 13.8890625,19.6789062 C14.0328125,19.6789062 14.128125,19.7265625 14.1765625,19.775 C14.1765625,19.775 14.1765625,19.775 14.1765625,19.775 C14.1765625,19.775 19.0140625,23.3671875 19.0140625,23.3671875 C19.253125,23.5109375 19.4453125,23.60625 19.6367188,23.60625 C19.6367188,23.60625 19.6367188,23.60625 19.6367188,23.60625 C19.8757813,23.60625 20.115625,23.5101562 20.3070313,23.2710938 C20.4984375,23.0796875 20.5945313,22.8398438 20.5945313,22.6007813 C20.5945313,22.6007813 20.5945313,22.6007813 20.5945313,22.6007813 C20.5945313,22.6007813 20.5945313,19.6796875 20.5945313,19.6796875 C20.5945313,19.6796875 23.0367188,19.6796875 23.0367188,19.6796875 C23.4679688,19.6796875 23.803125,19.5359375 24.090625,19.2484375 C24.378125,18.9609375 24.521875,18.6257812 24.521875,18.1945313 C24.521875,18.1945313 24.521875,18.1945313 24.521875,18.1945313 C24.521875,18.1945313 24.521875,2.4859375 24.521875,2.4859375 C24.521875,2.0546875 24.378125,1.71953125 24.090625,1.43203125 C23.803125,1.1921875 23.4679688,1.04921875 23.0367188,1.00078125 L23.0367187,1 Z M23.5632812,2.484375 C23.5632812,2.484375 23.5632812,18.1929688 23.5632812,18.1929688 C23.5632812,18.528125 23.371875,18.671875 23.0367188,18.671875 C23.0367188,18.671875 23.0367188,18.671875 23.0367188,18.671875 C23.0367188,18.671875 20.3070312,18.671875 20.3070312,18.671875 C20.115625,18.671875 19.971875,18.7195313 19.828125,18.8632812 C19.684375,19.0070313 19.6367188,19.1984375 19.6367188,19.3421875 C19.6367188,19.3421875 19.6367188,19.3421875 19.6367188,19.3421875 C19.6367188,19.3421875 19.6367188,22.5992188 19.6367188,22.5992188 C19.6367188,22.5992188 14.7992187,18.959375 14.7992187,18.959375 C14.5601562,18.7679687 14.2726562,18.671875 13.8890625,18.671875 C13.8890625,18.671875 13.8890625,18.671875 13.8890625,18.671875 C13.8890625,18.671875 1.48515625,18.671875 1.48515625,18.671875 C1.15,18.671875 0.95859375,18.528125 0.95859375,18.1929688 C0.95859375,18.1929688 0.95859375,18.1929688 0.95859375,18.1929688 C0.95859375,18.1929688 0.95859375,2.484375 0.95859375,2.484375 C0.95859375,2.14921875 1.15,2.00546875 1.48515625,2.00546875 C1.48515625,2.00546875 1.48515625,2.00546875 1.48515625,2.00546875 C1.48515625,2.00546875 23.0367188,2.00546875 23.0367188,2.00546875 C23.371875,2.00546875 23.5632812,2.14921875 23.5632812,2.484375 C23.5632812,2.484375 23.5632812,2.484375 23.5632812,2.484375 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'filter-on';\n\nexport const Component = () => (\n  <path d='M10.8601563,19.665625 C10.8601563,19.665625 12.7757813,19.665625 12.7757813,19.665625 C13.4460938,19.665625 13.78125,20.0007812 13.78125,20.6234375 C13.78125,20.6234375 13.78125,20.6234375 13.78125,20.6234375 C13.78125,21.29375 13.4460938,21.6289062 12.7757813,21.6289062 C12.7757813,21.6289062 12.7757813,21.6289062 12.7757813,21.6289062 C12.7757813,21.6289062 10.8601563,21.6289062 10.8601563,21.6289062 C10.1898438,21.6289062 9.8546875,21.29375 9.8546875,20.6234375 C9.8546875,20.6234375 9.8546875,20.6234375 9.8546875,20.6234375 C9.8546875,20.0007812 10.1898438,19.665625 10.8601563,19.665625 C10.8601563,19.665625 10.8601563,19.665625 10.8601563,19.665625 L10.8601563,19.665625 Z M6.9328125,14.7804688 C6.9328125,14.7804688 16.703125,14.7804688 16.703125,14.7804688 C17.3734375,14.7804688 17.7085938,15.115625 17.7085938,15.7382812 C17.7085938,15.7382812 17.7085938,15.7382812 17.7085938,15.7382812 C17.7085938,16.4085937 17.3734375,16.74375 16.703125,16.74375 C16.703125,16.74375 16.703125,16.74375 16.703125,16.74375 C16.703125,16.74375 6.9328125,16.74375 6.9328125,16.74375 C6.2625,16.74375 5.92734375,16.4085937 5.92734375,15.7382812 C5.92734375,15.7382812 5.92734375,15.7382812 5.92734375,15.7382812 C5.92734375,15.115625 6.2625,14.7804688 6.9328125,14.7804688 C6.9328125,14.7804688 6.9328125,14.7804688 6.9328125,14.7804688 Z M4.8734375,9.8953125 C4.8734375,9.8953125 15.3617188,9.8953125 15.3617188,9.8953125 C15.9367188,9.8953125 16.2234375,10.2304687 16.2234375,10.9007812 C16.2234375,10.9007812 16.2234375,10.9007812 16.2234375,10.9007812 C16.2234375,11.5234375 15.9359375,11.8585937 15.3617188,11.8585937 C15.3617188,11.8585937 15.3617188,11.8585937 15.3617188,11.8585937 C15.3617188,11.8585937 4.8734375,11.8585937 4.8734375,11.8585937 C4.25078125,11.8585937 3.96328125,11.5234375 3.96328125,10.9007812 C3.96328125,10.9007812 3.96328125,10.9007812 3.96328125,10.9007812 C3.96328125,10.2304687 4.25078125,9.8953125 4.8734375,9.8953125 C4.8734375,9.8953125 4.8734375,9.8953125 4.8734375,9.8953125 L4.8734375,9.8953125 Z M13.78125,5.96796875 C13.78125,5.96796875 13.78125,5.96796875 13.78125,5.96796875 C13.78125,6.590625 13.49375,6.92578125 12.9671875,6.92578125 C12.9671875,6.92578125 12.9671875,6.92578125 12.9671875,6.92578125 C12.9671875,6.92578125 2.8140625,6.92578125 2.8140625,6.92578125 C2.2875,6.92578125 2,6.590625 2,5.96796875 C2,5.96796875 2,5.96796875 2,5.96796875 C2,5.29765625 2.2875,4.9625 2.8140625,4.9625 C2.8140625,4.9625 2.8140625,4.9625 2.8140625,4.9625 C2.8140625,4.9625 12.9671875,4.9625 12.9671875,4.9625 C13.49375,4.9625 13.78125,5.29765625 13.78125,5.96796875 Z M23.1203125,6.44765625 C23.1203125,6.44765625 23.1203125,6.44765625 23.1203125,6.44765625 C23.1203125,7.3578125 22.7851562,8.171875 22.1148437,8.8421875 C21.3960937,9.5125 20.5820312,9.84765625 19.6726562,9.84765625 C19.6726562,9.84765625 19.6726562,9.84765625 19.6726562,9.84765625 C18.7148438,9.84765625 17.9007813,9.5125 17.2304688,8.8421875 C16.5601562,8.171875 16.225,7.3578125 16.225,6.44765625 C16.225,6.44765625 16.225,6.44765625 16.225,6.44765625 C16.225,5.48984375 16.5601562,4.67578125 17.2304688,4.00546875 C17.9007813,3.33515625 18.7148437,3 19.6726562,3 C19.6726562,3 19.6726562,3 19.6726562,3 C20.5828125,3 21.396875,3.33515625 22.1148437,4.00546875 C22.7851562,4.67578125 23.1203125,5.48984375 23.1203125,6.44765625 L23.1203125,6.44765625 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'filter';\n\nexport const Component = () => (\n  <path d='M11.859375,18.703125 C11.859375,18.703125 13.775,18.703125 13.775,18.703125 C14.4453125,18.703125 14.7804688,19.0382812 14.7804688,19.6609375 C14.7804688,19.6609375 14.7804688,19.6609375 14.7804688,19.6609375 C14.7804688,20.33125 14.4453125,20.6664062 13.775,20.6664062 C13.775,20.6664062 13.775,20.6664062 13.775,20.6664062 C13.775,20.6664062 11.859375,20.6664062 11.859375,20.6664062 C11.1890625,20.6664062 10.8539063,20.33125 10.8539063,19.6609375 C10.8539063,19.6609375 10.8539063,19.6609375 10.8539063,19.6609375 C10.8539063,19.0382812 11.1890625,18.703125 11.859375,18.703125 C11.859375,18.703125 11.859375,18.703125 11.859375,18.703125 L11.859375,18.703125 Z M7.93203125,13.8179688 C7.93203125,13.8179688 17.7023438,13.8179688 17.7023438,13.8179688 C18.3726563,13.8179688 18.7078125,14.153125 18.7078125,14.7757812 C18.7078125,14.7757812 18.7078125,14.7757812 18.7078125,14.7757812 C18.7078125,15.4460937 18.3726563,15.78125 17.7023438,15.78125 C17.7023438,15.78125 17.7023438,15.78125 17.7023438,15.78125 C17.7023438,15.78125 7.93203125,15.78125 7.93203125,15.78125 C7.26171875,15.78125 6.9265625,15.4460937 6.9265625,14.7757812 C6.9265625,14.7757812 6.9265625,14.7757812 6.9265625,14.7757812 C6.9265625,14.153125 7.26171875,13.8179688 7.93203125,13.8179688 C7.93203125,13.8179688 7.93203125,13.8179688 7.93203125,13.8179688 Z M5.96796875,8.88515625 C5.96796875,8.88515625 19.665625,8.88515625 19.665625,8.88515625 C20.3359375,8.88515625 20.6710938,9.2203125 20.6710938,9.890625 C20.6710938,9.890625 20.6710938,9.890625 20.6710938,9.890625 C20.6710938,10.5132812 20.3359375,10.8484375 19.665625,10.8484375 C19.665625,10.8484375 19.665625,10.8484375 19.665625,10.8484375 C19.665625,10.8484375 5.96796875,10.8484375 5.96796875,10.8484375 C5.29765625,10.8484375 4.9625,10.5132812 4.9625,9.890625 C4.9625,9.890625 4.9625,9.890625 4.9625,9.890625 C4.9625,9.2203125 5.29765625,8.88515625 5.96796875,8.88515625 C5.96796875,8.88515625 5.96796875,8.88515625 5.96796875,8.88515625 L5.96796875,8.88515625 Z M22.6351563,5.00546875 C22.6351563,5.00546875 22.6351563,5.00546875 22.6351563,5.00546875 C22.6351563,5.628125 22.3,5.96328125 21.6296875,5.96328125 C21.6296875,5.96328125 21.6296875,5.96328125 21.6296875,5.96328125 C21.6296875,5.96328125 4.00546875,5.96328125 4.00546875,5.96328125 C3.33515625,5.96328125 3,5.628125 3,5.00546875 C3,5.00546875 3,5.00546875 3,5.00546875 C3,4.33515625 3.33515625,4 4.00546875,4 C4.00546875,4 4.00546875,4 4.00546875,4 C4.00546875,4 21.6296875,4 21.6296875,4 C22.3,4 22.6351563,4.33515625 22.6351563,5.00546875 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'indent';\n\nexport const Component = () => (\n  <path d='M1,2.5265625 C1,2.5265625 1,2.5265625 1,2.5265625 C1,2.19140625 1.19140625,2 1.5265625,2 C1.5265625,2 1.5265625,2 1.5265625,2 C1.5265625,2 24.084375,2 24.084375,2 C24.4195313,2 24.5632812,2.19140625 24.5632812,2.5265625 C24.5632812,2.5265625 24.5632812,2.5265625 24.5632812,2.5265625 C24.5632812,2.86171875 24.4195313,3.00546875 24.084375,3.00546875 C24.084375,3.00546875 24.084375,3.00546875 24.084375,3.00546875 C24.084375,3.00546875 1.5265625,3.00546875 1.5265625,3.00546875 C1.19140625,3.00546875 1,2.86171875 1,2.5265625 Z M1.5265625,7.890625 C1.5265625,7.890625 1.5265625,7.890625 1.5265625,7.890625 C1.5265625,7.890625 12.3023438,7.890625 12.3023438,7.890625 C12.6375,7.890625 12.78125,7.746875 12.78125,7.41171875 C12.78125,7.0765625 12.6375,6.9328125 12.3023438,6.9328125 C12.3023438,6.9328125 12.3023438,6.9328125 12.3023438,6.9328125 C12.3023438,6.9328125 1.5265625,6.9328125 1.5265625,6.9328125 C1.19140625,6.9328125 1,7.0765625 1,7.41171875 C1,7.746875 1.19140625,7.890625 1.5265625,7.890625 Z M1.5265625,12.8242187 C1.5265625,12.8242187 1.5265625,12.8242187 1.5265625,12.8242187 C1.5265625,12.8242187 12.3023438,12.8242187 12.3023438,12.8242187 C12.6375,12.8242187 12.78125,12.6328125 12.78125,12.2976562 C12.78125,12.2976562 12.78125,12.2976562 12.78125,12.2976562 C12.78125,11.9625 12.6375,11.81875 12.3023438,11.81875 C12.3023438,11.81875 12.3023438,11.81875 12.3023438,11.81875 C12.3023438,11.81875 1.5265625,11.81875 1.5265625,11.81875 C1.19140625,11.81875 1,11.9625 1,12.2976562 C1,12.2976562 1,12.2976562 1,12.2976562 C1,12.6328125 1.19140625,12.8242187 1.5265625,12.8242187 Z M1.5265625,17.7085937 C1.5265625,17.7085937 1.5265625,17.7085937 1.5265625,17.7085937 C1.5265625,17.7085937 12.3023438,17.7085937 12.3023438,17.7085937 C12.6375,17.7085937 12.78125,17.5648437 12.78125,17.2296875 C12.78125,16.8945312 12.6375,16.7507812 12.3023438,16.7507812 C12.3023438,16.7507812 12.3023438,16.7507812 12.3023438,16.7507812 C12.3023438,16.7507812 1.5265625,16.7507812 1.5265625,16.7507812 C1.19140625,16.7507812 1,16.8945312 1,17.2296875 C1,17.5648437 1.19140625,17.7085937 1.5265625,17.7085937 Z M24.084375,21.6359375 C24.084375,21.6359375 24.084375,21.6359375 24.084375,21.6359375 C24.084375,21.6359375 1.5265625,21.6359375 1.5265625,21.6359375 C1.19140625,21.6359375 1,21.7796875 1,22.1148437 C1,22.1148437 1,22.1148437 1,22.1148437 C1,22.45 1.19140625,22.6414062 1.5265625,22.6414062 C1.5265625,22.6414062 1.5265625,22.6414062 1.5265625,22.6414062 C1.5265625,22.6414062 24.084375,22.6414062 24.084375,22.6414062 C24.4195313,22.6414062 24.5632813,22.45 24.5632813,22.1148437 C24.5632813,22.1148437 24.5632813,22.1148437 24.5632813,22.1148437 C24.5632813,21.7796875 24.4195313,21.6359375 24.084375,21.6359375 Z M24.4195313,11.9617187 C24.4195313,11.9617187 21.4984375,9.040625 21.4984375,9.040625 C21.4023438,8.94453125 21.259375,8.896875 21.115625,8.896875 C21.115625,8.896875 21.115625,8.896875 21.115625,8.896875 C20.7804688,8.896875 20.6367188,9.040625 20.6367188,9.37578125 C20.6367188,9.37578125 20.6367188,9.37578125 20.6367188,9.37578125 C20.6367188,9.51953125 20.684375,9.61484375 20.7804688,9.7109375 C20.7804688,9.7109375 20.7804688,9.7109375 20.7804688,9.7109375 C20.7804688,9.7109375 22.8875,11.8179687 22.8875,11.8179687 C22.8875,11.8179687 15.7515625,11.8179687 15.7515625,11.8179687 C15.4164063,11.8179687 15.225,11.9617187 15.225,12.296875 C15.225,12.296875 15.225,12.296875 15.225,12.296875 C15.225,12.6320312 15.4164063,12.8234375 15.7515625,12.8234375 C15.7515625,12.8234375 15.7515625,12.8234375 15.7515625,12.8234375 C15.7515625,12.8234375 22.8875,12.8234375 22.8875,12.8234375 C22.8875,12.8234375 20.7804688,14.9304687 20.7804688,14.9304687 C20.684375,15.0265625 20.6367188,15.121875 20.6367188,15.265625 C20.6367188,15.265625 20.6367188,15.265625 20.6367188,15.265625 C20.6367188,15.6007812 20.7804688,15.7445312 21.115625,15.7445312 C21.115625,15.7445312 21.115625,15.7445312 21.115625,15.7445312 C21.259375,15.7445312 21.403125,15.696875 21.4984375,15.6007812 C21.4984375,15.6007812 21.4984375,15.6007812 21.4984375,15.6007812 C21.4984375,15.6007812 24.4195313,12.6796875 24.4195313,12.6796875 C24.515625,12.5835937 24.5632813,12.440625 24.5632813,12.296875 C24.5632813,12.296875 24.5632813,12.296875 24.5632813,12.296875 C24.5632813,12.153125 24.515625,12.0578125 24.4195313,11.9617187 C24.4195313,11.9617187 24.4195313,11.9617187 24.4195313,11.9617187 L24.4195313,11.9617187 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'paper-clip';\n\nexport const Component = () => (\n  <path d='M20.5226562,11.6265625 C20.6664062,11.6265625 20.7617188,11.6742188 20.8578125,11.7703125 C20.9539062,11.8664063 21.0015625,11.9617188 21.0015625,12.1054688 C21.0015625,12.2492188 20.9539062,12.3445313 20.8578125,12.440625 C20.8578125,12.440625 20.8578125,12.440625 20.8578125,12.440625 C20.8578125,12.440625 13.2429687,20.0554687 13.2429687,20.0554687 C12.1414062,21.109375 10.8484375,21.6359375 9.41171875,21.6359375 C7.975,21.6359375 6.68203125,21.109375 5.58046875,20.0554687 C5.58046875,20.0554687 5.58046875,20.0554687 5.58046875,20.0554687 C4.5265625,19.0015625 4,17.75625 4,16.271875 C4,16.271875 4,16.271875 4,16.271875 C4,14.8351563 4.5265625,13.5421875 5.58046875,12.440625 C5.58046875,12.440625 5.58046875,12.440625 5.58046875,12.440625 C5.58046875,12.440625 14.9671875,3.14921875 14.9671875,3.14921875 C15.7335937,2.3828125 16.64375,2 17.7453125,2 C18.846875,2 19.7570312,2.3828125 20.5234375,3.14921875 C20.5234375,3.14921875 20.5234375,3.14921875 20.5234375,3.14921875 C21.2898437,3.86796875 21.6726562,4.77734375 21.6726562,5.87890625 C21.6726562,5.87890625 21.6726562,5.87890625 21.6726562,5.87890625 C21.6726562,6.98046875 21.2898437,7.890625 20.5234375,8.65703125 C20.5234375,8.65703125 20.5234375,8.65703125 20.5234375,8.65703125 C20.5234375,8.65703125 11.8546875,17.2773438 11.8546875,17.2773438 C11.3757813,17.75625 10.8007812,17.9960938 10.1304687,17.9960938 C10.1304687,17.9960938 10.1304687,17.9960938 10.1304687,17.9960938 C9.5078125,17.9960938 8.88515625,17.7570313 8.35859375,17.2773438 C8.35859375,17.2773438 8.35859375,17.2773438 8.35859375,17.2773438 C7.8796875,16.7984375 7.63984375,16.2234375 7.63984375,15.553125 C7.63984375,14.8828125 7.87890625,14.3078125 8.35859375,13.8289062 C8.35859375,13.8289062 8.35859375,13.8289062 8.35859375,13.8289062 C8.35859375,13.8289062 16.6921875,5.54375 16.6921875,5.54375 C16.7882812,5.44765625 16.93125,5.4 17.075,5.4 C17.075,5.4 17.075,5.4 17.075,5.4 C17.21875,5.4 17.3140625,5.44765625 17.4101562,5.54375 C17.50625,5.63984375 17.5539062,5.73515625 17.5539062,5.87890625 C17.5539062,5.87890625 17.5539062,5.87890625 17.5539062,5.87890625 C17.5539062,6.02265625 17.50625,6.16640625 17.4101562,6.26171875 C17.4101562,6.26171875 17.4101562,6.26171875 17.4101562,6.26171875 C17.4101562,6.26171875 9.0765625,14.4992187 9.0765625,14.4992187 C8.7890625,14.7867187 8.6453125,15.121875 8.6453125,15.553125 C8.6453125,15.984375 8.7890625,16.3195313 9.0765625,16.6070312 C9.3640625,16.8945312 9.69921875,17.0382813 10.1304687,17.0382813 C10.1304687,17.0382813 10.1304687,17.0382813 10.1304687,17.0382813 C10.5132812,17.0382813 10.8492187,16.8945312 11.1359375,16.6070312 C11.1359375,16.6070312 11.1359375,16.6070312 11.1359375,16.6070312 C11.1359375,16.6070312 19.8523437,7.98671875 19.8523437,7.98671875 C20.4273437,7.41171875 20.7140625,6.69375 20.7140625,5.8796875 C20.7140625,5.8796875 20.7140625,5.8796875 20.7140625,5.8796875 C20.7140625,5.065625 20.4265625,4.3953125 19.8523437,3.8203125 C19.8523437,3.8203125 19.8523437,3.8203125 19.8523437,3.8203125 C19.2296875,3.2453125 18.5117187,2.95859375 17.7453125,2.95859375 C17.7453125,2.95859375 17.7453125,2.95859375 17.7453125,2.95859375 C16.93125,2.95859375 16.2609375,3.24609375 15.6859375,3.8203125 C15.6859375,3.8203125 15.6859375,3.8203125 15.6859375,3.8203125 C15.6859375,3.8203125 6.29921875,13.159375 6.29921875,13.159375 C5.4375,13.9734375 5.00625,14.9789062 5.00625,16.2726562 C5.00625,16.2726562 5.00625,16.2726562 5.00625,16.2726562 C5.00625,17.5179688 5.4375,18.5234375 6.29921875,19.3375 C6.29921875,19.3375 6.29921875,19.3375 6.29921875,19.3375 C7.1609375,20.1992188 8.21484375,20.6304688 9.4125,20.6304688 C9.4125,20.6304688 9.4125,20.6304688 9.4125,20.6304688 C10.7054687,20.6304688 11.7117187,20.1992188 12.5257812,19.3375 C12.5257812,19.3375 12.5257812,19.3375 12.5257812,19.3375 C12.5257812,19.3375 20.1882812,11.7703125 20.1882812,11.7703125 C20.284375,11.6742188 20.3796875,11.6265625 20.5234375,11.6265625 L20.5226562,11.6265625 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'picture';\n\nexport const Component = () => (\n  <path d='M22.0734375,1 C22.0734375,1 22.0734375,1 22.0734375,1 C22.0734375,1 2.48515625,1 2.48515625,1 C2.05390625,1 1.71875,1.14375 1.43125,1.43125 C1.14375,1.71875 1,2.05390625 1,2.48515625 C1,2.48515625 1,2.48515625 1,2.48515625 C1,2.48515625 1,22.0734375 1,22.0734375 C1,22.5046875 1.14375,22.8398438 1.43125,23.1273437 C1.71875,23.4148437 2.05390625,23.5585938 2.48515625,23.5585938 C2.48515625,23.5585938 2.48515625,23.5585938 2.48515625,23.5585938 C2.48515625,23.5585938 22.0734375,23.5585938 22.0734375,23.5585938 C22.5046875,23.5585938 22.8398438,23.4148437 23.1273438,23.1273438 C23.4148437,22.8398438 23.5585938,22.5046875 23.5585938,22.0734375 C23.5585938,22.0734375 23.5585938,22.0734375 23.5585938,22.0734375 C23.5585938,22.0734375 23.5585938,2.48515625 23.5585938,2.48515625 C23.5585938,2.05390625 23.4148437,1.71875 23.1273438,1.43125 C22.8398438,1.14375 22.5046875,1 22.0734375,1 Z M22.6007812,19.6304687 C22.6007812,19.6304687 22.6007812,22.0726563 22.6007812,22.0726563 C22.6007812,22.4078125 22.409375,22.5515625 22.0742187,22.5515625 C22.0742187,22.5515625 22.0742187,22.5515625 22.0742187,22.5515625 C22.0742187,22.5515625 2.4859375,22.5515625 2.4859375,22.5515625 C2.15078125,22.5515625 1.959375,22.4078125 1.959375,22.0726563 C1.959375,22.0726563 1.959375,22.0726563 1.959375,22.0726563 C1.959375,22.0726563 1.959375,19.6304687 1.959375,19.6304687 C1.959375,19.6304687 22.6007812,19.6304687 22.6007812,19.6304687 Z M22.6007812,15.4164062 C22.6007812,15.4164062 22.6007812,18.6734375 22.6007812,18.6734375 C22.6007812,18.6734375 1.959375,18.6734375 1.959375,18.6734375 C1.959375,18.6734375 1.959375,16.9015625 1.959375,16.9015625 C1.959375,16.9015625 7.37109375,11.96875 7.37109375,11.96875 C7.37109375,11.96875 12.9265625,17.5242187 12.9265625,17.5242187 C13.0226562,17.6203125 13.1179687,17.6679688 13.2617187,17.6679688 C13.2617187,17.6679688 13.2617187,17.6679688 13.2617187,17.6679688 C13.596875,17.6679688 13.740625,17.5242187 13.740625,17.1890625 C13.740625,17.1890625 13.740625,17.1890625 13.740625,17.1890625 C13.740625,16.9976562 13.6929687,16.9015625 13.596875,16.8539063 C13.596875,16.8539063 13.596875,16.8539063 13.596875,16.8539063 C13.596875,16.8539063 10.7710937,13.9804687 10.7710937,13.9804687 C10.7710937,13.9804687 16.1828125,9.04765625 16.1828125,9.04765625 C16.1828125,9.04765625 22.6007812,15.4171875 22.6007812,15.4171875 L22.6007812,15.4164062 Z M22.6007813,2.48515625 C22.6007813,2.48515625 22.6007813,14.0273437 22.6007813,14.0273437 C22.6007813,14.0273437 16.5664062,7.99296875 16.5664062,7.99296875 C16.4703125,7.896875 16.3273437,7.84921875 16.1835938,7.84921875 C16.0398438,7.84921875 15.9445312,7.896875 15.8960938,7.99296875 C15.8960938,7.99296875 15.8960938,7.99296875 15.8960938,7.99296875 C15.8960938,7.99296875 10.1007813,13.309375 10.1007813,13.309375 C10.1007813,13.309375 7.70625,10.9625 7.70625,10.9625 C7.65859375,10.8664063 7.51484375,10.81875 7.37109375,10.81875 C7.37109375,10.81875 7.37109375,10.81875 7.37109375,10.81875 C7.275,10.81875 7.1796875,10.8664063 7.0359375,10.9148437 C7.0359375,10.9148437 7.0359375,10.9148437 7.0359375,10.9148437 C7.0359375,10.9148437 1.959375,15.5601562 1.959375,15.5601562 C1.959375,15.5601562 1.959375,2.48515625 1.959375,2.48515625 C1.959375,2.15 2.15078125,1.95859375 2.4859375,1.95859375 C2.4859375,1.95859375 2.4859375,1.95859375 2.4859375,1.95859375 C2.4859375,1.95859375 22.0742188,1.95859375 22.0742188,1.95859375 C22.409375,1.95859375 22.6007813,2.15 22.6007813,2.48515625 C22.6007813,2.48515625 22.6007813,2.48515625 22.6007813,2.48515625 Z M7.8015625,5.50234375 C7.41875,5.11953125 6.93984375,4.92734375 6.4125,4.92734375 C5.88515625,4.92734375 5.40703125,5.11875 5.0234375,5.50234375 C4.640625,5.88515625 4.4484375,6.3640625 4.4484375,6.89140625 C4.4484375,7.41875 4.63984375,7.896875 5.0234375,8.28046875 C5.40625,8.66328125 5.88515625,8.85546875 6.4125,8.85546875 C6.93984375,8.85546875 7.41796875,8.6640625 7.8015625,8.28046875 C8.184375,7.89765625 8.3765625,7.41875 8.3765625,6.89140625 C8.3765625,6.3640625 8.18515625,5.8859375 7.8015625,5.50234375 Z M6.4125,7.84921875 C6.4125,7.84921875 6.4125,7.84921875 6.4125,7.84921875 C6.125,7.84921875 5.8859375,7.753125 5.69375,7.56171875 C5.5015625,7.3703125 5.40625,7.13046875 5.40625,6.89140625 C5.40625,6.89140625 5.40625,6.89140625 5.40625,6.89140625 C5.40625,6.60390625 5.50234375,6.36484375 5.69375,6.17265625 C5.88515625,5.98046875 6.125,5.88515625 6.4125,5.88515625 C6.4125,5.88515625 6.4125,5.88515625 6.4125,5.88515625 C6.6515625,5.88515625 6.89140625,5.98125 7.0828125,6.17265625 C7.27421875,6.3640625 7.3703125,6.60390625 7.3703125,6.89140625 C7.3703125,6.89140625 7.3703125,6.89140625 7.3703125,6.89140625 C7.3703125,7.13046875 7.27421875,7.3703125 7.0828125,7.56171875 C6.89140625,7.753125 6.6515625,7.84921875 6.4125,7.84921875 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'send';\n\nexport const Component = () => (\n  <path d='M21.2109375,12.3929688 C21.2109375,12.3929688 2.5328125,3.77265625 2.5328125,3.77265625 C2.5328125,3.77265625 4.92734375,12.4414063 4.92734375,12.4414063 C4.92734375,12.4414063 2.5328125,21.0140625 2.5328125,21.0140625 C2.5328125,21.0140625 21.2109375,12.39375 21.2109375,12.39375 L21.2109375,12.3929688 Z M1,22.7851562 C1,22.7851562 3.92109375,12.440625 3.92109375,12.440625 C3.92109375,12.440625 1,2 1,2 C1,2 23.5578125,12.3929687 23.5578125,12.3929687 C23.5578125,12.3929687 1,22.7859375 1,22.7859375 L1,22.7851562 Z M4.92734375,11.9140625 C4.92734375,11.9140625 4.92734375,12.871875 4.92734375,12.871875 C4.92734375,12.871875 15.7507813,12.871875 15.7507813,12.871875 C15.7507813,12.871875 15.7507813,11.9140625 15.7507813,11.9140625 C15.7507813,11.9140625 4.92734375,11.9140625 4.92734375,11.9140625 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'table';\n\nexport const Component = () => (\n  <path d='M21,1.5 L21,20.5 L1,20.5 L1,1.5 L21,1.5 Z M20,15.25 L14.5,15.25 L14.5,19.5 L20,19.5 L20,15.25 Z M7.5,15.25 L2,15.25 L2,19.5 L7.5,19.5 L7.5,15.25 Z M13.75,15.25 L8.25,15.25 L8.25,19.5 L13.75,19.5 L13.75,15.25 Z M20,10.25 L14.5,10.25 L14.5,14.5 L20,14.5 L20,10.25 Z M7.5,10.25 L2,10.25 L2,14.5 L7.5,14.5 L7.5,10.25 Z M13.75,10.25 L8.25,10.25 L8.25,14.5 L13.75,14.5 L13.75,10.25 Z M20,5.25 L14.5,5.25 L14.5,9.5 L20,9.5 L20,5.25 Z M7.5,5.25 L2,5.25 L2,9.5 L7.5,9.5 L7.5,5.25 Z M13.75,5.25 L8.25,5.25 L8.25,9.5 L13.75,9.5 L13.75,5.25 Z' />\n);\n\nexport const viewBox = '0 0 22 22';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'thumbs-up-solid';\n\nexport const Component = () => (\n  <path d='M21.59375,8.5671875 C21.59375,8.5671875 21.59375,8.5671875 21.59375,8.5671875 C21.5460937,8.5671875 21.45,8.5671875 21.3546875,8.5671875 C21.2109375,8.61484375 21.1632812,8.61484375 21.115625,8.61484375 C21.115625,8.61484375 21.115625,8.61484375 21.115625,8.61484375 C20.3492187,8.80625 19.4390625,8.99765625 18.4335937,9.14140625 C17.3796875,9.28515625 16.5179687,9.42890625 15.8953125,9.4765625 C15.8953125,9.4765625 15.8953125,9.4765625 15.8953125,9.4765625 C15.8953125,9.4765625 14.9375,9.6203125 14.9375,9.6203125 C14.9375,9.6203125 14.7460937,9.6203125 14.7460937,9.6203125 C14.4585938,9.6203125 14.2195312,9.52421875 14.0273437,9.3328125 C13.8351562,9.14140625 13.7398437,8.9015625 13.7398437,8.6625 C13.7398437,8.6625 13.7398437,8.6625 13.7398437,8.6625 C13.7398437,8.6625 13.7398437,3.059375 13.7398437,3.059375 C13.7398437,2.5328125 13.5484375,2.05390625 13.1648437,1.62265625 C12.7335937,1.19140625 12.2546875,1 11.728125,1 C11.728125,1 11.728125,1 11.728125,1 C11.728125,1 11.6804687,1 11.6804687,1 C11.1539063,1 10.7226562,1.14375 10.3398438,1.47890625 C9.95703125,1.8140625 9.7171875,2.2453125 9.62109375,2.72421875 C9.62109375,2.72421875 9.62109375,2.72421875 9.62109375,2.72421875 C9.33359375,4.3046875 8.80703125,5.88515625 8.08828125,7.465625 C7.321875,9.09375 6.5078125,10.1476563 5.69375,10.6265625 C5.69375,10.6265625 5.69375,10.6265625 5.69375,10.6265625 C5.4546875,10.1 5.0234375,9.86015625 4.4484375,9.86015625 C4.4484375,9.86015625 4.4484375,9.86015625 4.4484375,9.86015625 C4.4484375,9.86015625 2.48515625,9.86015625 2.48515625,9.86015625 C2.05390625,9.86015625 1.71875,10.0039062 1.43125,10.2914062 C1.14375,10.5789062 1,10.9140625 1,11.296875 C1,11.296875 1,11.296875 1,11.296875 C1,11.296875 1,23.078125 1,23.078125 C1,23.509375 1.14375,23.8445313 1.43125,24.1320313 C1.71875,24.4195312 2.05390625,24.5632812 2.48515625,24.5632812 C2.48515625,24.5632812 2.48515625,24.5632812 2.48515625,24.5632812 C2.48515625,24.5632812 4.4484375,24.5632812 4.4484375,24.5632812 C4.8796875,24.5632812 5.21484375,24.4195312 5.50234375,24.1320313 C5.74140625,23.8445313 5.88515625,23.509375 5.88515625,23.078125 C5.88515625,23.078125 5.88515625,23.078125 5.88515625,23.078125 C5.88515625,23.078125 5.88515625,22.1203125 5.88515625,22.1203125 C5.88515625,22.1203125 8.8546875,23.5570312 8.8546875,23.5570312 C8.8546875,23.5570312 19.3914062,23.5570312 19.3914062,23.5570312 C20.0617188,23.5570312 20.684375,23.365625 21.2109375,22.934375 C21.7375,22.503125 22.1210938,21.9765625 22.2648438,21.30625 C22.2648438,21.30625 22.2648438,21.30625 22.2648438,21.30625 C23.0789062,17.8578125 23.4625,14.3140625 23.5101563,10.6742187 C23.5101563,10.6742187 23.5101563,10.6742187 23.5101563,10.6742187 C23.5101563,10.6742187 23.5578125,10.578125 23.5578125,10.578125 C23.5578125,10.0515625 23.3664063,9.57265625 22.9828125,9.14140625 C22.6,8.75859375 22.1210938,8.56640625 21.59375,8.56640625 L21.59375,8.5671875 Z M4.9265625,11.296875 C4.9265625,11.296875 4.9265625,16.2773438 4.9265625,16.2773438 C4.9265625,16.2773438 4.87890625,21.6414063 4.87890625,21.6414063 C4.87890625,21.6414063 4.9265625,21.6414063 4.9265625,21.6414063 C4.9265625,21.6414063 4.9265625,23.078125 4.9265625,23.078125 C4.9265625,23.4132813 4.7828125,23.5570313 4.44765625,23.5570313 C4.44765625,23.5570313 4.44765625,23.5570313 4.44765625,23.5570313 C4.44765625,23.5570313 2.484375,23.5570313 2.484375,23.5570313 C2.14921875,23.5570313 1.9578125,23.4132813 1.9578125,23.078125 C1.9578125,23.078125 1.9578125,23.078125 1.9578125,23.078125 C1.9578125,23.078125 1.9578125,11.296875 1.9578125,11.296875 C1.9578125,10.9617187 2.14921875,10.8179688 2.484375,10.8179688 C2.484375,10.8179688 2.484375,10.8179688 2.484375,10.8179688 C2.484375,10.8179688 4.44765625,10.8179688 4.44765625,10.8179688 C4.7828125,10.8179688 4.9265625,10.9617187 4.9265625,11.296875 C4.9265625,11.296875 4.9265625,11.296875 4.9265625,11.296875 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'thumbs-up';\n\nexport const Component = () => (\n  <path d='M21.59375,8.5671875 C21.59375,8.5671875 21.59375,8.5671875 21.59375,8.5671875 C21.4023438,8.5671875 21.2585938,8.5671875 21.1625,8.61484375 C21.1625,8.61484375 21.1625,8.61484375 21.1625,8.61484375 C21.1625,8.61484375 14.9367187,9.6203125 14.9367187,9.6203125 C14.9367187,9.6203125 14.7453125,9.6203125 14.7453125,9.6203125 C14.50625,9.6203125 14.2664062,9.52421875 14.075,9.3328125 C13.8835937,9.14140625 13.7875,8.9015625 13.7875,8.6625 C13.7875,8.6625 13.7875,8.6625 13.7875,8.6625 C13.7875,8.6625 13.7875,3.059375 13.7875,3.059375 C13.7875,2.484375 13.5960937,2.00546875 13.2125,1.575 C12.78125,1.1921875 12.3023438,1 11.728125,1 C11.728125,1 11.728125,1 11.728125,1 C11.728125,1 11.728125,1 11.728125,1 C11.2015625,1 10.7703125,1.14375 10.3875,1.47890625 C10.0046875,1.8140625 9.76484375,2.19765625 9.66875,2.6765625 C9.66875,2.6765625 9.66875,2.6765625 9.66875,2.6765625 C9.33359375,4.25703125 8.80703125,5.88515625 8.08828125,7.465625 C7.321875,9.09375 6.55546875,10.1476562 5.74140625,10.5789062 C5.74140625,10.5789062 5.74140625,10.5789062 5.74140625,10.5789062 C5.45390625,10.0523437 5.02265625,9.8125 4.4484375,9.8125 C4.4484375,9.8125 4.4484375,9.8125 4.4484375,9.8125 C4.4484375,9.8125 2.48515625,9.8125 2.48515625,9.8125 C2.05390625,9.8125 1.71875,9.95625 1.43125,10.24375 C1.14375,10.53125 1,10.8664062 1,11.2976562 C1,11.2976562 1,11.2976562 1,11.2976562 C1,11.2976562 1,23.0789062 1,23.0789062 C1,23.5101562 1.14375,23.8453125 1.43125,24.084375 C1.71875,24.371875 2.05390625,24.515625 2.48515625,24.515625 C2.48515625,24.515625 2.48515625,24.515625 2.48515625,24.515625 C2.48515625,24.515625 4.4484375,24.515625 4.4484375,24.515625 C4.8796875,24.515625 5.21484375,24.371875 5.50234375,24.084375 C5.78984375,23.8453125 5.93359375,23.509375 5.93359375,23.0789062 C5.93359375,23.0789062 5.93359375,23.0789062 5.93359375,23.0789062 C5.93359375,23.0789062 5.93359375,22.0734375 5.93359375,22.0734375 C5.93359375,22.0734375 8.8546875,23.5578125 8.8546875,23.5578125 C8.8546875,23.5578125 19.4390625,23.5578125 19.4390625,23.5578125 C20.109375,23.5578125 20.7320312,23.3664062 21.2585937,22.9351562 C21.7851562,22.5039062 22.16875,21.9773437 22.3125,21.3070312 C22.3125,21.3070312 22.3125,21.3070312 22.3125,21.3070312 C23.03125,18.05 23.4617187,14.50625 23.5578125,10.675 C23.5578125,10.675 23.5578125,10.675 23.5578125,10.675 C23.5578125,10.675 23.5578125,10.53125 23.5578125,10.53125 C23.5578125,10.0046875 23.3664063,9.52578125 22.9828125,9.1421875 C22.5992188,8.75859375 22.1210938,8.5671875 21.59375,8.5671875 Z M4.92734375,11.296875 C4.92734375,11.296875 4.92734375,21.59375 4.92734375,21.59375 C4.92734375,21.59375 4.92734375,23.078125 4.92734375,23.078125 C4.92734375,23.4132812 4.78359375,23.5570313 4.4484375,23.5570313 C4.4484375,23.5570313 4.4484375,23.5570313 4.4484375,23.5570313 C4.4484375,23.5570313 2.48515625,23.5570313 2.48515625,23.5570313 C2.15,23.5570313 2.00625,23.4132812 2.00625,23.078125 C2.00625,23.078125 2.00625,23.078125 2.00625,23.078125 C2.00625,23.078125 2.00625,11.296875 2.00625,11.296875 C2.00625,10.9617187 2.15,10.8179688 2.48515625,10.8179688 C2.48515625,10.8179688 2.48515625,10.8179688 2.48515625,10.8179688 C2.48515625,10.8179688 4.4484375,10.8179688 4.4484375,10.8179688 C4.78359375,10.8179688 4.92734375,10.9617187 4.92734375,11.296875 C4.92734375,11.296875 4.92734375,11.296875 4.92734375,11.296875 Z M21.2585938,21.4023438 C21.2585938,21.4023438 21.3546875,21.0671875 21.3546875,21.0671875 C21.2109375,21.4984375 20.971875,21.88125 20.6359375,22.16875 C20.3,22.45625 19.8695313,22.6 19.4382813,22.6 C19.4382813,22.6 19.4382813,22.6 19.4382813,22.6 C19.4382813,22.6 9.09375,22.6 9.09375,22.6 C9.09375,22.6 5.9328125,21.0195313 5.9328125,21.0195313 C5.9328125,21.0195313 5.9328125,11.584375 5.9328125,11.584375 C7.034375,11.1054688 8.03984375,9.95625 8.85390625,8.1359375 C9.66796875,6.3640625 10.290625,4.5921875 10.6257813,2.86796875 C10.6257813,2.86796875 10.6257813,2.86796875 10.6257813,2.86796875 C10.721875,2.2453125 11.1046875,1.9578125 11.7273438,1.9578125 C11.7273438,1.9578125 11.7273438,1.9578125 11.7273438,1.9578125 C11.7273438,1.9578125 11.7273438,1.9578125 11.7273438,1.9578125 C12.0148438,1.9578125 12.2539062,2.05390625 12.49375,2.2453125 C12.6851563,2.48515625 12.78125,2.72421875 12.78125,3.059375 C12.78125,3.059375 12.78125,3.059375 12.78125,3.059375 C12.78125,3.059375 12.78125,8.61484375 12.78125,8.61484375 C12.78125,9.14140625 12.9726563,9.6203125 13.35625,10.0039063 C13.7398438,10.3875 14.2179688,10.5789063 14.7453125,10.5789063 C14.7453125,10.5789063 14.7453125,10.5789063 14.7453125,10.5789063 C14.7453125,10.5789063 15.0804687,10.5789063 15.0804687,10.5789063 C17.7625,10.24375 19.8695312,9.90859375 21.4023438,9.5734375 C21.4023438,9.5734375 21.4023438,9.5734375 21.4023438,9.5734375 C21.4023438,9.5734375 21.4984375,9.5734375 21.4984375,9.5734375 C21.4984375,9.5734375 21.5945312,9.52578125 21.5945312,9.52578125 C21.8335937,9.52578125 22.0734375,9.621875 22.3132812,9.8609375 C22.3132812,9.8609375 22.3132812,9.8609375 22.3132812,9.8609375 C22.5046875,10.0523438 22.6007813,10.2921875 22.6007813,10.53125 C22.6007813,10.53125 22.6007813,10.53125 22.6007813,10.53125 C22.6007813,10.53125 22.6007813,10.5789063 22.6007813,10.5789063 C22.5046875,14.4101563 22.0742188,18.0023438 21.2601563,21.4023438 C21.2601563,21.4023438 21.2601563,21.4023438 21.2601563,21.4023438 L21.2585938,21.4023438 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","// This file is autogenerated. Any changes will be overwritten.\nexport const name = 'unindent';\n\nexport const Component = () => (\n  <path d='M1,2.5265625 C1,2.5265625 1,2.5265625 1,2.5265625 C1,2.19140625 1.19140625,2 1.5265625,2 C1.5265625,2 1.5265625,2 1.5265625,2 C1.5265625,2 24.084375,2 24.084375,2 C24.4195313,2 24.5632812,2.19140625 24.5632812,2.5265625 C24.5632812,2.5265625 24.5632812,2.5265625 24.5632812,2.5265625 C24.5632812,2.86171875 24.4195313,3.00546875 24.084375,3.00546875 C24.084375,3.00546875 24.084375,3.00546875 24.084375,3.00546875 C24.084375,3.00546875 1.5265625,3.00546875 1.5265625,3.00546875 C1.19140625,3.00546875 1,2.86171875 1,2.5265625 Z M24.084375,6.9328125 C24.084375,6.9328125 24.084375,6.9328125 24.084375,6.9328125 C24.084375,6.9328125 13.2609375,6.9328125 13.2609375,6.9328125 C12.9257812,6.9328125 12.7820312,7.0765625 12.7820312,7.41171875 C12.7820312,7.746875 12.9257812,7.890625 13.2609375,7.890625 C13.2609375,7.890625 13.2609375,7.890625 13.2609375,7.890625 C13.2609375,7.890625 24.084375,7.890625 24.084375,7.890625 C24.4195312,7.890625 24.5632812,7.746875 24.5632812,7.41171875 C24.5632812,7.0765625 24.4195312,6.9328125 24.084375,6.9328125 Z M24.084375,11.8179688 C24.084375,11.8179688 24.084375,11.8179688 24.084375,11.8179688 C24.084375,11.8179688 13.2609375,11.8179688 13.2609375,11.8179688 C12.9257812,11.8179688 12.7820312,11.9617187 12.7820312,12.296875 C12.7820312,12.296875 12.7820312,12.296875 12.7820312,12.296875 C12.7820312,12.6320313 12.9257812,12.8234375 13.2609375,12.8234375 C13.2609375,12.8234375 13.2609375,12.8234375 13.2609375,12.8234375 C13.2609375,12.8234375 24.084375,12.8234375 24.084375,12.8234375 C24.4195312,12.8234375 24.5632812,12.6320313 24.5632812,12.296875 C24.5632812,12.296875 24.5632812,12.296875 24.5632812,12.296875 C24.5632812,11.9617187 24.4195312,11.8179688 24.084375,11.8179688 Z M24.084375,16.7507812 C24.084375,16.7507812 24.084375,16.7507812 24.084375,16.7507812 C24.084375,16.7507812 13.2609375,16.7507812 13.2609375,16.7507812 C12.9257812,16.7507812 12.7820312,16.8945312 12.7820312,17.2296875 C12.7820312,17.5648437 12.9257812,17.7085937 13.2609375,17.7085937 C13.2609375,17.7085937 13.2609375,17.7085937 13.2609375,17.7085937 C13.2609375,17.7085937 24.084375,17.7085937 24.084375,17.7085937 C24.4195312,17.7085937 24.5632812,17.5648437 24.5632812,17.2296875 C24.5632812,16.8945312 24.4195312,16.7507812 24.084375,16.7507812 Z M24.084375,21.6359375 C24.084375,21.6359375 24.084375,21.6359375 24.084375,21.6359375 C24.084375,21.6359375 1.5265625,21.6359375 1.5265625,21.6359375 C1.19140625,21.6359375 1,21.7796875 1,22.1148437 C1,22.1148437 1,22.1148437 1,22.1148437 C1,22.45 1.19140625,22.6414062 1.5265625,22.6414062 C1.5265625,22.6414062 1.5265625,22.6414062 1.5265625,22.6414062 C1.5265625,22.6414062 24.084375,22.6414062 24.084375,22.6414062 C24.4195313,22.6414062 24.5632813,22.45 24.5632813,22.1148437 C24.5632813,22.1148437 24.5632813,22.1148437 24.5632813,22.1148437 C24.5632813,21.7796875 24.4195313,21.6359375 24.084375,21.6359375 Z M1.14375,12.6804687 C1.14375,12.6804687 4.11328125,15.6015625 4.11328125,15.6015625 C4.209375,15.6976563 4.3046875,15.7453125 4.4484375,15.7453125 C4.4484375,15.7453125 4.4484375,15.7453125 4.4484375,15.7453125 C4.78359375,15.7453125 4.975,15.6015625 4.975,15.2664063 C4.975,15.2664063 4.975,15.2664063 4.975,15.2664063 C4.975,15.1703125 4.92734375,15.075 4.78359375,14.93125 C4.78359375,14.93125 4.78359375,14.93125 4.78359375,14.93125 C4.78359375,14.93125 2.6765625,12.8242188 2.6765625,12.8242188 C2.6765625,12.8242188 9.86015625,12.8242188 9.86015625,12.8242188 C10.1953125,12.8242188 10.3390625,12.6328125 10.3390625,12.2976563 C10.3390625,12.2976563 10.3390625,12.2976563 10.3390625,12.2976563 C10.3390625,11.9625 10.1953125,11.81875 9.86015625,11.81875 C9.86015625,11.81875 9.86015625,11.81875 9.86015625,11.81875 C9.86015625,11.81875 2.6765625,11.81875 2.6765625,11.81875 C2.6765625,11.81875 4.78359375,9.71171875 4.78359375,9.71171875 C4.8796875,9.615625 4.92734375,9.5203125 4.92734375,9.3765625 C4.92734375,9.3765625 4.92734375,9.3765625 4.92734375,9.3765625 C4.92734375,9.04140625 4.78359375,8.89765625 4.4484375,8.89765625 C4.4484375,8.89765625 4.4484375,8.89765625 4.4484375,8.89765625 C4.3046875,8.89765625 4.209375,8.9453125 4.11328125,9.04140625 C4.11328125,9.04140625 4.11328125,9.04140625 4.11328125,9.04140625 C4.11328125,9.04140625 1.14375,11.9625 1.14375,11.9625 C1.04765625,12.1539063 1,12.25 1,12.2976563 C1,12.2976563 1,12.2976563 1,12.2976563 C1,12.3453125 1.04765625,12.4890625 1.14375,12.6804688 C1.14375,12.6804688 1.14375,12.6804688 1.14375,12.6804688 L1.14375,12.6804687 Z' />\n);\n\nexport const viewBox = '0 0 25 25';\n","import { useEffect, useCallback, RefObject } from 'react';\n\nimport { documentIsAvailable } from '../utils';\n\nconst focusable = `\n  a[href],\n  button:enabled,\n  input[type='checkbox']:enabled,\n  input[type='radio']:enabled\n`;\n\n/**\n * @example useArrows(ref, { cycle, selector });\n * @param ref - A reference to the element that will be navigated through. [React RefObject](https://reactjs.org/docs/refs-and-the-dom.html)\n */\nconst useArrows = (\n  ref: RefObject<HTMLElement>,\n  {\n    /** If true, the down or up arrow key will navigate to the first or last element if the element currently focused is the last or first index of the selected elements. */\n    cycle = true,\n    /** A query selector that will determine which elements to cycle through with the arrow keys. The selector will be used in conjunction with [querySelectorAll](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll#selectors). */\n    selector = focusable,\n    /** Which keys are used to navigate through the list */\n    dir = 'up-down'\n  }: { cycle?: boolean; selector?: string; dir?: 'up-down' | 'left-right' } = {}\n) => {\n  const [NextKey, PrevKey] =\n    dir === 'up-down' ? ['ArrowDown', 'ArrowUp'] : ['ArrowRight', 'ArrowLeft'];\n\n  const setTabIndexes = useCallback(\n    (el: HTMLElement) => {\n      // don't set tabindex -1 for first element, or an element with a checked input inside of it to be able to focus it\n      Array.from(el.querySelectorAll(selector))\n        .slice(1)\n        .forEach(item => {\n          if (item instanceof HTMLElement) {\n            const checked = (item as HTMLInputElement).checked;\n            if (!checked) item.tabIndex = -1;\n          }\n        });\n    },\n    [selector]\n  );\n\n  const listener = useCallback(\n    (e: KeyboardEvent) => {\n      if (['Home', 'End', NextKey, PrevKey].includes(e.key)) e.preventDefault();\n\n      if (!documentIsAvailable) return;\n\n      const el = ref.current;\n      if (!el) return;\n\n      const items = Array.from(el.querySelectorAll(selector)).filter(\n        (item): item is HTMLElement => item instanceof HTMLElement\n      );\n\n      if (!items.length) return;\n\n      const rootNode = el.getRootNode();\n\n      if (!(rootNode instanceof Document) && !(rootNode instanceof ShadowRoot)) return;\n\n      const focusIdx = items.indexOf(rootNode.activeElement as HTMLElement);\n      const lastIdx = items.length - 1;\n      let newFocusIdx;\n\n      if (e.key === 'Home' || (e.key === NextKey && focusIdx === -1)) {\n        newFocusIdx = 0;\n      } else if (e.key === 'End' || (e.key === PrevKey && focusIdx === -1)) {\n        newFocusIdx = lastIdx;\n      } else if (e.key === 'Enter') {\n        setTabIndexes(el);\n        return;\n      } else if (e.key === NextKey) {\n        if (focusIdx === lastIdx) {\n          if (!cycle) return;\n          newFocusIdx = 0;\n        } else {\n          newFocusIdx = focusIdx + 1;\n        }\n      } else if (e.key === PrevKey) {\n        if (focusIdx === 0) {\n          if (!cycle) return;\n          newFocusIdx = lastIdx;\n        } else {\n          newFocusIdx = focusIdx - 1;\n        }\n      } else {\n        return;\n      }\n\n      items[newFocusIdx].focus();\n    },\n    [ref.current, cycle, selector]\n  );\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n\n    setTabIndexes(el);\n    el.addEventListener('keydown', listener);\n\n    return () => {\n      el.removeEventListener('keydown', listener);\n    };\n  }, [ref.current, selector, listener]);\n};\n\nexport default useArrows;\n","import { useRef, useState, RefObject } from 'react';\n\nimport { debounce } from '../utils';\n\n/**\n * @example const [ref, resizeFunction] = useAutoResize();\n * maxHeight should be provided in pixels without units\n * minHeight should be provided in pixels without units\n * @returns * ref:: A reference for the element that the resize functionality should be applied to. [React RefObject](https://reactjs.org/docs/refs-and-the-dom.html)\n *          * resizeFunction:: The function to call to automatically resize the element.\n * element refers to auto resizable element\n */\nconst useAutoResize = <T extends HTMLElement = HTMLElement>(\n  maxHeight?: number,\n  minHeightProp?: number\n): [RefObject<T>, () => void] => {\n  const element = useRef<T>(null);\n\n  const [minHeight, setMinHeight] = useState(minHeightProp || 0);\n\n  const autoResize = () => {\n    if (element.current) {\n      let newMinHeight = minHeight;\n      if (!minHeight) {\n        newMinHeight = element.current.scrollHeight;\n        setMinHeight(newMinHeight);\n      }\n      // Reset the heights to the base height so there is an overflow / or none to calculate the new height\n      element.current.style.height = `${newMinHeight}px`;\n\n      if (maxHeight) {\n        element.current.style.overflowY =\n          element.current.scrollHeight > maxHeight ? 'auto' : 'hidden';\n        element.current.style.height = `${Math.min(element.current.scrollHeight, maxHeight)}px`;\n      } else {\n        element.current.style.height = `${element.current.scrollHeight}px`;\n      }\n    }\n  };\n\n  const debouncedAutoResize = debounce(autoResize, 100);\n\n  return [element, debouncedAutoResize];\n};\n\nexport default useAutoResize;\n","import { createContext, Dispatch, SetStateAction } from 'react';\n\nimport { InteractionRenderers, MDMap } from '@pega/cosmos-react-rte';\nimport { MenuItemProps } from '@pega/cosmos-react-core';\n\nexport interface FeedContextValue {\n  searchTypes?: string[];\n  onSearch?: (e: { type: 'mention' | 'tag'; search: string; mentionType: string }) => void;\n  searchResults?: MenuItemProps[];\n  showSearchResults?: boolean;\n  setShowSearchResults?: Dispatch<SetStateAction<boolean>>;\n  onMentionClick?: (e: { id: string; text: string; type: string }) => JSX.Element | undefined;\n  onTagClick?: (tag: string) => void;\n  interactionRenderers?: InteractionRenderers[];\n  markdownMap?: MDMap;\n  userInfo: {\n    username: string;\n    fullname: string;\n    avatarSrc?: string;\n    meta?: string[];\n  };\n  announce: (announcement: string) => void;\n}\n\nexport const FeedContext = createContext<FeedContextValue>({\n  searchTypes: [],\n  userInfo: { username: '', fullname: '' },\n  announce: () => {}\n});\n\nexport interface FeedReplyContextValue {\n  onShowReplyInput?: () => void;\n}\n\nexport const FeedReplyContext = createContext<FeedReplyContextValue>({});\n","import { ChangeEvent, forwardRef, FunctionComponent, PropsWithoutRef, Ref } from 'react';\nimport styled, { css } from 'styled-components';\nimport { hideVisually, readableColor } from 'polished';\n\nimport type { BaseProps, ForwardProps, NoChildrenProp } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport { FormControlProps } from '../FormControl';\nimport { useDirection, useUID } from '../../hooks';\nimport Flex from '../Flex';\nimport { getHoverColors } from '../../styles';\nimport Icon, { StyledIcon, registerIcon } from '../Icon';\nimport * as checkIcon from '../Icon/icons/check.icon';\nimport { tryCatch } from '../../utils';\n\nregisterIcon(checkIcon);\n\nexport interface SwitchProps extends BaseProps, NoChildrenProp {\n  /**\n   * Sets DOM id for the control and associates label element via 'for' attribute.\n   * If an id is not pass, a random id will be generated for any render.\n   */\n  id?: FormControlProps['id'];\n  /** Pass a string or a fragment with an Icon and string. */\n  label?: FormControlProps['label'];\n  /**\n   * Disables the control.\n   * @default false\n   */\n  disabled?: FormControlProps['disabled'];\n  /**\n   * Sets checked prop via onChange.\n   * @default false\n   */\n  on?: boolean;\n  /** Callback that is triggered when the Switch is toggled. */\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  /** Ref for the input element. */\n  ref?: Ref<HTMLInputElement>;\n}\n\nexport const SwitchLabel = styled.label(\n  ({\n    theme: {\n      base,\n      components: {\n        switch: { width, height, 'touch-width': touchWidth, 'touch-height': touchHeight, off }\n      }\n    }\n  }) => {\n    return css`\n      position: relative;\n      cursor: pointer;\n      padding-inline-end: calc(${width} + 0.5rem);\n      height: ${height};\n      width: 100%;\n\n      @media (pointer: coarse) {\n        padding-inline-end: calc(${touchWidth} + 0.5rem);\n        height: ${touchHeight};\n      }\n\n      /** Checkmark */\n      & > ${StyledIcon} {\n        position: absolute;\n        inset-inline-end: calc(0.5 * ${width} + 0.25rem);\n        height: calc(0.5 * ${height});\n        width: calc(0.5 * ${height});\n\n        @media (pointer: coarse) {\n          inset-inline-end: calc(0.5 * ${touchWidth} + 0.25rem);\n          height: calc(0.5 * ${touchHeight});\n          width: calc(0.5 * ${touchHeight});\n        }\n      }\n\n      /** Track */\n      &::before {\n        position: absolute;\n        content: '';\n        inset-inline-end: 0;\n        width: ${width};\n        height: ${height};\n        background-color: ${off.color};\n        transition: background-color calc(0.5 * ${base.animation.speed})\n          ${base.animation.timing.ease};\n        border-radius: calc(9999 * ${base['border-radius']});\n\n        @media (pointer: coarse) {\n          width: ${touchWidth};\n          height: ${touchHeight};\n        }\n      }\n\n      /** Switch */\n      &::after {\n        position: absolute;\n        content: '';\n        inset-inline-end: calc(${width} - ${height} + 0.0625rem);\n        height: calc(${height} - 0.125rem);\n        width: calc(${height} - 0.125rem);\n        background-color: ${base.palette['primary-background']};\n        transition: transform calc(0.5 * ${base.animation.speed}) ${base.animation.timing.ease};\n        border-radius: calc(9999 * ${base['border-radius']});\n\n        @media (pointer: coarse) {\n          inset-inline-end: calc(${touchWidth} - ${touchHeight} + 0.0625rem);\n          height: calc(${touchHeight} - 0.125rem);\n          width: calc(${touchHeight} - 0.125rem);\n        }\n      }\n    `;\n  }\n);\n\nSwitchLabel.defaultProps = defaultThemeProp;\n\nexport const SwitchInput = styled.input(\n  ({\n    theme: {\n      base,\n      components: {\n        'form-control': {\n          ':focus': { 'box-shadow': shadow }\n        },\n        switch: { height, width, 'touch-height': touchHeight, 'touch-width': touchWidth, on, off }\n      }\n    }\n  }) => {\n    const { ltr } = useDirection();\n\n    const checkmarkColor = tryCatch(() => readableColor(on.color));\n\n    const onHoverColors = getHoverColors(on.color);\n    const offHoverColors = getHoverColors(off.color);\n\n    return css`\n      ${hideVisually}\n\n      & + ${SwitchLabel} {\n        min-height: ${base['hit-area']['mouse-min']};\n        @media (pointer: coarse) {\n          min-height: ${base['hit-area']['finger-min']};\n        }\n      }\n\n      & + ${SwitchLabel} > ${StyledIcon} {\n        color: ${checkmarkColor};\n      }\n\n      &:checked + ${SwitchLabel}::before {\n        background-color: ${on.color};\n      }\n\n      &:checked + ${SwitchLabel}::after {\n        transform: translateX(calc((${width} - ${height}) * ${ltr ? '1' : '-1'}));\n\n        @media (pointer: coarse) {\n          transform: translateX(calc((${touchWidth} - ${touchHeight}) * ${ltr ? '1' : '-1'}));\n        }\n      }\n\n      &:hover + ${SwitchLabel} > ${StyledIcon} {\n        color: ${onHoverColors.foreground};\n      }\n\n      &:hover:checked + ${SwitchLabel}::before {\n        background-color: ${onHoverColors.background};\n      }\n\n      &:hover + ${SwitchLabel}::before {\n        background-color: ${offHoverColors.background};\n      }\n\n      &:focus + ${SwitchLabel}::before {\n        box-shadow: ${shadow};\n      }\n\n      &:disabled + ${SwitchLabel} {\n        opacity: ${base['disabled-opacity']};\n      }\n    `;\n  }\n);\n\nSwitchInput.defaultProps = defaultThemeProp;\n\nexport const StyledSwitch = styled.div``;\n\nconst Switch: FunctionComponent<SwitchProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<SwitchProps>, ref: SwitchProps['ref']) => {\n    const uid = useUID();\n    const { id = uid, label, disabled = false, on = false, onChange, ...restProps } = props;\n\n    return (\n      <StyledSwitch>\n        <SwitchInput\n          {...restProps}\n          id={id}\n          type='checkbox'\n          role='switch'\n          checked={on}\n          aria-checked={on}\n          disabled={disabled}\n          onChange={onChange}\n          ref={ref}\n        />\n        <Flex container={{ alignItems: 'center' }} as={SwitchLabel} htmlFor={id}>\n          {label}\n          {on && <Icon name='check' />}\n        </Flex>\n      </StyledSwitch>\n    );\n  }\n);\n\nexport default Switch;\n","import { hideVisually } from 'polished';\nimport { FC } from 'react';\nimport styled from 'styled-components';\n\ninterface FeedAnnouncerProps {\n  children: string;\n}\n\nconst StyledFeedAnnouncer = styled.span`\n  ${hideVisually}\n`;\n\nconst FeedAnnouncer: FC<FeedAnnouncerProps> = ({ children }) => {\n  return <StyledFeedAnnouncer aria-live='polite'>{children}</StyledFeedAnnouncer>;\n};\n\nexport default FeedAnnouncer;\n","import { ChangeEvent, ReactNode, FC, useState, useRef, useEffect, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Button,\n  defaultThemeProp,\n  Flex,\n  ForwardProps,\n  Grid,\n  Icon,\n  registerIcon,\n  Popover,\n  Switch,\n  Text,\n  Progress,\n  StyledProgressRing,\n  usePrevious,\n  NoChildrenProp\n} from '@pega/cosmos-react-core';\nimport { useArrows, useElement, useI18n, useOuterEvent } from '@pega/cosmos-react-core/lib/hooks';\nimport * as filterIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/filter.icon';\nimport * as filterOnIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/filter-on.icon';\n\nimport { FeedContext, FeedContextValue } from './Feed.context';\nimport { StyledFeedNewPost } from './FeedNewPost';\nimport { StyledFeedPost } from './FeedPost';\nimport FeedButton from './FeedButton';\nimport FeedAnnouncer from './FeedAnnouncer';\n\nregisterIcon(filterIcon, filterOnIcon);\n\nexport interface Filter {\n  /** Sets DOM id for the control and associates label element via 'for' attribute. */\n  id: string;\n  /** Pass a string or a fragment with an Icon and string for the filter label. */\n  label: ReactNode;\n  /**\n   * Disables the filter.\n   * @default false\n   */\n  disabled?: boolean;\n  /**\n   * Sets on prop via onFilterChange.\n   * @default false\n   */\n  on?: boolean;\n}\n\nexport interface FeedProps extends NoChildrenProp {\n  /** Title for the feed. */\n  title?: string;\n  /** Information related to the user of the Feed. */\n  userInfo: FeedContextValue['userInfo'];\n  /** A set of search types that can be used to determine which data set to conduct a mention search on. */\n  searchTypes?: FeedContextValue['searchTypes'];\n  /** A callback that runs when a decorator search has been run inside of the feed. */\n  onDecoratorSearch?: FeedContextValue['onSearch'];\n  /** Results that will be shown in a Popover for a mention or tag search. */\n  searchResults?: FeedContextValue['searchResults'];\n  /** A callback that is triggered when a mention is clicked. The callback sends back the id, text, and type of the mention. The callback should return a function component. */\n  onMentionClick?: FeedContextValue['onMentionClick'];\n  /** A callback that is triggered when a hashtag is clicked. The callback sends back the test of the tag. */\n  onTagClick?: FeedContextValue['onTagClick'];\n  /** A list of configuration objects used to render custom components within Feed posts and replies based off of a given regex pattern. */\n  interactionRenderers?: FeedContextValue['interactionRenderers'];\n  /** A mapping for various element types to render custom components for within posts. */\n  markdownMap?: FeedContextValue['markdownMap'];\n  /** A set of filters to apply to the Feed. */\n  filters?: Filter[];\n  /** A callback that runs when the filter is toggled. */\n  onFilterChange?: (filterId: string, on: boolean) => void;\n  /** A callback that is triggered when the bottom of the Feed is scrolled into view so that additional posts may be displayed. */\n  onLoadMore?: () => void;\n  /** A region to hold the new post component */\n  newPostRegion?: ReactNode;\n  /** A list of FeedPost components */\n  posts?: ReactNode[];\n}\n\nconst StyledFeed = styled.div(props => {\n  return css`\n    ${StyledFeedNewPost}:not(:last-child), ${StyledFeedPost}:not(:last-child) {\n      margin-bottom: calc(2 * ${props.theme.base.spacing});\n    }\n  `;\n});\n\nStyledFeed.defaultProps = defaultThemeProp;\n\nconst StyledHeading = styled.div(props => {\n  return css`\n    margin: ${props.theme.base.spacing} 0;\n  `;\n});\n\nStyledHeading.defaultProps = defaultThemeProp;\n\nconst StyledFilterMenu = styled.div(props => {\n  return css`\n    padding: calc(2 * ${props.theme.base.spacing});\n\n    fieldset {\n      border: none;\n    }\n  `;\n});\n\nStyledFilterMenu.defaultProps = defaultThemeProp;\n\nconst StyledFilterList = styled.ul`\n  list-style-type: none;\n  min-width: 10rem;\n`;\n\nStyledFilterList.defaultProps = defaultThemeProp;\n\nconst StyledLoadMore = styled.div<{ visible: boolean }>(({ theme, visible }) => {\n  return css`\n    ${visible &&\n    css`\n      margin-top: calc(2 * ${theme.base.spacing});\n    `}\n\n    ${StyledProgressRing} {\n      min-height: 0;\n      min-width: 0;\n\n      ${visible &&\n      css`\n        min-height: 2rem;\n        min-width: 2rem;\n      `}\n    }\n  `;\n});\n\nStyledLoadMore.defaultProps = defaultThemeProp;\n\nconst Feed: FC<ForwardProps & FeedProps> = (props: ForwardProps & FeedProps) => {\n  const {\n    variant,\n    children,\n    userInfo,\n    className,\n    title,\n    searchTypes,\n    onDecoratorSearch,\n    searchResults = [],\n    onMentionClick,\n    onTagClick,\n    mentionContent,\n    interactionRenderers = [],\n    markdownMap,\n    filters,\n    onFilterChange,\n    onLoadMore,\n    newPostRegion,\n    posts = [],\n    ...restProps\n  } = props;\n\n  const t = useI18n();\n  const [popoverEl, setPopoverEl] = useElement<HTMLElement>();\n  const [buttonEl, setButtonEl] = useElement<HTMLElement>();\n  const [loadMoreEl, setLoadMoreEl] = useElement<HTMLDivElement>();\n  const [mountPopover, setMountPopover] = useState(false);\n  const [feedOverflows, setFeedOverflows] = useState(false);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n  const feedOverflowsRef = useRef(false);\n  const prevPosts = usePrevious(posts);\n  const [announcementText, setAnnouncementText] = useState('');\n\n  const filterRef = useRef(null);\n  useArrows(filterRef);\n\n  useOuterEvent('mousedown', [popoverEl, buttonEl], () => {\n    setMountPopover(false);\n  });\n\n  const onKeydown = ({ key }: KeyboardEvent) => {\n    if (key === 'Escape') setMountPopover(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', onKeydown);\n    return () => {\n      document.removeEventListener('keydown', onKeydown);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (loadMoreEl) {\n      const intersectionObserver = new IntersectionObserver(entries => {\n        if (!entries[0].isIntersecting) {\n          setFeedOverflows(true);\n          feedOverflowsRef.current = true;\n        } else if (entries[0].isIntersecting && feedOverflowsRef.current) {\n          onLoadMore?.();\n        }\n      });\n\n      intersectionObserver.observe(loadMoreEl);\n\n      return () => {\n        intersectionObserver.disconnect();\n      };\n    }\n  }, [loadMoreEl, feedOverflowsRef.current]);\n\n  const announce = useCallback((announcement: string) => {\n    setAnnouncementText('');\n    setTimeout(() => {\n      setAnnouncementText(announcement);\n    }, 0);\n  }, []);\n\n  useEffect(() => {\n    if (prevPosts) {\n      const difference = prevPosts?.length - posts.length;\n      if (difference > 0) {\n        announce(t('feed_post_removed'));\n      }\n    }\n  }, [posts]);\n\n  return (\n    <FeedContext.Provider\n      value={{\n        searchTypes,\n        onSearch: e => {\n          if (onDecoratorSearch) onDecoratorSearch(e);\n        },\n        searchResults,\n        showSearchResults,\n        setShowSearchResults,\n        onMentionClick,\n        onTagClick,\n        interactionRenderers,\n        markdownMap,\n        userInfo,\n        announce\n      }}\n    >\n      <StyledFeed {...restProps}>\n        <FeedAnnouncer>{announcementText}</FeedAnnouncer>\n        {(title || (filters && !!filters.length)) && (\n          <Flex container={{ justify: 'between', alignItems: 'center' }} as={StyledHeading}>\n            {title ? <Text variant='h2'>{title}</Text> : <div />}\n            {filters && (\n              <Button\n                as={FeedButton}\n                ref={setButtonEl}\n                variant='simple'\n                icon\n                onClick={() => setMountPopover(curr => !curr)}\n                label={`${title || ''} ${t('filters')}`}\n                emphasized\n              >\n                <Icon\n                  name={\n                    filters?.map(filter => !!filter.on).reduce((acc, curr) => acc || curr)\n                      ? 'filter-on'\n                      : 'filter'\n                  }\n                />\n              </Button>\n            )}\n          </Flex>\n        )}\n        <Popover\n          show={!!filters && mountPopover}\n          ref={setPopoverEl}\n          target={buttonEl}\n          as={StyledFilterMenu}\n        >\n          <Flex container={{ direction: 'column', gap: 2 }} as='fieldset'>\n            <Text variant='h3' as='legend'>\n              {t('filters')}\n            </Text>\n            <Grid container={{ gap: 1 }} as={StyledFilterList} ref={filterRef}>\n              {filters?.map(filter => {\n                return (\n                  <li key={filter.id}>\n                    <Switch\n                      {...filter}\n                      onChange={(event: ChangeEvent<HTMLInputElement>) =>\n                        onFilterChange?.(event.target.id, event.target.checked)\n                      }\n                    />\n                  </li>\n                );\n              })}\n            </Grid>\n          </Flex>\n        </Popover>\n\n        <div>\n          {newPostRegion}\n          {posts}\n        </div>\n\n        {onLoadMore && (\n          <Flex\n            ref={setLoadMoreEl}\n            as={StyledLoadMore}\n            visible={feedOverflows}\n            container={{ justify: 'center' }}\n          >\n            <Progress placement='inline' />\n          </Flex>\n        )}\n      </StyledFeed>\n    </FeedContext.Provider>\n  );\n};\n\nexport default Feed;\n","import mimeTypes from './mimeTypes.json';\n\nexport type AttachmentType =\n  | 'generic'\n  | 'image'\n  | 'video'\n  | 'audio'\n  | 'pdf'\n  | 'archive'\n  | 'text'\n  | 'message'\n  | 'link'\n  | 'pdf'\n  | 'database'\n  | 'document'\n  | 'spreadsheet'\n  | 'presentation';\n\n/**\n * Returns approximately correct mime type for given file based upon the extension. Only few extensions are recognized.\n * @param fileName file name or url to discover the mime type from.\n * @returns mime type associated to the file.\n */\nexport const getMimeTypeFromFile = (fileName: string): string | undefined => {\n  const fileExt = fileName.split('.').pop() ?? fileName;\n  return (mimeTypes as Record<string, string>)[fileExt.toLowerCase()];\n};\n\nexport const getKindFromMimeType = (mimeType: string): AttachmentType => {\n  let type: AttachmentType = 'generic';\n  if (mimeType.startsWith('video/')) type = 'video';\n  if (mimeType.startsWith('audio/')) type = 'audio';\n  if (mimeType.startsWith('image/')) type = 'image';\n  if (mimeType.startsWith('text/')) type = 'text';\n  if (mimeType.startsWith('message/')) type = 'message';\n  if (mimeType.endsWith('/pdf')) type = 'pdf';\n  if (mimeType.match(/powerpoint|presentation|impress/)) type = 'presentation';\n  if (mimeType.match(/excel|spreadsheet|calc/)) type = 'spreadsheet';\n  if (mimeType.match(/word|writer|text/)) type = 'document';\n  if (mimeType.match(/access|database/)) type = 'database';\n  if (mimeType.match(/zip|rar|7z/)) type = 'archive';\n  return type;\n};\n","import { forwardRef, PropsWithoutRef, FC, Ref, CSSProperties, SyntheticEvent } from 'react';\nimport styled, { css, DefaultTheme } from 'styled-components';\n\nimport Icon from '../Icon';\nimport { ForwardProps, BaseProps, OmitStrict } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Image, { StyledImage } from '../Image';\nimport { useTheme } from '../../hooks';\n\nimport { AttachmentType } from './utils';\n\nexport interface FileVisualProps extends BaseProps {\n  /** Attachment/File type, it has an impact on background color and icon rendered. */\n  type: AttachmentType;\n  /** A string to be used as an image src for a attachment thumbnail. */\n  thumbnail?: string;\n  /** Called when a thumbnail encounters an error while loading. */\n  onThumbnailError?: (e: SyntheticEvent<HTMLImageElement>) => void;\n  /** Reference to a button element. */\n  ref?: Ref<HTMLDivElement>;\n}\ntype ThemeColor = keyof OmitStrict<DefaultTheme['base']['colors'], 'white' | 'black'>;\ntype ThemeColorVariant = 'extra-light' | 'light' | 'medium' | 'dark' | 'extra-dark';\n\ntype BackgroundColor = `${ThemeColor}.${ThemeColorVariant}`;\n\nconst mapping: Record<\n  AttachmentType,\n  { backgroundColor: BackgroundColor } & (\n    | { iconName: string; text?: never }\n    | { iconName?: never; text: string }\n  )\n> = {\n  generic: {\n    iconName: 'paper-clip',\n    backgroundColor: 'slate.dark'\n  },\n  video: {\n    iconName: 'play-solid',\n    backgroundColor: 'slate.dark'\n  },\n  audio: {\n    iconName: 'speaker-on-solid',\n    backgroundColor: 'slate.dark'\n  },\n  document: {\n    iconName: 'filetype-text',\n    backgroundColor: 'blue.medium'\n  },\n  message: {\n    iconName: 'mail-solid',\n    backgroundColor: 'blue.dark'\n  },\n  pdf: {\n    text: 'PDF',\n    backgroundColor: 'red.medium'\n  },\n  spreadsheet: {\n    iconName: 'grid-solid',\n    backgroundColor: 'green.medium'\n  },\n  presentation: {\n    iconName: 'slideshow-solid',\n    backgroundColor: 'orange.medium'\n  },\n  link: {\n    iconName: 'chain',\n    backgroundColor: 'purple.dark'\n  },\n  archive: {\n    iconName: 'archive-solid',\n    backgroundColor: 'slate.dark'\n  },\n  database: {\n    iconName: 'disc-stack-solid',\n    backgroundColor: 'slate.dark'\n  },\n  image: {\n    iconName: 'picture-solid',\n    backgroundColor: 'slate.dark'\n  },\n  text: {\n    iconName: 'filetype-text',\n    backgroundColor: 'slate.dark'\n  }\n} as const;\n\nexport const StyledFileVisual = styled.div``;\n\nexport const StyledIconFrame = styled(StyledFileVisual)(({ theme }) => {\n  return css`\n    background-color: var(--bg);\n    color: ${theme.base.palette.light};\n    height: ${theme.components.input.height};\n    width: ${theme.components.input.height};\n    border-radius: calc(0.25 * ${theme.base['border-radius']});\n    font-size: calc(0.7 * ${theme.base['font-size']});\n    font-weight: ${theme.base['font-weight']['semi-bold']};\n    user-select: none;\n    -webkit-user-select: none;\n  `;\n});\n\nStyledIconFrame.defaultProps = defaultThemeProp;\n\nconst StyledThumbnailFrame = styled(StyledFileVisual)(({ theme }) => {\n  return css`\n    background-color: ${theme.base.palette['app-background']};\n    height: 100%;\n    width: 100%;\n\n    ${StyledImage} {\n      margin: auto;\n      height: unset;\n      width: unset;\n      max-height: 100%;\n      max-width: 100%;\n    }\n  `;\n});\n\nStyledThumbnailFrame.defaultProps = defaultThemeProp;\n\nconst FileVisual: FC<FileVisualProps & ForwardProps> = forwardRef(\n  (\n    { type, thumbnail, onThumbnailError, ...restProps }: PropsWithoutRef<FileVisualProps>,\n    ref: FileVisualProps['ref']\n  ) => {\n    const visualConfig = mapping[type];\n\n    const [color, lightness] = visualConfig.backgroundColor.split('.', 2) as [\n      ThemeColor,\n      ThemeColorVariant\n    ];\n\n    const {\n      base: {\n        colors: {\n          [color]: { [lightness]: backgroundColor }\n        }\n      }\n    } = useTheme();\n\n    return thumbnail ? (\n      <Flex {...restProps} as={StyledThumbnailFrame} container>\n        <Image src={thumbnail} onError={onThumbnailError} alt='' />\n      </Flex>\n    ) : (\n      <Flex\n        {...restProps}\n        as={StyledIconFrame}\n        ref={ref}\n        container={{ justify: 'center', alignItems: 'center' }}\n        style={{ '--bg': backgroundColor } as CSSProperties}\n      >\n        {visualConfig.iconName ? <Icon name={visualConfig.iconName} /> : visualConfig.text}\n      </Flex>\n    );\n  }\n);\n\nexport default FileVisual;\n","import {\n  forwardRef,\n  PropsWithoutRef,\n  FC,\n  Ref,\n  ReactElement,\n  useMemo,\n  useState,\n  ReactNode\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport MenuButton from '../MenuButton';\nimport MetaList from '../MetaList';\nimport SummaryItem, {\n  StyledPrimary,\n  StyledSecondary,\n  StyledSummaryItemActions,\n  StyledVisual\n} from '../SummaryItem';\nimport Progress, { StyledProgressRing } from '../Progress';\nimport Text from '../Text';\nimport { ForwardProps, BaseProps, NoChildrenProp } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport { useI18n } from '../../hooks';\n\nimport FileVisual from './FileVisual';\nimport { getKindFromMimeType, getMimeTypeFromFile } from './utils';\n\nexport interface FileUploadItemProps extends BaseProps, NoChildrenProp {\n  /** Name of the file. */\n  name: string;\n  /** A FileUploadVisual element to represent the file. */\n  visual?: ReactElement;\n  /** Additional information about the file. If progress prop is passed and its value is less than 100, this region is instead used for the upload progress indicator. */\n  meta?: string | string[];\n  /** When passed, will render a single icon button for yet to be or in progress uploads. Use this action to trigger xhr request termination. */\n  onCancel?: (name: FileUploadItemProps['name']) => void;\n  /** When passed, will render a single icon button or within a MenuButton if other actions are defined. */\n  onEdit?: (name: FileUploadItemProps['name']) => void;\n  /** When passed, will render a single icon button or within a MenuButton if other actions are defined. */\n  onPreview?: (name: FileUploadItemProps['name']) => void;\n  /** When passed, will render a single icon button or within a MenuButton if other actions are defined. */\n  onDownload?: (name: FileUploadItemProps['name']) => void;\n  /** When passed, will render a single icon button or within a MenuButton if other actions are defined. */\n  onDelete?: (name: FileUploadItemProps['name']) => void;\n  /**\n   * Set if there is an error uploading or processing the file. Applies error styling to the meta string passed.\n   * @default false\n   */\n  error?: boolean;\n  /** A string to be used as an image src for a attachment thumbnail. Falls back to a provided icon or the default attachment icon. */\n  thumbnail?: string;\n  /** If the attachment is in an upload state, pass progress as a number between 0-100 representing the percentage of progress. */\n  progress?: number;\n  /** The size of the file. */\n  size?: number;\n  /** A ref to the file item's HTMLLIElement. */\n  ref?: Ref<HTMLLIElement>;\n}\n\ninterface FileAction {\n  fn: (name: FileUploadItemProps['name']) => void;\n  text: string;\n  icon: string;\n}\n\nconst StyledFileUploadItem = styled(SummaryItem)<{ hasThumbnail: boolean }>(\n  ({ hasThumbnail, theme }) => {\n    return css`\n      border: 0.0625rem solid ${theme.base.palette['border-line']};\n      border-radius: calc(0.5 * ${theme.base['border-radius']});\n      background-color: ${theme.base.palette['primary-background']};\n      padding: calc(0.5 * ${theme.base.spacing});\n      min-height: 3rem;\n\n      ${StyledProgressRing} {\n        height: ${theme.components.input.height};\n        width: ${theme.components.input.height};\n      }\n\n      ${hasThumbnail &&\n      css`\n        height: calc(6rem + ${theme.base.spacing});\n        grid-row: span 2;\n        grid-template-columns: auto minmax(0, 1fr) auto;\n\n        ${StyledVisual} {\n          align-self: auto;\n          width: calc(6rem - 0.125rem);\n          height: calc(6rem - 0.125rem);\n        }\n\n        ${StyledPrimary} {\n          align-self: start;\n          margin-block-start: calc(0.5 * ${theme.base.spacing});\n        }\n\n        ${StyledSecondary} {\n          grid-area: primary;\n          align-self: center;\n          margin-block-start: calc(1.5 * ${theme.base.spacing});\n        }\n\n        ${StyledSummaryItemActions} {\n          align-self: start;\n        }\n      `}\n    `;\n  }\n);\n\nStyledFileUploadItem.defaultProps = defaultThemeProp;\n\nconst FileUploadItem: FC<FileUploadItemProps & ForwardProps> = forwardRef(\n  (\n    {\n      name,\n      meta,\n      error = false,\n      progress,\n      thumbnail,\n      onCancel,\n      onEdit,\n      onPreview,\n      onDownload,\n      onDelete,\n      size,\n      ...restProps\n    }: PropsWithoutRef<FileUploadItemProps>,\n    ref: FileUploadItemProps['ref']\n  ) => {\n    const t = useI18n();\n    const [thumbnailError, setThumbnailError] = useState(false);\n\n    const definedActions: FileAction[] = useMemo(\n      () =>\n        [\n          { fn: onCancel, text: t('cancel'), icon: 'times' },\n          { fn: onEdit, text: t('edit'), icon: 'pencil' },\n          { fn: onPreview, text: t('preview'), icon: 'eye' },\n          { fn: onDownload, text: t('download'), icon: 'download' },\n          { fn: onDelete, text: t('delete'), icon: 'trash' }\n        ].filter<FileAction>((action): action is FileAction => !!action.fn),\n      [onCancel, onEdit, onPreview, onDownload, onDelete]\n    );\n\n    let metaContent: ReactNode = meta;\n    let actions: ReactElement | undefined;\n\n    const type = getKindFromMimeType(getMimeTypeFromFile(name) ?? '');\n\n    if (typeof progress === 'number' && progress < 100) {\n      metaContent = `${t('uploading')}…${Math.floor(progress)}%`;\n    }\n\n    if (Array.isArray(metaContent)) {\n      metaContent = (\n        <MetaList\n          items={metaContent.map((item, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <Text key={i} variant='secondary' status={error ? 'error' : undefined}>\n              {item}\n            </Text>\n          ))}\n        />\n      );\n    } else if (typeof metaContent === 'string') {\n      metaContent = (\n        <Text variant='secondary' status={error ? 'error' : undefined}>\n          {metaContent}\n        </Text>\n      );\n    }\n\n    if (definedActions.length === 1) {\n      const action = definedActions[0];\n\n      actions = (\n        <Button\n          icon\n          variant='simple'\n          onClick={() => action.fn?.(name)}\n          aria-label={`${action.text} ${name}`}\n        >\n          <Icon name={action.icon} />\n        </Button>\n      );\n    } else if (definedActions.length > 1) {\n      actions = (\n        <MenuButton\n          text={t('actions')}\n          iconOnly\n          icon='more'\n          variant='simple'\n          menu={{\n            items: definedActions.map(action => ({\n              id: action.text,\n              primary: action.text,\n              onClick: () => {\n                action.fn(name);\n              }\n            }))\n          }}\n        />\n      );\n    }\n\n    const visual = useMemo(() => {\n      if (typeof progress === 'number' && progress !== 100) {\n        return <Progress value={progress} placement='inline' variant='ring' />;\n      }\n\n      return (\n        <FileVisual\n          type={type}\n          thumbnail={thumbnailError ? undefined : thumbnail}\n          onThumbnailError={() => {\n            setThumbnailError(true);\n          }}\n        />\n      );\n    }, [progress, thumbnail, thumbnailError]);\n\n    return (\n      <StyledFileUploadItem\n        {...restProps}\n        forwardedAs='li'\n        hasThumbnail={\n          thumbnail && !thumbnailError && (progress === 100 || progress === undefined) && !error\n        }\n        ref={ref}\n        visual={visual}\n        primary={name}\n        secondary={metaContent}\n        actions={actions}\n        overflowStrategy='ellipsis'\n      />\n    );\n  }\n);\n\nexport default FileUploadItem;\n","import { FC, forwardRef, PropsWithoutRef, Ref, useEffect, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  FileUploadItem,\n  FileUploadItemProps,\n  Grid,\n  Image,\n  defaultThemeProp,\n  getKindFromMimeType,\n  getMimeTypeFromFile,\n  Flex,\n  StyledFlex,\n  usePrevious,\n  useI18n\n} from '@pega/cosmos-react-core';\nimport BareButton from '@pega/cosmos-react-core/lib/components/Button/BareButton';\n\nimport { FeedContext } from './Feed.context';\n\nexport type AttachedFiles = FileUploadItemProps & File;\n\ninterface FeedAttachmentsProps {\n  attachments?: AttachedFiles[];\n  readOnly?: boolean;\n  ref?: Ref<HTMLUListElement>;\n}\n\nexport const StyledFeedAttachments = styled.ul(({ theme }) => {\n  return css`\n    overflow-x: auto;\n\n    > li {\n      background-color: ${theme.base.palette['primary-background']};\n      cursor: initial;\n    }\n  `;\n});\n\nStyledFeedAttachments.defaultProps = defaultThemeProp;\n\nexport const StyledImagePreview = styled(BareButton)(({ theme }) => {\n  return css`\n    line-height: 0;\n\n    /* stylelint-disable declaration-block-no-duplicate-properties */\n    width: -moz-fit-content;\n    width: fit-content;\n\n    /* stylelint-enable declaration-block-no-duplicate-properties */\n    border-radius: calc(0.5 * ${theme.base['border-radius']});\n\n    & + & {\n      margin: 0;\n    }\n\n    &:focus {\n      box-shadow: ${theme.components.button['focus-shadow']};\n    }\n\n    img {\n      border-radius: calc(0.5 * ${theme.base['border-radius']});\n      object-fit: contain;\n      max-height: 32rem;\n      max-width: 100%;\n    }\n  `;\n});\n\nStyledImagePreview.defaultProps = defaultThemeProp;\n\nexport const StyledAttachmentsRegion = styled.div(({ theme }) => {\n  return css`\n    margin: ${theme.base.spacing} 0;\n\n    ${StyledFlex} + ${StyledFeedAttachments} {\n      margin-block-start: ${theme.base.spacing};\n    }\n  `;\n});\n\nStyledAttachmentsRegion.defaultProps = defaultThemeProp;\n\nconst FeedAttachments: FC<FeedAttachmentsProps> = forwardRef(\n  (props: PropsWithoutRef<FeedAttachmentsProps>, ref: FeedAttachmentsProps['ref']) => {\n    const { attachments = [], readOnly } = props;\n    const t = useI18n();\n    const { announce } = useContext(FeedContext);\n    const prevAttachments = usePrevious(attachments) ?? [];\n\n    useEffect(() => {\n      if (attachments.length !== prevAttachments?.length) {\n        const difference = attachments.length - prevAttachments.length;\n        const normalizedDifference = difference * (difference > 0 ? 1 : -1);\n        announce(\n          t(`feed_attachments_${difference > 0 ? 'added' : 'removed'}`, [normalizedDifference], {\n            count: normalizedDifference\n          })\n        );\n      }\n    }, [attachments]);\n\n    if (attachments.length === 0) return null;\n\n    const previewableFiles: AttachedFiles[] = [];\n    const nonPreviewableFiles: AttachedFiles[] = [];\n\n    attachments.forEach(file => {\n      const type = getKindFromMimeType(getMimeTypeFromFile(file.name) ?? '');\n\n      if (type === 'image' && file.thumbnail) previewableFiles.push(file);\n      else nonPreviewableFiles.push(file);\n    });\n\n    return (\n      <StyledAttachmentsRegion>\n        {readOnly && !!previewableFiles.length && (\n          <Flex container={{ direction: 'column', gap: 1 }}>\n            {previewableFiles.map(({ lastModified, name, onPreview, thumbnail }) => {\n              return (\n                <StyledImagePreview key={lastModified} onClick={() => onPreview?.(name)}>\n                  <Image alt={name} src={thumbnail} />\n                </StyledImagePreview>\n              );\n            })}\n          </Flex>\n        )}\n        <Grid\n          ref={ref}\n          as={StyledFeedAttachments}\n          container={{\n            cols: 'repeat(auto-fill, minmax(15rem, 1fr))',\n            gap: 1\n          }}\n        >\n          {!readOnly &&\n            previewableFiles.map(({ lastModified, name, size, ...restProps }) => {\n              return <FileUploadItem key={lastModified} name={name} size={size} {...restProps} />;\n            })}\n          {nonPreviewableFiles.map(({ lastModified, name, size, ...restProps }) => {\n            return <FileUploadItem key={lastModified} name={name} size={size} {...restProps} />;\n          })}\n        </Grid>\n      </StyledAttachmentsRegion>\n    );\n  }\n);\n\nexport default FeedAttachments;\n","import styled, { css } from 'styled-components';\n\nimport { defaultThemeProp } from '@pega/cosmos-react-core';\n\nconst FeedButton = styled.button<{ emphasized?: boolean; icon?: boolean }>(props => {\n  const { emphasized, icon, theme } = props;\n\n  return css`\n    color: ${emphasized ? theme.base.palette.interactive : theme.base.palette['foreground-color']};\n    vertical-align: top;\n\n    span {\n      margin-inline-start: calc(0.5 * ${theme.base.spacing});\n    }\n\n    ${icon &&\n    css`\n      display: inline-flex;\n      flex-direction: row;\n      align-items: center;\n    `}\n  `;\n});\n\nFeedButton.defaultProps = defaultThemeProp;\n\nexport default FeedButton;\n","import {\n  FC,\n  Ref,\n  forwardRef,\n  useState,\n  useMemo,\n  useRef,\n  useLayoutEffect,\n  PropsWithoutRef,\n  ReactElement,\n  useContext\n} from 'react';\n\nimport { Button, ExpandCollapse, Flex, ForwardProps } from '@pega/cosmos-react-core';\nimport { RichTextViewer } from '@pega/cosmos-react-rte';\n\nimport { FeedContext } from './Feed.context';\n\nexport interface FeedContentProps {\n  children: ReactElement | string;\n  /**\n   * A maximum height in pixels to display post content within before prompting to expand the post.\n   * @default Infinity\n   */\n  maxContentHeight?: number;\n  ref?: Ref<HTMLDivElement>;\n}\n\nconst FeedContent: FC<FeedContentProps & ForwardProps> = forwardRef(\n  (\n    { children, maxContentHeight = Infinity, ...restProps }: PropsWithoutRef<FeedContentProps>,\n    ref: FeedContentProps['ref']\n  ) => {\n    const { interactionRenderers, markdownMap } = useContext(FeedContext);\n    const [collapsed, setCollapsed] = useState(true);\n    const [exceedsMaxHeight, setExceedsMaxHeight] = useState(true);\n    const rtvRef = useRef<HTMLDivElement>(null);\n\n    useLayoutEffect(() => {\n      if (!rtvRef.current) return;\n\n      const observer = new ResizeObserver(entries => {\n        const exceedsHeight = entries.some(({ target, contentRect }) => {\n          if (target !== rtvRef.current) return;\n\n          return contentRect.height > maxContentHeight;\n        });\n\n        setExceedsMaxHeight(exceedsHeight);\n      });\n\n      observer.observe(rtvRef.current);\n\n      return () => {\n        observer.disconnect();\n      };\n    }, [rtvRef.current, maxContentHeight]);\n\n    return useMemo(\n      () =>\n        typeof children === 'string' ? (\n          <Flex ref={ref} container={{ direction: 'column', gap: 1 }}>\n            <ExpandCollapse\n              collapsed={collapsed}\n              min={exceedsMaxHeight ? `${maxContentHeight}px` : 'max-content'}\n              {...restProps}\n            >\n              <RichTextViewer\n                ref={rtvRef}\n                content={children}\n                type='markdown'\n                interactionRenderers={interactionRenderers}\n                markdownMap={markdownMap}\n              />\n            </ExpandCollapse>\n            {exceedsMaxHeight && (\n              <Flex container={{ justify: 'center' }}>\n                <Button variant='link' onClick={() => setCollapsed(current => !current)}>\n                  {collapsed ? 'Show more' : 'Show less'}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        ) : (\n          children\n        ),\n      [\n        children,\n        collapsed,\n        exceedsMaxHeight,\n        interactionRenderers,\n        markdownMap,\n        maxContentHeight,\n        ref,\n        restProps\n      ]\n    );\n  }\n);\n\nexport default FeedContent;\n","import { FC, forwardRef, Ref, useContext, useMemo, useRef, useEffect, KeyboardEvent } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  ForwardProps,\n  OmitStrict,\n  Button,\n  Icon,\n  Text,\n  Avatar,\n  MetaList,\n  Count,\n  Tooltip,\n  ModalManagerContext,\n  ModalMethods,\n  useI18n,\n  useConfiguration,\n  useElement,\n  formatListToLocaleString\n} from '@pega/cosmos-react-core';\nimport BareRoleButton from '@pega/cosmos-react-core/lib/components/Button/BareRoleButton';\n\nimport { FeedPostProps } from './FeedPost.types';\nimport { FeedContext } from './Feed.context';\nimport FeedButton from './FeedButton';\nimport FeedModalList, { FeedModalListProps } from './FeedModalList';\nimport { FeedReplyProps } from './FeedReply.types';\n\nconst InlineBareButton = styled(BareRoleButton)`\n  display: inline-block;\n`;\n\ninterface BaseFeedLikeButtonProps\n  extends OmitStrict<FeedPostProps['interactionInfo'], 'commentLabel' | 'interactionsEnabled'>,\n    Pick<FeedPostProps, 'onLoadMoreLikes' | 'onLikeCountInteraction' | 'id'>,\n    Pick<FeedPostProps['info'], 'liked'> {\n  showText?: boolean;\n}\n\ninterface PostFeedLikeButtonProps extends BaseFeedLikeButtonProps {\n  variant: 'post';\n  onLikeClick: FeedPostProps['onLikeClick'];\n}\n\ninterface ReplyFeedLikeButtonProps extends BaseFeedLikeButtonProps {\n  variant: 'reply';\n  onLikeClick: FeedReplyProps['onLikeClick'];\n}\n\nexport type FeedLikeButtonProps = PostFeedLikeButtonProps | ReplyFeedLikeButtonProps;\n\nexport const FeedLikeButton: FC<FeedLikeButtonProps & ForwardProps> = forwardRef(\n  (props, ref: Ref<HTMLButtonElement>) => {\n    const {\n      id,\n      showText,\n      onLikeCountInteraction,\n      onLoadMoreLikes,\n      liked,\n      likeLabel,\n      likeCount = 0,\n      likes = []\n    } = props;\n    const t = useI18n();\n    const { locale } = useConfiguration();\n    const { create } = useContext(ModalManagerContext);\n    const { announce, userInfo: loggedInUser } = useContext(FeedContext);\n    const [countEl, setCountEl] = useElement(null);\n    const likesModalRef = useRef<ModalMethods<FeedModalListProps>>();\n\n    useEffect(() => {\n      likesModalRef.current?.update({\n        count: likeCount,\n        heading: likeLabel,\n        listItems: likes,\n        onLoadMore: onLoadMoreLikes\n      });\n    }, [likeCount, likeLabel, likes, onLoadMoreLikes]);\n\n    const likesAttributes = useMemo(() => {\n      const likesList = likes.map(x => x.primary.toString());\n      return {\n        ariaLabel: likeCount\n          ? `${t('feed_liked_by')} ${formatListToLocaleString(likesList, t, locale, {\n              count: likeCount\n            })}`\n          : t('feed_post_likes', [likeCount], { count: likeCount }),\n        label: formatListToLocaleString(likesList, t, locale, {\n          count: likeCount,\n          separator: '\\n'\n        })\n      };\n    }, [likes, likeCount]);\n\n    const onLikeCountClick = () => {\n      if (likes.length && likeCount > 10) {\n        likesModalRef.current = create(FeedModalList, {\n          count: likeCount,\n          heading: t('feed_likes'),\n          listItems: likes,\n          onLoadMore: onLoadMoreLikes\n        });\n      } else {\n        onLikeCountInteraction?.();\n      }\n    };\n\n    useEffect(() => {\n      announce(t(`feed_post_${liked ? 'liked' : 'deliked'}`));\n    }, [liked]);\n\n    return (\n      <Button\n        variant='text'\n        as={FeedButton}\n        onClick={() => {\n          const user = {\n            id: loggedInUser.username,\n            primary: loggedInUser.fullname,\n            secondary: loggedInUser.meta ? <MetaList items={loggedInUser.meta} /> : undefined,\n            visual: (\n              <Avatar size='l' imageSrc={loggedInUser.avatarSrc} name={loggedInUser.fullname} />\n            )\n          };\n          let eventObj;\n          if (props.variant === 'post') {\n            eventObj = {\n              postId: id,\n              user\n            } as const;\n            props.onLikeClick(eventObj);\n          } else {\n            eventObj = {\n              replyId: id,\n              user\n            } as const;\n            props.onLikeClick(eventObj);\n          }\n        }}\n        emphasized={liked}\n        ref={ref}\n      >\n        <Icon name={liked ? 'thumbs-up-solid' : 'thumbs-up'} />\n        {showText && <Text>{likeLabel}</Text>}\n        {likeCount > 0 && (\n          <>\n            <InlineBareButton\n              ref={setCountEl}\n              role={likes.length ? 'button' : undefined}\n              onClick={onLikeCountClick}\n              onFocus={onLikeCountInteraction}\n              onMouseOver={onLikeCountInteraction}\n              aria-label={likesAttributes.ariaLabel}\n              tabIndex={0}\n              onKeyDown={(e: KeyboardEvent) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  onLikeCountClick();\n                }\n              }}\n            >\n              <Count>{likeCount}</Count>\n            </InlineBareButton>\n            <Tooltip target={countEl} showDelay='none' hideDelay='none'>\n              {likesAttributes.label}\n            </Tooltip>\n          </>\n        )}\n      </Button>\n    );\n  }\n);\n","import { FC, useEffect, useRef, useState } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  SummaryListItem,\n  defaultThemeProp,\n  Flex,\n  Progress,\n  useElement,\n  StyledProgressRing,\n  Count,\n  Modal,\n  SummaryListItems\n} from '@pega/cosmos-react-core';\n\nexport interface FeedModalListProps {\n  /** The count for the list of items. */\n  count: number;\n  /** The heading for the Modal. */\n  heading: string;\n  /** The list of MenuItems to render in the Modal. */\n  listItems: SummaryListItem[];\n  /** A callback that is triggered when the bottom of the Modal list is scrolled into view so that additional data may be displayed. */\n  onLoadMore?: () => void;\n}\n\nconst StyledLoadMore = styled.div<{ visible: boolean }>(({ theme, visible }) => {\n  return css`\n    ${visible &&\n    css`\n      margin-top: calc(2 * ${theme.base.spacing});\n    `}\n\n    ${StyledProgressRing} {\n      min-height: 0;\n      min-width: 0;\n\n      ${visible &&\n      css`\n        min-height: 2rem;\n        min-width: 2rem;\n      `}\n    }\n  `;\n});\n\nStyledLoadMore.defaultProps = defaultThemeProp;\n\nconst FeedModalList: FC<FeedModalListProps> = ({\n  count,\n  heading,\n  listItems,\n  onLoadMore\n}: FeedModalListProps) => {\n  const [loadMoreEl, setLoadMoreEl] = useElement<HTMLDivElement>();\n  const [listOverflows, setListOverflows] = useState(false);\n  const listOverflowsRef = useRef(false);\n\n  useEffect(() => {\n    if (loadMoreEl) {\n      const intersectionObserver = new IntersectionObserver(entries => {\n        if (!entries[0].isIntersecting) {\n          setListOverflows(true);\n          listOverflowsRef.current = true;\n        } else if (entries[0].isIntersecting && listOverflowsRef.current) {\n          onLoadMore?.();\n        }\n      });\n\n      intersectionObserver.observe(loadMoreEl);\n\n      return () => {\n        intersectionObserver.disconnect();\n      };\n    }\n  }, [loadMoreEl, listOverflowsRef.current]);\n\n  return (\n    <Modal\n      heading={\n        <Flex container={{ gap: 1 }}>\n          {heading}\n          <Flex item={{ alignSelf: 'center' }} as={Count}>\n            {count}\n          </Flex>\n        </Flex>\n      }\n    >\n      <SummaryListItems items={listItems} />\n\n      {onLoadMore && (\n        <Flex\n          ref={setLoadMoreEl}\n          as={StyledLoadMore}\n          visible={listOverflows}\n          container={{ justify: 'center' }}\n        >\n          <Progress placement='inline' />\n        </Flex>\n      )}\n    </Modal>\n  );\n};\n\nexport default FeedModalList;\n","import { useRef, useMemo, useEffect, useCallback, useReducer, ChangeEvent } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Button,\n  Text,\n  StyledPrimary,\n  StyledMenuItem,\n  Icon,\n  StyledIcon,\n  useElement,\n  useOuterEvent,\n  Popover,\n  Menu,\n  Status,\n  defaultThemeProp,\n  createUID,\n  useAfterInitialEffect,\n  ForwardProps\n} from '@pega/cosmos-react-core';\nimport { StyledMenuListHeader } from '@pega/cosmos-react-core/lib/components/Menu/Menu.styles';\nimport MultiSelectInput from '@pega/cosmos-react-core/lib/components/ComboBox/MultiSelectInput/MultiSelectInput';\n\nexport type PostType = 'post' | 'private';\n\nexport interface RecipientOption {\n  /** Pretty printed recipient name */\n  primary: string;\n  /** Functional identifier of unique recipient */\n  value: string;\n}\n\nexport interface RecipientMenuItem {\n  id: string;\n  selected?: boolean;\n  primary: RecipientOption['primary'];\n  value: RecipientOption['value'];\n}\n\nexport interface RecipientMultiSelectData {\n  id: RecipientMenuItem['id'];\n  text: RecipientMenuItem['primary'];\n  value: RecipientMenuItem['value'];\n}\n\nexport interface PostTypeMenuProps {\n  /** Array of private recipient options */\n  recipients: RecipientOption[];\n  /** Post type update handler */\n  onSetPostType: (postType: PostType) => void;\n  /** Private post recipient list update handler */\n  onSelectedRecipientsUpdate: (recipients: RecipientMenuItem[]) => void;\n  /** Handler for new search on private recipient options */\n  onRecipientSearch: (newSearch: string) => void;\n  reset: boolean;\n  onReset: () => void;\n}\n\ninterface PostTypeMenuState {\n  postType: PostType;\n  itemsLoading: boolean;\n  showTypeMenu: boolean;\n  showRecipientMenu: boolean;\n  viewingRecipients: boolean;\n  showCountPopover: boolean;\n  searchValue: string;\n  typeMenuItems: {\n    id: string;\n    primary: string;\n    selected: boolean;\n    value: PostType;\n  }[];\n  recipientMenuItems: RecipientMenuItem[];\n  multiSelectItems: RecipientMultiSelectData[];\n}\n\nconst StyledCountBadgePopoverContent = styled.div(({ theme }) => {\n  const {\n    base: { spacing }\n  } = theme;\n\n  return css`\n    padding: ${spacing};\n\n    p:not(:last-child) {\n      margin-bottom: ${spacing};\n    }\n  `;\n});\nStyledCountBadgePopoverContent.defaultProps = defaultThemeProp;\n\nconst StyledPostTypePopoverContent = styled.div`\n  width: clamp(16rem, 60vw, 40rem);\n`;\n\nconst StyledRecipientCount = styled(Status)(({ theme }) => {\n  const {\n    base: { spacing }\n  } = theme;\n\n  return css`\n    border-radius: 1.25rem;\n    margin: 0 0 0 calc(0.5 * ${spacing});\n  `;\n});\nStyledRecipientCount.defaultProps = defaultThemeProp;\n\nconst StyledSelectedInputContainer = styled.div(({ theme }) => {\n  const {\n    base: { spacing }\n  } = theme;\n\n  return css`\n    margin: ${spacing} calc(2 * ${spacing}) calc(2 * ${spacing});\n  `;\n});\nStyledSelectedInputContainer.defaultProps = defaultThemeProp;\n\nconst StyledRecipientBackButton = styled(StyledMenuListHeader)(({ theme }) => {\n  const {\n    base: {\n      'font-weight': { 'semi-bold': fontWeight },\n      spacing\n    }\n  } = theme;\n\n  return css`\n    font-weight: ${fontWeight};\n    padding: ${spacing} calc(2 * ${spacing});\n\n    &:hover,\n    &:focus {\n      text-decoration: none;\n    }\n\n    && ${StyledIcon} {\n      display: inline-block;\n      margin-inline-end: ${spacing};\n    }\n  `;\n});\nStyledRecipientBackButton.defaultProps = defaultThemeProp;\n\nconst StyledRecipientMenuHeader = styled.div``;\n\nconst StyledTypeMenuToggle = styled(Button)(({ theme }) => {\n  const {\n    base: { spacing }\n  } = theme;\n\n  return css`\n    margin: ${spacing} 0;\n  `;\n});\nStyledTypeMenuToggle.defaultProps = defaultThemeProp;\n\nconst StyledRecipientMenu = styled(Menu)(({ theme }) => {\n  const {\n    base: { spacing }\n  } = theme;\n\n  return css`\n    ${StyledMenuItem} > button {\n      padding: ${spacing} calc(2 * ${spacing});\n    }\n  `;\n});\nStyledRecipientMenu.defaultProps = defaultThemeProp;\n\nconst StyledPostTypePopover = styled(Popover)(({ theme }) => {\n  const {\n    base: {\n      'font-weight': { normal: fontWeight }\n    }\n  } = theme;\n  return css`\n    ${StyledPrimary} {\n      font-weight: ${fontWeight};\n    }\n  `;\n});\nStyledPostTypePopover.defaultProps = defaultThemeProp;\n\nconst typeCopy = {\n  post: {\n    primary: 'Public post'\n  },\n  private: {\n    primary: 'Private post'\n  }\n};\n\nconst createRecipientMenuItem = (\n  recipient: RecipientOption,\n  selectedIds?: RecipientMenuItem['id'][]\n) => {\n  const checkIds = selectedIds || [];\n  const id = `option_${recipient.value}`;\n\n  return {\n    ...recipient,\n    id,\n    selected: checkIds.includes(id)\n  };\n};\n\nconst getTypeMenuItems = (type: PostType): PostTypeMenuState['typeMenuItems'] => {\n  return [\n    {\n      id: '1',\n      primary: typeCopy.post.primary,\n      selected: type === 'post',\n      value: 'post'\n    },\n    {\n      id: '2',\n      primary: typeCopy.private.primary,\n      selected: type === 'private',\n      value: 'private'\n    }\n  ];\n};\n\nconst initialState: PostTypeMenuState = {\n  postType: 'post',\n  itemsLoading: false,\n  showTypeMenu: false,\n  showRecipientMenu: false,\n  viewingRecipients: false,\n  showCountPopover: false,\n  searchValue: '',\n  typeMenuItems: getTypeMenuItems('post'),\n  recipientMenuItems: [] as RecipientMenuItem[],\n  multiSelectItems: [] as RecipientMultiSelectData[]\n};\n\nconst FeedNewPostTypeMenu = ({\n  recipients,\n  onSetPostType,\n  onSelectedRecipientsUpdate,\n  onRecipientSearch,\n  reset,\n  onReset,\n  ...restProps\n}: PostTypeMenuProps & ForwardProps) => {\n  const menuPopoverId = useMemo(() => createUID(), []);\n\n  const multiSelectInputRef = useRef<HTMLInputElement>(null);\n  const [toggleEl, setToggleEl] = useElement<HTMLButtonElement>();\n  const [recipientCountEl, setRecipientCountEl] = useElement<HTMLElement>();\n  const [typePopoverEl, setTypePopoverEl] = useElement<HTMLElement>(null);\n  const [typeMenuPopoverTarget, setTypeMenuPopoverTarget] = useElement<HTMLButtonElement>(null);\n\n  const reducer = (\n    state: PostTypeMenuState,\n    action: {\n      type:\n        | 'reset'\n        | 'setPostType'\n        | 'setShowTypeMenu'\n        | 'setShowRecipientMenu'\n        | 'setSearchValue'\n        | 'setViewingRecipients'\n        | 'setShowCountPopover'\n        | 'setItemsLoading'\n        | 'updateTypeMenuItems'\n        | 'toggleTypeMenu'\n        | 'removeRecipientViaMultiSelect'\n        | 'selectRecipientViaMenu'\n        | 'updateRecipientMenuItems'\n        | 'resetUnappliedState';\n      payload?: any;\n    }\n  ): PostTypeMenuState => {\n    const type = action.type;\n    const payload = action.payload;\n\n    switch (type) {\n      case 'reset': {\n        return initialState;\n      }\n      case 'setPostType': {\n        const postType = payload;\n        const privateSelected = postType === 'private';\n\n        return {\n          ...state,\n          postType,\n          showTypeMenu: !privateSelected ? false : state.showTypeMenu,\n          viewingRecipients: privateSelected ? true : state.viewingRecipients,\n          multiSelectItems: initialState.multiSelectItems,\n          searchValue: initialState.searchValue\n        };\n      }\n      case 'setShowTypeMenu': {\n        return {\n          ...state,\n          showTypeMenu: payload\n        };\n      }\n      case 'setShowRecipientMenu': {\n        return {\n          ...state,\n          showRecipientMenu: payload\n        };\n      }\n      case 'setSearchValue': {\n        return {\n          ...state,\n          searchValue: payload\n        };\n      }\n      case 'setViewingRecipients': {\n        return {\n          ...state,\n          viewingRecipients: payload\n        };\n      }\n      case 'setShowCountPopover': {\n        return {\n          ...state,\n          showCountPopover: payload\n        };\n      }\n      case 'setItemsLoading': {\n        return {\n          ...state,\n          itemsLoading: payload\n        };\n      }\n      case 'updateTypeMenuItems': {\n        return {\n          ...state,\n          typeMenuItems: getTypeMenuItems(state.postType)\n        };\n      }\n      case 'toggleTypeMenu': {\n        return {\n          ...state,\n          showTypeMenu: !state.showTypeMenu,\n          showCountPopover: false\n        };\n      }\n      case 'removeRecipientViaMultiSelect': {\n        const selectedId = payload;\n\n        const multiSelectItems = state.multiSelectItems.reduce<RecipientMultiSelectData[]>(\n          (acc, recipient) => {\n            if (recipient.id === selectedId) return acc;\n\n            return acc.concat([recipient]);\n          },\n          []\n        );\n\n        const recipientMenuItems = state.recipientMenuItems.map(item => {\n          if (item.id === selectedId) {\n            return {\n              ...item,\n              selected: false\n            };\n          }\n\n          return {\n            ...item\n          };\n        });\n\n        return {\n          ...state,\n          multiSelectItems,\n          recipientMenuItems\n        };\n      }\n      case 'selectRecipientViaMenu': {\n        const selectedId = payload;\n\n        if (!state.multiSelectItems.some(item => item.id === selectedId)) {\n          const selectedFromMenu = state.recipientMenuItems.filter(\n            item => item.id === selectedId\n          )[0];\n\n          const multiSelectItems = state.multiSelectItems.concat([\n            {\n              text: selectedFromMenu.primary,\n              id: selectedFromMenu.id,\n              value: selectedFromMenu.value\n            }\n          ]);\n\n          return {\n            ...state,\n            multiSelectItems,\n            searchValue: ''\n          };\n        }\n\n        return {\n          ...state,\n          searchValue: ''\n        };\n      }\n      case 'updateRecipientMenuItems': {\n        const selectedIds = state.multiSelectItems.map(item => item.id);\n\n        return {\n          ...state,\n          itemsLoading: false,\n          recipientMenuItems: recipients.map(recipient =>\n            createRecipientMenuItem(recipient, selectedIds)\n          )\n        };\n      }\n      case 'resetUnappliedState': {\n        const postType =\n          state.postType === 'private' && state.multiSelectItems.length === 0\n            ? 'post'\n            : state.postType;\n\n        const searchValue = '';\n\n        return {\n          ...state,\n          postType,\n          searchValue\n        };\n      }\n      default:\n        return {\n          ...state\n        };\n    }\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const onBlur = useCallback((): void => {\n    setTimeout(() => {\n      if (!document.activeElement?.closest(`#${menuPopoverId}`)) {\n        dispatch({ type: 'setShowTypeMenu', payload: false });\n      }\n    }, 200);\n  }, [menuPopoverId]);\n\n  const handleKeydownToggle = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && state.showTypeMenu) dispatch({ type: 'toggleTypeMenu' });\n    },\n    [state.showTypeMenu]\n  );\n\n  useOuterEvent('mousedown', [typePopoverEl, typeMenuPopoverTarget], () => {\n    dispatch({ type: 'setShowTypeMenu', payload: false });\n  });\n\n  useEffect(() => {\n    if (reset) {\n      dispatch({ type: 'reset' });\n      onReset();\n    }\n  }, [reset]);\n\n  useEffect(() => {\n    dispatch({ type: 'updateRecipientMenuItems' });\n  }, [recipients]);\n\n  useEffect(() => {\n    onSelectedRecipientsUpdate(\n      state.multiSelectItems.map(item => ({\n        id: item.id,\n        primary: item.text,\n        value: item.value\n      }))\n    );\n  }, [state.multiSelectItems]);\n\n  useEffect(() => {\n    if (!state.showTypeMenu) {\n      if (state.postType === 'private') {\n        // Timeout to prevent flash of recipients options when closing menu.\n        setTimeout(() => {\n          dispatch({ type: 'setViewingRecipients', payload: true });\n        }, 100);\n      }\n\n      setTimeout(() => {\n        // Timeout to prevent flash of type menu when resetting postType on close\n        dispatch({ type: 'resetUnappliedState' });\n      }, 100);\n    }\n  }, [state.showTypeMenu]);\n\n  useEffect(() => {\n    if (multiSelectInputRef.current) {\n      multiSelectInputRef.current?.focus();\n    }\n  }, [multiSelectInputRef.current]);\n\n  useEffect(() => {\n    if (state.postType === 'private') {\n      if (!state.viewingRecipients) {\n        toggleEl?.focus();\n      } else {\n        multiSelectInputRef.current?.focus();\n      }\n    }\n  }, [state.viewingRecipients]);\n\n  useAfterInitialEffect(() => {\n    onSetPostType(state.postType);\n    dispatch({ type: 'updateTypeMenuItems' });\n\n    if (state.postType === 'private') {\n      multiSelectInputRef.current?.focus();\n    }\n  }, [state.postType]);\n\n  useEffect(() => {\n    const interactionTimeout = setTimeout(() => {\n      onRecipientSearch(state.searchValue);\n      dispatch({ type: 'setItemsLoading', payload: true });\n      dispatch({ type: 'setShowRecipientMenu', payload: !!state.searchValue.length });\n    }, 300);\n\n    return () => {\n      clearTimeout(interactionTimeout);\n    };\n  }, [state.searchValue]);\n\n  useEffect(() => {\n    toggleEl?.addEventListener('keydown', handleKeydownToggle);\n\n    return () => toggleEl?.removeEventListener('keydown', handleKeydownToggle);\n  }, [toggleEl, state.showTypeMenu]);\n\n  useEffect(() => {\n    multiSelectInputRef.current?.addEventListener('keydown', handleKeydownToggle);\n\n    return () => multiSelectInputRef.current?.removeEventListener('keydown', handleKeydownToggle);\n  }, [multiSelectInputRef.current, state.showTypeMenu]);\n\n  return (\n    <div>\n      <StyledTypeMenuToggle\n        {...restProps}\n        onClick={() => {\n          dispatch({ type: 'toggleTypeMenu' });\n        }}\n        ref={setToggleEl}\n        variant='link'\n        aria-haspopup='menu'\n        aria-expanded={state.showTypeMenu}\n        onBlur={onBlur}\n      >\n        <span ref={setTypeMenuPopoverTarget}>{typeCopy[state.postType].primary}</span>\n        <Icon name='arrow-micro-down' />\n      </StyledTypeMenuToggle>\n\n      {state.postType === 'private' && state.multiSelectItems.length > 0 && (\n        <>\n          <StyledRecipientCount\n            ref={setRecipientCountEl}\n            aria-describedby={`recipients-popover--${menuPopoverId}`}\n            onMouseEnter={() => {\n              if (!state.showTypeMenu) dispatch({ type: 'setShowCountPopover', payload: true });\n            }}\n            onFocus={() => dispatch({ type: 'setShowCountPopover', payload: true })}\n            onMouseLeave={() => dispatch({ type: 'setShowCountPopover', payload: false })}\n          >{`${state.multiSelectItems.length}`}</StyledRecipientCount>\n\n          <Popover\n            show={state.showCountPopover}\n            target={recipientCountEl}\n            id={`recipients-popover--${menuPopoverId}`}\n            onMouseEnter={() => {\n              if (!state.showTypeMenu) dispatch({ type: 'setShowCountPopover', payload: true });\n            }}\n            onMouseLeave={() => dispatch({ type: 'setShowCountPopover', payload: false })}\n            arrow\n          >\n            <StyledCountBadgePopoverContent>\n              {state.multiSelectItems.map((recipient: RecipientMultiSelectData) => {\n                return (\n                  <p key={recipient.id}>\n                    <Text variant='primary'>{recipient.text}</Text>\n                  </p>\n                );\n              })}\n            </StyledCountBadgePopoverContent>\n          </Popover>\n        </>\n      )}\n\n      <StyledPostTypePopover\n        id={menuPopoverId}\n        ref={setTypePopoverEl}\n        target={typeMenuPopoverTarget}\n        show={state.showTypeMenu}\n        placement='bottom-start'\n      >\n        {(state.postType !== 'private' || !state.viewingRecipients) && (\n          <Menu\n            items={state.typeMenuItems}\n            focusControlEl={toggleEl || undefined}\n            mode='single-select'\n            onItemClick={selectedId => {\n              const postType = state.typeMenuItems.find(item => item.id === selectedId)!.value;\n              dispatch({ type: 'setPostType', payload: postType });\n            }}\n            onItemExpand={() => {\n              if (state.postType === 'private') {\n                dispatch({ type: 'setViewingRecipients', payload: true });\n              } else {\n                dispatch({ type: 'setPostType', payload: 'private' });\n              }\n            }}\n          />\n        )}\n\n        {state.postType === 'private' && state.viewingRecipients && (\n          <StyledPostTypePopoverContent>\n            <StyledRecipientMenuHeader>\n              <Button\n                as={StyledRecipientBackButton}\n                variant='text'\n                aria-label='close submenu'\n                onClick={() => {\n                  dispatch({ type: 'setViewingRecipients', payload: false });\n                }}\n                onBlur={onBlur}\n              >\n                <Icon name='caret-left' />\n                {typeCopy.private.primary}\n              </Button>\n\n              <StyledSelectedInputContainer>\n                <MultiSelectInput\n                  ref={multiSelectInputRef}\n                  selected={state.multiSelectItems}\n                  onRemove={(selectedId: RecipientMultiSelectData['id']) => {\n                    dispatch({ type: 'removeRecipientViaMultiSelect', payload: selectedId });\n                  }}\n                  value={state.searchValue}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                    dispatch({ type: 'setSearchValue', payload: e.target.value });\n                  }}\n                  onBlur={onBlur}\n                />\n              </StyledSelectedInputContainer>\n            </StyledRecipientMenuHeader>\n\n            {state.showRecipientMenu && (\n              <StyledRecipientMenu\n                loading={state.itemsLoading}\n                focusControlEl={multiSelectInputRef.current}\n                items={state.itemsLoading ? [] : state.recipientMenuItems}\n                scrollAt={11}\n                mode='action'\n                emptyText='No items'\n                onItemClick={(selectedId: RecipientMultiSelectData['id']) => {\n                  dispatch({ type: 'selectRecipientViaMenu', payload: selectedId });\n                }}\n              />\n            )}\n          </StyledPostTypePopoverContent>\n        )}\n      </StyledPostTypePopover>\n    </div>\n  );\n};\n\nexport default FeedNewPostTypeMenu;\n","import { useState, FC, MouseEvent, useRef, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Avatar,\n  Button,\n  CardContent,\n  Flex,\n  Icon,\n  registerIcon,\n  StyledIcon,\n  StyledCard,\n  StyledPopover,\n  defaultThemeProp,\n  useAutoResize,\n  useElement,\n  useOuterEvent,\n  ForwardProps,\n  useI18n,\n  ExpandCollapse,\n  useAfterInitialEffect,\n  cap\n} from '@pega/cosmos-react-core';\nimport { RichTextEditorState, StyledRichTextEditor } from '@pega/cosmos-react-rte';\nimport * as timesIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/times.icon';\nimport * as paperClipIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/paper-clip.icon';\n\nimport FeedNewPostTypeMenu, {\n  PostType,\n  PostTypeMenuProps,\n  RecipientMenuItem\n} from './FeedNewPostTypeMenu';\nimport FeedAttachments, { AttachedFiles } from './FeedAttachments';\nimport FeedButton from './FeedButton';\nimport FeedRichText from './FeedRichText';\nimport { FeedContext } from './Feed.context';\n\nregisterIcon(timesIcon, paperClipIcon);\n\nexport interface FeedNewPostProps {\n  /** A unique ID for the NewPost */\n  id: string;\n  /** A set of attachment files. */\n  attachments?: AttachedFiles[];\n  /** Information that is used to label buttons and inputs for accessibility purposes */\n  interactionInfo: {\n    textAreaPlaceholder: string;\n    postLabel: string;\n  };\n  /** A callback containing a list of added files that will run whenever files are added to the post. */\n  onFilesAdded?: (files: AttachedFiles[]) => void;\n  /** A callback that will run when the new post button has been clicked */\n  onPost: (event: {\n    newPostId: string;\n    value: string;\n    attachments: AttachedFiles[];\n    recipients: RecipientMenuItem[];\n    username: string;\n    clear: () => void;\n  }) => void;\n  autoFocus?: boolean;\n  /** Array of private recipient options */\n  recipients?: PostTypeMenuProps['recipients'];\n  /** Handler for new search on private recipient options */\n  onRecipientSearch?: (newSearch: string) => void;\n}\n\nexport const StyledTextAreaOverflow = styled.div(() => {\n  return css`\n    overflow-y: hidden;\n    margin-top: 0.625rem;\n    min-height: 1rem;\n    width: 100%;\n\n    ${StyledRichTextEditor} {\n      &:focus-within {\n        box-shadow: none;\n      }\n    }\n  `;\n});\n\nStyledTextAreaOverflow.defaultProps = defaultThemeProp;\n\nexport const StyledFeedNewPost = styled.div(({ theme }) => {\n  return css`\n    ${StyledIcon}:not(${StyledPopover} ${StyledIcon}) {\n      font-size: 1.25rem;\n    }\n\n    ${FeedButton} {\n      margin-top: calc(0.5 * ${theme.base.spacing});\n    }\n  `;\n});\n\nStyledFeedNewPost.defaultProps = defaultThemeProp;\n\nconst HiddenFileInput = styled.input`\n  display: none;\n`;\n\nconst FeedNewPost: FC<ForwardProps & FeedNewPostProps> = (props: FeedNewPostProps) => {\n  const {\n    id,\n    attachments = [],\n    interactionInfo,\n    onPost,\n    onFilesAdded,\n    autoFocus,\n    recipients,\n    onRecipientSearch,\n    ...restProps\n  } = props;\n  const rteRef = useRef<RichTextEditorState>();\n  const { textAreaPlaceholder, postLabel } = interactionInfo;\n  const { setShowSearchResults } = useContext(FeedContext);\n  const { avatarSrc, fullname, username } = useContext(FeedContext).userInfo;\n  const [emptyText, setEmptyText] = useState(true);\n  const [hasFocus, setHasFocus] = useState(autoFocus);\n  const [postType, setPostType] = useState<PostType>('post');\n  const [resetPostTypeMenu, setResetPostTypeMenu] = useState(false);\n  const [selectedRecipients, setSelectedRecipients] = useState<RecipientMenuItem[]>([]);\n  const [attachmentEl, setAttachmentEl] = useElement<HTMLInputElement>();\n  const [newPostEl, setNewPostEl] = useElement<HTMLDivElement>();\n  const [textAreaRef, resizeTextArea] = useAutoResize<HTMLDivElement>();\n\n  useOuterEvent('mousedown', [newPostEl], () => {\n    if (emptyText) rteRef.current?.clear();\n  });\n\n  const t = useI18n();\n\n  const handlePost = () => {\n    setShowSearchResults?.(false);\n    if ((!emptyText || attachments.length > 0) && attachments.every(x => !x.error)) {\n      onPost({\n        newPostId: id,\n        value: rteRef.current?.getPlainText() || '',\n        attachments: attachments || [],\n        recipients: selectedRecipients,\n        username,\n        clear: () => {\n          rteRef.current?.clear();\n          setResetPostTypeMenu(true);\n        }\n      });\n    }\n  };\n\n  const handleClear = () => {\n    setShowSearchResults?.(false);\n    rteRef.current?.clear();\n    rteRef.current?.focus();\n  };\n\n  useAfterInitialEffect(() => {\n    if (postType === 'post') {\n      rteRef.current?.focus();\n    }\n    if (postType !== 'private') {\n      setSelectedRecipients([] as RecipientMenuItem[]);\n    }\n  }, [postType]);\n\n  return (\n    <StyledCard ref={setNewPostEl} as={StyledFeedNewPost} {...restProps}>\n      <CardContent>\n        {onRecipientSearch && (\n          <FeedNewPostTypeMenu\n            recipients={recipients || ([] as PostTypeMenuProps['recipients'])}\n            onSetPostType={setPostType}\n            onSelectedRecipientsUpdate={setSelectedRecipients}\n            onRecipientSearch={onRecipientSearch}\n            reset={resetPostTypeMenu}\n            onReset={() => setResetPostTypeMenu(false)}\n          />\n        )}\n\n        <Flex container={{ alignItems: 'start', gap: 1 }}>\n          <Avatar name={fullname} size='l' imageSrc={avatarSrc} />\n\n          <StyledTextAreaOverflow ref={textAreaRef}>\n            <FeedRichText\n              label={t('feed_new_post')}\n              labelHidden\n              onChange={() => {\n                setEmptyText(rteRef.current?.getPlainText().trim() === '');\n                resizeTextArea();\n              }}\n              placeholder={textAreaPlaceholder}\n              autoFocus={autoFocus}\n              onSubmit={handlePost}\n              onFocus={() => setHasFocus(true)}\n              onBlur={() => setHasFocus(false)}\n              ref={rteRef}\n            />\n          </StyledTextAreaOverflow>\n\n          {!emptyText && (\n            <Button\n              variant='simple'\n              as={FeedButton}\n              onClick={handleClear}\n              icon\n              label={t('feed_cancel_conversation')}\n              tabIndex={-1}\n            >\n              <Icon name='times' />\n            </Button>\n          )}\n\n          {onFilesAdded && (\n            <Button\n              variant='simple'\n              as={FeedButton}\n              onClick={() => {\n                setShowSearchResults?.(false);\n                attachmentEl?.click();\n              }}\n              icon\n              label={\n                attachments.length\n                  ? cap(t('attachments_count', [], { count: 1 }))\n                  : t('file_upload_text_multiple')\n              }\n            >\n              <Icon name='paper-clip' />\n            </Button>\n          )}\n        </Flex>\n\n        <HiddenFileInput\n          ref={setAttachmentEl}\n          type='file'\n          multiple\n          onChange={() => {\n            if (attachmentEl?.files) {\n              onFilesAdded?.(Array.from(attachmentEl?.files));\n            }\n          }}\n          // Must trick input to believe there is no value when activated so that the same file may be added consecutively.\n          onClick={(event: MouseEvent) => {\n            (event.target as HTMLInputElement).value = '';\n          }}\n        />\n\n        <FeedAttachments attachments={attachments} />\n\n        <ExpandCollapse collapsed={!hasFocus && emptyText && !attachments.length}>\n          <Flex container={{ justify: 'end' }}>\n            <Button\n              variant='primary'\n              disabled={(emptyText && attachments.length === 0) || attachments.some(x => x.error)}\n              onClick={handlePost}\n            >\n              {postLabel}\n            </Button>\n          </Flex>\n        </ExpandCollapse>\n      </CardContent>\n    </StyledCard>\n  );\n};\n\nexport default FeedNewPost;\n","import {\n  FC,\n  useState,\n  useEffect,\n  MutableRefObject,\n  MouseEvent,\n  useRef,\n  useContext,\n  useMemo\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Avatar,\n  Button,\n  Count,\n  Card,\n  CardContent,\n  CardHeader,\n  Flex,\n  Icon,\n  registerIcon,\n  MenuButton,\n  SummaryItem,\n  Text,\n  defaultThemeProp,\n  ForwardProps,\n  useI18n,\n  Progress,\n  useOuterEvent,\n  MetaList,\n  ModalManagerContext,\n  SummaryListItem,\n  ModalMethods,\n  StyledVisual,\n  useConfiguration,\n  usePrevious\n} from '@pega/cosmos-react-core';\nimport { RichTextEditorState, StyledRichTextEditor } from '@pega/cosmos-react-rte';\nimport BareButton from '@pega/cosmos-react-core/lib/components/Button/BareButton';\nimport * as arrowMicroDownIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/arrow-micro-down.icon';\nimport * as caretLeftIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/caret-left.icon';\nimport { formatListToLocaleString } from '@pega/cosmos-react-core/lib/utils/utils';\n\nimport FeedButton from './FeedButton';\nimport FeedAttachments from './FeedAttachments';\nimport { StyledFeedReplyContainer } from './FeedReply';\nimport FeedContent from './FeedContent';\nimport FeedReplyInput from './FeedReplyInput';\nimport { FeedContext, FeedReplyContext } from './Feed.context';\nimport FeedRichText from './FeedRichText';\nimport FeedModalList, { FeedModalListProps } from './FeedModalList';\nimport { FeedLikeButton } from './FeedLikeButton';\nimport { FeedPostProps } from './FeedPost.types';\n\nregisterIcon(arrowMicroDownIcon, caretLeftIcon);\n\nconst defaultProps: Partial<FeedPostProps> = {\n  info: {\n    avatarSrc: '',\n    fullname: '',\n    username: '',\n    timeElapsed: '',\n    content: ''\n  }\n};\n\nexport const StyledFeedPost = styled.div(\n  ({ theme }) => css`\n    ${StyledFeedReplyContainer}:not(:last-child) {\n      margin-block-end: calc(2 * ${theme.base.spacing});\n    }\n  `\n);\n\nStyledFeedPost.defaultProps = defaultThemeProp;\n\nexport const StyledPostEdit = styled.div(\n  ({ theme }) => css`\n    ${StyledRichTextEditor} {\n      padding: calc(0.5 * ${theme.base.spacing});\n    }\n  `\n);\n\nStyledPostEdit.defaultProps = defaultThemeProp;\n\nexport const StyledReplies = styled.div(\n  ({ theme }) => css`\n    border-top: 0.0625rem solid ${theme.base.palette['border-line']};\n    padding: calc(1.25 * ${theme.base.spacing}) calc(2 * ${theme.base.spacing});\n  `\n);\n\nStyledReplies.defaultProps = defaultThemeProp;\n\nexport const StyledPostFooter = styled.div(\n  ({ theme }) => css`\n    margin-block-start: ${theme.base.spacing};\n  `\n);\n\nStyledPostFooter.defaultProps = defaultThemeProp;\n\nconst FullWidthSummaryItem = styled.div`\n  width: 100%;\n\n  ${StyledVisual} {\n    align-self: start;\n  }\n`;\n\nconst FeedPost: FC<ForwardProps & FeedPostProps> = (props: ForwardProps & FeedPostProps) => {\n  const {\n    id,\n    info,\n    interactionInfo,\n    maxContentHeight = Infinity,\n    onMouseEnter,\n    onMouseLeave,\n    onCommentClick,\n    onLikeClick,\n    onLikeCountInteraction,\n    onLoadMoreLikes,\n    onRecipientInteraction,\n    onLoadMoreRecipients,\n    onUserClick,\n    onShowMoreClick,\n    newReplyField,\n    menuItems,\n    onEditSubmit,\n    edited = false,\n    replies = [],\n    replyInput,\n    replyInputShown,\n    replyCount,\n    repliesLoading,\n    onShowLessReplies,\n    onShowMoreReplies,\n    ...restProps\n  } = props;\n  const {\n    avatarSrc,\n    fullname,\n    username,\n    timeElapsed,\n    content,\n    postType = 'public',\n    recipients = [],\n    recipientsCount = 0,\n    attachments,\n    liked,\n    icon,\n    postContext,\n    userStatus\n  } = info;\n  const { commentLabel, interactionsEnabled = true } = interactionInfo;\n  const { announce, userInfo: loggedInUser } = useContext(FeedContext);\n\n  const t = useI18n();\n  const { locale } = useConfiguration();\n  const rteRef = useRef<RichTextEditorState>();\n  const [editMode, setEditMode] = useState(false);\n  const editTextAreaRef = useRef<HTMLDivElement>(null);\n  const [emptyEditText, setEmptyEditText] = useState(false);\n  const [postModified, setPostModified] = useState(false);\n  const [replyInputOpen, setReplyInputOpen] = useState(false);\n  const [replyInputRef, setReplyInputRef] = useState<MutableRefObject<\n    RichTextEditorState | undefined\n  > | null>(null);\n  const { create } = useContext(ModalManagerContext);\n  const recipientsModalRef = useRef<ModalMethods<FeedModalListProps>>();\n  const prevReplies = usePrevious(replies);\n  const suppressNextAnnouncement = useRef(false);\n\n  useEffect(() => {\n    if (recipients.length) {\n      recipientsModalRef.current?.update({\n        count: recipientsCount,\n        heading: t('feed_recipients'),\n        listItems: recipients as SummaryListItem[],\n        onLoadMore: onLoadMoreRecipients\n      });\n    }\n  }, [recipientsCount, recipients, onLoadMoreRecipients]);\n\n  useOuterEvent('mousedown', [editTextAreaRef], () => {\n    if (emptyEditText) setEditMode(false);\n  });\n\n  useEffect(() => {\n    if ((replyInputOpen || replyInputShown) && replyInputRef) {\n      replyInputRef.current?.focus();\n    }\n  }, [replyInputOpen, replyInputShown, replyInputRef]);\n\n  const userVisual = icon ? (\n    <Icon name={icon} />\n  ) : (\n    <Avatar name={fullname} size='l' imageSrc={avatarSrc} status={userStatus} />\n  );\n\n  const numReplies = replyCount || replies?.length;\n\n  const postTypeAttributes = useMemo(() => {\n    if (postType === 'private') {\n      const recipientsList = recipients.map(x => x.primary);\n      return {\n        icon: 'users-solid',\n        ariaLabel: `${t('feed_private_post')} t('feed_recipients')} ${formatListToLocaleString(\n          recipientsList,\n          t,\n          locale,\n          { count: recipientsCount }\n        )}`,\n        label: formatListToLocaleString(recipientsList, t, locale, {\n          count: recipientsCount,\n          separator: '\\n'\n        })\n      };\n    }\n\n    return {\n      icon: 'globe',\n      ariaLabel: t('feed_public_post'),\n      label: t('feed_public_post')\n    };\n  }, [postType, recipients, recipientsCount]);\n\n  const handleEdit = () => {\n    if (!emptyEditText && postModified) {\n      onEditSubmit?.({\n        postId: id,\n        value: rteRef.current?.getPlainText() || ''\n      });\n      setEditMode(false);\n    }\n  };\n\n  useEffect(() => {\n    if (prevReplies) {\n      const difference = prevReplies.length - replies.length;\n      if (difference > 0 && !suppressNextAnnouncement.current) {\n        announce(t('feed_reply_removed'));\n      } else {\n        suppressNextAnnouncement.current = false;\n      }\n    }\n  }, [replies]);\n\n  return (\n    <FeedReplyContext.Provider value={{ onShowReplyInput: () => setReplyInputOpen(true) }}>\n      <Card\n        {...restProps}\n        as={StyledFeedPost}\n        onMouseEnter={() => {\n          onMouseEnter?.({ postId: id });\n        }}\n        onMouseLeave={() => {\n          onMouseLeave?.({ postId: id });\n        }}\n      >\n        <CardHeader>\n          <SummaryItem\n            as={FullWidthSummaryItem}\n            visual={\n              onUserClick ? (\n                <BareButton\n                  onClick={(event: MouseEvent) => {\n                    onUserClick?.({ postId: id, username }, event);\n                  }}\n                >\n                  {userVisual}\n                </BareButton>\n              ) : (\n                userVisual\n              )\n            }\n            primary={\n              <div>\n                {onUserClick ? (\n                  <Button\n                    variant='text'\n                    onClick={(event: MouseEvent) => {\n                      onUserClick?.({ postId: id, username }, event);\n                    }}\n                  >\n                    <Text variant='h3'>{fullname}</Text>\n                  </Button>\n                ) : (\n                  <Text variant='h3'>{fullname}</Text>\n                )}\n                {postContext && <Text variant='primary'> {t('feed_context', [postContext])}</Text>}\n              </div>\n            }\n            secondary={\n              <Flex container={{ gap: 1, alignItems: 'center' }}>\n                <Button\n                  variant='text'\n                  icon\n                  onClick={\n                    recipients.length\n                      ? () => {\n                          if (recipientsCount > 10) {\n                            recipientsModalRef.current = create(FeedModalList, {\n                              count: recipientsCount,\n                              heading: t('feed_recipients'),\n                              listItems: recipients as SummaryListItem[],\n                              onLoadMore: onLoadMoreRecipients\n                            });\n                          }\n                        }\n                      : onRecipientInteraction\n                  }\n                  onFocus={onRecipientInteraction}\n                  onMouseOver={onRecipientInteraction}\n                  aria-label={postTypeAttributes.ariaLabel}\n                  label={postTypeAttributes.label}\n                >\n                  <Icon name={postTypeAttributes.icon} />\n                </Button>\n                <MetaList items={edited ? [timeElapsed, t('edited')] : [timeElapsed]} />\n              </Flex>\n            }\n            actions={\n              menuItems ? (\n                <MenuButton\n                  text='More'\n                  menu={{\n                    items:\n                      onEditSubmit &&\n                      typeof content === 'string' &&\n                      username === loggedInUser.username\n                        ? menuItems.concat([\n                            {\n                              primary: t('edit'),\n                              id: 'edit',\n                              onClick: () => setEditMode(true)\n                            }\n                          ])\n                        : menuItems\n                  }}\n                  icon='more'\n                  iconOnly\n                  variant='simple'\n                />\n              ) : undefined\n            }\n          />\n        </CardHeader>\n        <CardContent>\n          {editMode ? (\n            <>\n              <StyledPostEdit ref={editTextAreaRef}>\n                <FeedRichText\n                  onChange={() => {\n                    setEmptyEditText(rteRef.current?.getPlainText().trim() === '');\n                    setPostModified(rteRef.current?.getPlainText() !== content);\n                  }}\n                  autoFocus\n                  label={t('feed_edit_post')}\n                  labelHidden\n                  onSubmit={handleEdit}\n                  defaultValue={content}\n                  ref={rteRef}\n                />\n              </StyledPostEdit>\n              <Flex container={{ justify: 'between', pad: [2, 0, 0] }}>\n                <Button\n                  onClick={() => setEditMode(false)}\n                  aria-label={`${t('cancel')} ${t('edit')} ${id}`}\n                >\n                  {t('cancel')}\n                </Button>\n                <Button\n                  variant='primary'\n                  disabled={emptyEditText || !postModified}\n                  onClick={handleEdit}\n                  aria-label={`${t('update')} ${t('edit')} ${id}`}\n                >\n                  {t('update')}\n                </Button>\n              </Flex>\n            </>\n          ) : (\n            <FeedContent maxContentHeight={maxContentHeight}>{content}</FeedContent>\n          )}\n          <FeedAttachments attachments={attachments} readOnly />\n          <Flex as={StyledPostFooter} container={{ justify: 'between', wrap: 'wrap', gap: 1 }}>\n            {interactionsEnabled ? (\n              <Flex container={{ gap: 2 }}>\n                <Button\n                  variant='text'\n                  as={FeedButton}\n                  onClick={() => {\n                    onCommentClick?.({ postId: id });\n                    if (!replyInputOpen) {\n                      setReplyInputOpen(true);\n                    }\n                  }}\n                >\n                  <Icon name='chat' />\n                  <Text>{commentLabel}</Text>\n                  {numReplies > 0 && <Count>{numReplies}</Count>}\n                </Button>\n                <FeedLikeButton\n                  id={id}\n                  variant='post'\n                  onLikeClick={onLikeClick}\n                  onLikeCountInteraction={onLikeCountInteraction}\n                  onLoadMoreLikes={onLoadMoreLikes}\n                  liked={liked}\n                  showText\n                  {...interactionInfo}\n                />\n              </Flex>\n            ) : (\n              <div />\n            )}\n            {(onShowLessReplies || onShowMoreReplies) && (\n              <Flex container={{ gap: 0.5 }}>\n                {replies.length !== numReplies && (\n                  <>\n                    <Text>{t('showing_num_of_num', [replies.length, numReplies])}</Text>\n                    <span>&bull;</span>\n                  </>\n                )}\n                {onShowMoreReplies && replies.length < numReplies && (\n                  <Button variant='link' onClick={() => onShowMoreReplies({ postId: id })}>\n                    {t('show_more')}\n                  </Button>\n                )}\n                {repliesLoading && <Progress placement='inline' />}\n              </Flex>\n            )}\n          </Flex>\n        </CardContent>\n        {!!replies?.length && <StyledReplies>{replies}</StyledReplies>}\n        {replyInputShown || replyInputOpen ? (\n          <CardContent>\n            <FeedReplyInput\n              onSetInputRef={({ ref }) => {\n                setReplyInputRef(ref);\n              }}\n              id={id}\n              commentLabel={replyInput.commentLabel}\n              attachments={replyInput.attachments}\n              placeholder={replyInput.placeholder}\n              onFilesAdded={replyInput.onFilesAdded}\n              onSubmit={e => {\n                setReplyInputOpen(false);\n                replyInput.onSubmit(e);\n              }}\n            />\n          </CardContent>\n        ) : null}\n        {onShowLessReplies && !!replies.length && (\n          <Flex container={{ justify: 'center', pad: [0, 0, 1], gap: 1 }}>\n            <Button\n              variant='link'\n              onClick={() => {\n                onShowLessReplies({ postId: id });\n                suppressNextAnnouncement.current = true;\n              }}\n            >\n              {t('show_less')}\n            </Button>\n            {repliesLoading && <Progress placement='inline' />}\n          </Flex>\n        )}\n      </Card>\n    </FeedReplyContext.Provider>\n  );\n};\n\nFeedPost.defaultProps = defaultProps;\n\nexport default FeedPost;\n","import { FC, useContext, MouseEvent, useState, useRef, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Avatar,\n  Button,\n  Flex,\n  Icon,\n  registerIcon,\n  MenuButton,\n  defaultThemeProp,\n  ForwardProps,\n  MetaList,\n  useI18n,\n  useOuterEvent,\n  ModalMethods\n} from '@pega/cosmos-react-core';\nimport { StyledAvatar } from '@pega/cosmos-react-core/lib/components/Avatar/Avatar';\nimport BareButton from '@pega/cosmos-react-core/lib/components/Button/BareButton';\nimport { RichTextEditorState, StyledRichTextEditor } from '@pega/cosmos-react-rte';\nimport * as chatIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/chat.icon';\nimport * as thumbsUpSolidIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/thumbs-up-solid.icon';\nimport * as thumbsUpIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/thumbs-up.icon';\n\nimport { FeedReplyProps } from './FeedReply.types';\nimport FeedAttachments from './FeedAttachments';\nimport FeedButton from './FeedButton';\nimport FeedContent from './FeedContent';\nimport { FeedContext, FeedReplyContext } from './Feed.context';\nimport FeedRichText from './FeedRichText';\nimport { StyledFeedReply } from './FeedReplyInput';\nimport { FeedModalListProps } from './FeedModalList';\nimport { FeedLikeButton } from './FeedLikeButton';\n\nregisterIcon(chatIcon, thumbsUpSolidIcon, thumbsUpIcon);\n\nexport const StyledFeedReplyContent = styled.div(props => {\n  const { theme } = props;\n\n  return css`\n    background-color: ${theme.base.palette['secondary-background']};\n    border-radius: calc(2 * ${theme.base['border-radius']});\n    padding: calc(1.5 * ${theme.base.spacing});\n  `;\n});\n\nStyledFeedReplyContent.defaultProps = defaultThemeProp;\n\nexport const StyledFeedReplyUser = styled.button(props => {\n  const { theme } = props;\n\n  return css`\n    font-weight: ${theme.base['font-weight']['semi-bold']};\n    margin-inline-end: ${theme.base.spacing};\n  `;\n});\n\nStyledFeedReplyUser.defaultProps = defaultThemeProp;\n\nexport const StyledVisualButton = styled.button`\n  height: min-content;\n`;\n\nexport const StyledFeedReplyContainer = styled.div(props => {\n  const { theme } = props;\n\n  return css`\n    ${StyledAvatar} {\n      margin-inline-end: ${theme.base.spacing};\n    }\n\n    ${StyledFeedReplyContent} {\n      margin-bottom: calc(0.5 * ${theme.base.spacing});\n    }\n\n    ${StyledFeedReply} {\n      &:focus-within {\n        border-color: ${theme.base.palette.interactive};\n      }\n    }\n\n    ${StyledRichTextEditor} {\n      padding-top: calc(0.5 * ${theme.base.spacing});\n      padding-bottom: ${theme.base.spacing};\n\n      &:focus-within {\n        box-shadow: none;\n      }\n    }\n  `;\n});\n\nStyledFeedReplyContainer.defaultProps = defaultThemeProp;\n\nconst FeedReply: FC<ForwardProps & FeedReplyProps> = (props: ForwardProps & FeedReplyProps) => {\n  const {\n    id,\n    info,\n    interactionInfo,\n    maxContentHeight = Infinity,\n    menuItems,\n    onEditSubmit,\n    edited = false,\n    onMouseEnter,\n    onMouseLeave,\n    onCommentClick,\n    onLikeClick,\n    onLikeCountInteraction,\n    onLoadMoreLikes,\n    onUserClick,\n    ...restProps\n  } = props;\n  const {\n    avatarSrc,\n    timeElapsed,\n    content,\n    attachments,\n    username,\n    fullname,\n    fullnameLabel,\n    liked,\n    icon,\n    userStatus\n  } = info;\n  const {\n    likes = [],\n    likeCount = 0,\n    likeLabel,\n    commentLabel,\n    interactionsEnabled = true\n  } = interactionInfo;\n  const loggedInUser = useContext(FeedContext).userInfo;\n\n  const t = useI18n();\n  const rteRef = useRef<RichTextEditorState>();\n  const [editMode, setEditMode] = useState(false);\n  const editTextAreaRef = useRef<HTMLDivElement>(null);\n  const [emptyEditText, setEmptyEditText] = useState(false);\n  const [replyModified, setReplyModified] = useState(false);\n  const { onShowReplyInput } = useContext(FeedReplyContext);\n  const likesModalRef = useRef<ModalMethods<FeedModalListProps>>();\n\n  useEffect(() => {\n    likesModalRef.current?.update({\n      count: likeCount,\n      heading: likeLabel,\n      listItems: likes,\n      onLoadMore: onLoadMoreLikes\n    });\n  }, [likeCount, likeLabel, likes, onLoadMoreLikes]);\n\n  useOuterEvent('mousedown', [editTextAreaRef], () => {\n    if (emptyEditText) setEditMode(false);\n  });\n\n  const handleEdit = () => {\n    if (!emptyEditText && replyModified) {\n      onEditSubmit?.({\n        replyId: id,\n        value: rteRef.current?.getPlainText() || ''\n      });\n      setEditMode(false);\n    }\n  };\n\n  const userVisual = icon ? (\n    <Icon name={icon} />\n  ) : (\n    <Avatar name={fullname} size='m' imageSrc={avatarSrc} status={userStatus} />\n  );\n\n  return (\n    <Flex\n      container\n      as={StyledFeedReplyContainer}\n      onMouseEnter={() => {\n        onMouseEnter?.({ replyId: id });\n      }}\n      onMouseLeave={() => {\n        onMouseLeave?.({ replyId: id });\n      }}\n      {...restProps}\n    >\n      {onUserClick ? (\n        <BareButton\n          as={StyledVisualButton}\n          onClick={(event: MouseEvent) => {\n            onUserClick?.({ replyId: id, username }, event);\n          }}\n        >\n          {userVisual}\n        </BareButton>\n      ) : (\n        userVisual\n      )}\n      <Flex container={{ direction: 'column' }} item={{ grow: 1 }}>\n        {editMode ? (\n          <>\n            <StyledFeedReply>\n              <FeedRichText\n                onChange={() => {\n                  setEmptyEditText(rteRef.current?.getPlainText().trim() === '');\n                  setReplyModified(rteRef.current?.getPlainText() !== content);\n                }}\n                autoFocus\n                onSubmit={handleEdit}\n                defaultValue={content}\n                ref={rteRef}\n              />\n            </StyledFeedReply>\n            <Flex container={{ justify: 'between', pad: [2, 0, 1] }}>\n              <Button\n                onClick={() => setEditMode(false)}\n                aria-label={`${t('cancel')} ${t('edit')} ${id}`}\n              >\n                {t('cancel')}\n              </Button>\n              <Button\n                variant='primary'\n                disabled={emptyEditText || !replyModified}\n                onClick={handleEdit}\n                aria-label={`${t('update')} ${t('edit')} ${id}`}\n              >\n                {t('update')}\n              </Button>\n            </Flex>\n          </>\n        ) : (\n          <Flex container={{ gap: 1, alignItems: 'center' }} item={{ grow: 1 }}>\n            <Flex item={{ grow: 1 }} as={StyledFeedReplyContent}>\n              <Flex container={{ direction: 'column', gap: 0.5 }}>\n                <div>\n                  <Button\n                    as={StyledFeedReplyUser}\n                    variant='text'\n                    onClick={(event: MouseEvent) => {\n                      onUserClick?.({ replyId: id, username }, event);\n                    }}\n                    aria-label={fullnameLabel}\n                  >\n                    {fullname}\n                  </Button>\n                </div>\n                <FeedContent maxContentHeight={maxContentHeight}>{content}</FeedContent>\n              </Flex>\n              <FeedAttachments attachments={attachments} readOnly />\n            </Flex>\n            {menuItems ? (\n              <MenuButton\n                text='More'\n                menu={{\n                  items:\n                    onEditSubmit &&\n                    typeof content === 'string' &&\n                    username === loggedInUser.username\n                      ? menuItems.concat([\n                          {\n                            primary: t('edit'),\n                            id: 'edit',\n                            onClick: () => setEditMode(true)\n                          }\n                        ])\n                      : menuItems\n                }}\n                icon='more'\n                iconOnly\n                variant='simple'\n              />\n            ) : undefined}\n          </Flex>\n        )}\n\n        <Flex container={{ alignItems: 'center', gap: 2 }}>\n          {interactionsEnabled && (\n            <>\n              <Button\n                variant='text'\n                icon\n                as={FeedButton}\n                onClick={() => {\n                  onCommentClick({ replyId: id, username });\n                  onShowReplyInput?.();\n                }}\n                label={commentLabel}\n              >\n                <Icon name='chat' />\n              </Button>\n              <FeedLikeButton\n                {...interactionInfo}\n                variant='reply'\n                id={id}\n                onLikeClick={onLikeClick}\n                onLikeCountInteraction={onLikeCountInteraction}\n                onLoadMoreLikes={onLoadMoreLikes}\n                liked={liked}\n              />\n            </>\n          )}\n          <MetaList items={edited ? [timeElapsed, t('edited')] : [timeElapsed]} />\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default FeedReply;\n","import { FC, useRef, useState, useEffect, MutableRefObject, MouseEvent, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Avatar,\n  Button,\n  StyledAvatar,\n  Flex,\n  Icon,\n  registerIcon,\n  defaultThemeProp,\n  ForwardProps,\n  useI18n\n} from '@pega/cosmos-react-core';\nimport { RichTextEditorState, StyledRichTextEditor } from '@pega/cosmos-react-rte';\nimport * as sendIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/send.icon';\nimport * as paperClipIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/paper-clip.icon';\n\nimport FeedRichText from './FeedRichText';\nimport FeedButton from './FeedButton';\nimport FeedAttachments, { AttachedFiles } from './FeedAttachments';\nimport { FeedContext } from './Feed.context';\n\nregisterIcon(sendIcon, paperClipIcon);\n\nexport interface FeedReplyInputProps {\n  /** Unique ID for this Reply Input  */\n  id: string;\n  /** Label text for the reply submit button. */\n  commentLabel: string;\n  /** A set of attachment files. */\n  attachments?: AttachedFiles[];\n  /** Placeholder string for the input */\n  placeholder: string;\n  /** A callback containing a list of added files that will run whenever files are added to the post. */\n  onFilesAdded?: (files: AttachedFiles[]) => void;\n  /** Callback that runs when the submit button has been pressed */\n  onSubmit: (event: {\n    replyId: string;\n    value: string;\n    attachments: AttachedFiles[];\n    clear: () => void;\n  }) => void;\n  /** Callback that sets returns a shared ref to the RTE component */\n  onSetInputRef?: (event: { ref: MutableRefObject<RichTextEditorState | undefined> }) => void;\n}\n\nexport const StyledReplyInputContainer = styled.div(props => {\n  const { theme } = props;\n\n  return css`\n    ${StyledAvatar} {\n      margin-inline-end: ${theme.base.spacing};\n    }\n  `;\n});\n\nStyledReplyInputContainer.defaultProps = defaultThemeProp;\n\nexport const StyledFeedReply = styled.div(props => {\n  const { theme } = props;\n\n  return css`\n    border: 0.0625rem solid ${theme.base.palette['border-line']};\n    border-radius: calc(2.5 * ${theme.base['border-radius']});\n    padding: 0 calc(2 * ${theme.base.spacing});\n    cursor: text;\n  `;\n});\n\nStyledFeedReply.defaultProps = defaultThemeProp;\n\nconst StyledFeedReplyInput = styled.div(props => {\n  const { theme } = props;\n\n  return css`\n    padding-top: calc(0.5 * ${theme.base.spacing});\n    padding-bottom: calc(0.5 * ${theme.base.spacing});\n\n    ${StyledRichTextEditor} {\n      &:focus-within {\n        box-shadow: none;\n      }\n    }\n  `;\n});\n\nStyledFeedReplyInput.defaultProps = defaultThemeProp;\n\nconst HiddenFileInput = styled.input`\n  display: none;\n`;\n\nconst ReplyFeedButton = styled.button`\n  align-items: start;\n`;\n\nconst FeedReplyInput: FC<ForwardProps & FeedReplyInputProps> = (\n  props: ForwardProps & FeedReplyInputProps\n) => {\n  const rteRef = useRef<RichTextEditorState>();\n  const {\n    id,\n    commentLabel,\n    attachments = [],\n    placeholder,\n    onAddAttachment,\n    onSubmit,\n    onSetInputRef,\n    onFilesAdded,\n    ...restProps\n  } = props;\n\n  const [emptyText, setEmptyText] = useState(true);\n  const hiddenInputRef = useRef<HTMLInputElement>(null);\n  const attachmentListRef = useRef<HTMLUListElement>(null);\n  const attachmentsButtonRef = useRef<HTMLButtonElement>(null);\n  const submitButtonRef = useRef<HTMLButtonElement>(null);\n  const { setShowSearchResults } = useContext(FeedContext);\n  const { avatarSrc, fullname } = useContext(FeedContext).userInfo;\n\n  useEffect(() => {\n    onSetInputRef?.({ ref: rteRef });\n  }, [rteRef]);\n\n  const t = useI18n();\n\n  const handleSubmit = () => {\n    setShowSearchResults?.(false);\n    if (!emptyText || attachments.length > 0) {\n      onSubmit({\n        replyId: id,\n        value: rteRef.current?.getPlainText() || '',\n        attachments: attachments || [],\n        clear: () => {\n          rteRef.current?.clear();\n        }\n      });\n    }\n  };\n\n  return (\n    <Flex container as={StyledReplyInputContainer} {...restProps}>\n      <Avatar name={fullname} size='m' imageSrc={avatarSrc} />\n      <Flex\n        container={{ alignItems: 'start' }}\n        item={{ grow: 1 }}\n        as={StyledFeedReply}\n        onClick={(event: MouseEvent) => {\n          if (\n            attachmentListRef.current &&\n            event.target !== attachmentListRef.current &&\n            attachmentListRef.current.contains(event.target as Node)\n          ) {\n            return;\n          }\n\n          if (\n            attachmentsButtonRef.current?.contains(event.target as Node) ||\n            submitButtonRef.current?.contains(event.target as Node)\n          ) {\n            return;\n          }\n\n          rteRef.current?.focus();\n        }}\n      >\n        <Flex as={StyledFeedReplyInput} container={{ direction: 'column' }} item={{ grow: 1 }}>\n          <FeedRichText\n            ref={rteRef}\n            placeholder={placeholder}\n            onChange={() => {\n              setEmptyText(rteRef.current?.getPlainText().trim() === '');\n            }}\n            onSubmit={handleSubmit}\n          />\n          <FeedAttachments ref={attachmentListRef} attachments={attachments} />\n        </Flex>\n        {onFilesAdded && (\n          <>\n            <HiddenFileInput\n              ref={hiddenInputRef}\n              type='file'\n              multiple\n              onChange={() => {\n                if (hiddenInputRef.current?.files) {\n                  onFilesAdded?.(Array.from(hiddenInputRef.current?.files));\n                }\n              }}\n              // Must trick input to believe there is no value when activated so that the same file may be added consecutively.\n              onClick={(event: MouseEvent) => {\n                (event.target as HTMLInputElement).value = '';\n              }}\n            />\n            <Button\n              ref={attachmentsButtonRef}\n              as={FeedButton}\n              variant='simple'\n              forwardedAs={ReplyFeedButton}\n              onClick={() => {\n                setShowSearchResults?.(false);\n                hiddenInputRef.current?.click();\n              }}\n              icon\n              label={\n                attachments.length\n                  ? t('attachments_count', [], { count: 1 }).toUpperCase()\n                  : t('file_upload_text_multiple')\n              }\n            >\n              <Icon name='paper-clip' />\n            </Button>\n          </>\n        )}\n        <Button\n          ref={submitButtonRef}\n          as={FeedButton}\n          disabled={emptyText && attachments.length === 0}\n          variant='simple'\n          forwardedAs={ReplyFeedButton}\n          onClick={handleSubmit}\n          icon\n          label={commentLabel}\n        >\n          <Icon name='send' />\n        </Button>\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default FeedReplyInput;\n","import isPlainObject from 'is-plain-object'\nimport { Operation } from 'slate'\n\n/**\n * `History` objects hold all of the operations that are applied to a value, so\n * they can be undone or redone as necessary.\n */\n\nexport interface History {\n  redos: Operation[][]\n  undos: Operation[][]\n}\n\nexport const History = {\n  /**\n   * Check if a value is a `History` object.\n   */\n\n  isHistory(value: any): value is History {\n    return (\n      isPlainObject(value) &&\n      Array.isArray(value.redos) &&\n      Array.isArray(value.undos) &&\n      (value.redos.length === 0 || Operation.isOperationList(value.redos[0])) &&\n      (value.undos.length === 0 || Operation.isOperationList(value.undos[0]))\n    )\n  },\n}\n","import { BaseEditor, Editor } from 'slate'\nimport { History } from './history'\n\n/**\n * Weakmaps for attaching state to the editor.\n */\n\nexport const HISTORY = new WeakMap<Editor, History>()\nexport const SAVING = new WeakMap<Editor, boolean | undefined>()\nexport const MERGING = new WeakMap<Editor, boolean | undefined>()\n\n/**\n * `HistoryEditor` contains helpers for history-enabled editors.\n */\n\nexport interface HistoryEditor extends BaseEditor {\n  history: History\n  undo: () => void\n  redo: () => void\n}\n\nexport const HistoryEditor = {\n  /**\n   * Check if a value is a `HistoryEditor` object.\n   */\n\n  isHistoryEditor(value: any): value is HistoryEditor {\n    return History.isHistory(value.history) && Editor.isEditor(value)\n  },\n\n  /**\n   * Get the merge flag's current value.\n   */\n\n  isMerging(editor: HistoryEditor): boolean | undefined {\n    return MERGING.get(editor)\n  },\n\n  /**\n   * Get the saving flag's current value.\n   */\n\n  isSaving(editor: HistoryEditor): boolean | undefined {\n    return SAVING.get(editor)\n  },\n\n  /**\n   * Redo to the previous saved state.\n   */\n\n  redo(editor: HistoryEditor): void {\n    editor.redo()\n  },\n\n  /**\n   * Undo to the previous saved state.\n   */\n\n  undo(editor: HistoryEditor): void {\n    editor.undo()\n  },\n\n  /**\n   * Apply a series of changes inside a synchronous `fn`, without merging any of\n   * the new operations into previous save point in the history.\n   */\n\n  withoutMerging(editor: HistoryEditor, fn: () => void): void {\n    const prev = HistoryEditor.isMerging(editor)\n    MERGING.set(editor, false)\n    fn()\n    MERGING.set(editor, prev)\n  },\n\n  /**\n   * Apply a series of changes inside a synchronous `fn`, without saving any of\n   * their operations into the history.\n   */\n\n  withoutSaving(editor: HistoryEditor, fn: () => void): void {\n    const prev = HistoryEditor.isSaving(editor)\n    SAVING.set(editor, false)\n    fn()\n    SAVING.set(editor, prev)\n  },\n}\n","import { Editor, Operation, Path } from 'slate'\n\nimport { HistoryEditor } from './history-editor'\n\n/**\n * The `withHistory` plugin keeps track of the operation history of a Slate\n * editor as operations are applied to it, using undo and redo stacks.\n *\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\n * this plugin.\n *\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\n */\n\nexport const withHistory = <T extends Editor>(editor: T) => {\n  const e = editor as T & HistoryEditor\n  const { apply } = e\n  e.history = { undos: [], redos: [] }\n\n  e.redo = () => {\n    const { history } = e\n    const { redos } = history\n\n    if (redos.length > 0) {\n      const batch = redos[redos.length - 1]\n\n      HistoryEditor.withoutSaving(e, () => {\n        Editor.withoutNormalizing(e, () => {\n          for (const op of batch) {\n            e.apply(op)\n          }\n        })\n      })\n\n      history.redos.pop()\n      history.undos.push(batch)\n    }\n  }\n\n  e.undo = () => {\n    const { history } = e\n    const { undos } = history\n\n    if (undos.length > 0) {\n      const batch = undos[undos.length - 1]\n\n      HistoryEditor.withoutSaving(e, () => {\n        Editor.withoutNormalizing(e, () => {\n          const inverseOps = batch.map(Operation.inverse).reverse()\n\n          for (const op of inverseOps) {\n            e.apply(op)\n          }\n        })\n      })\n\n      history.redos.push(batch)\n      history.undos.pop()\n    }\n  }\n\n  e.apply = (op: Operation) => {\n    const { operations, history } = e\n    const { undos } = history\n    const lastBatch = undos[undos.length - 1]\n    const lastOp = lastBatch && lastBatch[lastBatch.length - 1]\n    const overwrite = shouldOverwrite(op, lastOp)\n    let save = HistoryEditor.isSaving(e)\n    let merge = HistoryEditor.isMerging(e)\n\n    if (save == null) {\n      save = shouldSave(op, lastOp)\n    }\n\n    if (save) {\n      if (merge == null) {\n        if (lastBatch == null) {\n          merge = false\n        } else if (operations.length !== 0) {\n          merge = true\n        } else {\n          merge = shouldMerge(op, lastOp) || overwrite\n        }\n      }\n\n      if (lastBatch && merge) {\n        if (overwrite) {\n          lastBatch.pop()\n        }\n\n        lastBatch.push(op)\n      } else {\n        const batch = [op]\n        undos.push(batch)\n      }\n\n      while (undos.length > 100) {\n        undos.shift()\n      }\n\n      if (shouldClear(op)) {\n        history.redos = []\n      }\n    }\n\n    apply(op)\n  }\n\n  return e\n}\n\n/**\n * Check whether to merge an operation into the previous operation.\n */\n\nconst shouldMerge = (op: Operation, prev: Operation | undefined): boolean => {\n  if (op.type === 'set_selection') {\n    return true\n  }\n\n  if (\n    prev &&\n    op.type === 'insert_text' &&\n    prev.type === 'insert_text' &&\n    op.offset === prev.offset + prev.text.length &&\n    Path.equals(op.path, prev.path)\n  ) {\n    return true\n  }\n\n  if (\n    prev &&\n    op.type === 'remove_text' &&\n    prev.type === 'remove_text' &&\n    op.offset + op.text.length === prev.offset &&\n    Path.equals(op.path, prev.path)\n  ) {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Check whether an operation needs to be saved to the history.\n */\n\nconst shouldSave = (op: Operation, prev: Operation | undefined): boolean => {\n  if (\n    op.type === 'set_selection' &&\n    (op.properties == null || op.newProperties == null)\n  ) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Check whether an operation should overwrite the previous one.\n */\n\nconst shouldOverwrite = (\n  op: Operation,\n  prev: Operation | undefined\n): boolean => {\n  if (prev && op.type === 'set_selection' && prev.type === 'set_selection') {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Check whether an operation should clear the redos stack.\n */\n\nconst shouldClear = (op: Operation): boolean => {\n  if (op.type === 'set_selection') {\n    return false\n  }\n\n  return true\n}\n","export const LIST_TYPES = ['unordered-list', 'ordered-list'];\nexport const TEXT_TYPES = ['paragraph', 'header-1', 'header-2', 'header-3', 'header-4'];\n","import { KeyboardEvent } from 'react';\nimport { Editor, Node, Element, Path, Transforms, CosmosCustom, Text, NodeEntry } from 'slate';\n\nimport { createUID } from '@pega/cosmos-react-core';\n\nimport { LIST_TYPES, TEXT_TYPES } from './utils.types';\n\ntype FullListItemElement = CosmosCustom.ListItemElement & {\n  id: string;\n  parentId: string;\n  order: number;\n  level: number;\n};\n\nconst matchList = (n: Node): n is CosmosCustom.ListElement =>\n  Element.isElement(n) && LIST_TYPES.includes(n.type);\n\nconst matchListItem = (n: Node): n is CosmosCustom.ListItemElement =>\n  Element.isElement(n) && n.type === 'list-item';\n\nconst getNextPathBelow = (path: Path) => {\n  path[path.length - 1] = path[path.length - 1] + 1;\n  return path;\n};\n\nconst commands = {\n  toggleList: (type: 'unordered-list' | 'ordered-list', editor: Editor) => {\n    const [listItemInSelection] = Editor.nodes(editor, {\n      at: editor.selection?.anchor.path || undefined,\n      match: matchListItem\n    });\n\n    if (!listItemInSelection) {\n      Transforms.wrapNodes(editor, { type, children: [] });\n      Transforms.wrapNodes(editor, {\n        type: 'list-item',\n        order: 1,\n        level: 1,\n        id: createUID(),\n        children: []\n      });\n    } else {\n      Transforms.setNodes(editor, { type }, { match: matchList });\n    }\n  },\n  checkListEnter: (editor: Editor, event: KeyboardEvent<any>) => {\n    /* Gets the list item node at your selection in the lowest part of the tree.\n    Your selection could technically be in multiple list items in the tree because\n    the lists can be nested. That is what the mode: 'lowest' arg is for. */\n    const [listItemNodeEntry] = Editor.nodes(editor, {\n      at: editor.selection?.anchor.path || undefined,\n      match: matchListItem,\n      mode: 'lowest'\n    });\n\n    if (['Backspace', 'Enter'].includes(event.key) && listItemNodeEntry) {\n      const [listItemNode, listItemPath] = listItemNodeEntry;\n      // Getting the text node\n      const [[textNode]] = Editor.nodes(editor, {\n        at: editor.selection?.anchor.path || undefined,\n        match: Text.isText\n      });\n      // Getting the parent list-item node\n      const [[parentNode]] = Editor.nodes(editor, {\n        at: editor.selection || undefined,\n        match: matchListItem,\n        mode: 'highest'\n      });\n\n      let belowListItemPath;\n      try {\n        belowListItemPath = Path.next(listItemPath);\n      } catch {\n        belowListItemPath = undefined;\n      }\n\n      if (textNode.text !== '') {\n        // If the text node the selection is in is not empty, and the key that was pressed is Enter\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          const newId = createUID();\n          const copiedChildren: Element[] = [];\n          // If this list-item has another list nested inside of it\n          if (listItemNode.children.length === 2) {\n            // Copy the list nested inside\n            const copiedList = { ...listItemNode.children[1] } as CosmosCustom.ListElement;\n            // Add a new parentId to all the children in the list\n            copiedList.children = copiedList.children.map(node => {\n              return { ...node, parentId: newId };\n            });\n            copiedChildren.push(copiedList);\n            // Remove the list\n            Transforms.removeNodes(editor, { at: [...listItemPath, 1] });\n          }\n          /* Create a new list item with the copied children as it's children,\n          and insert it into the editor */\n          Transforms.insertNodes(editor, {\n            type: 'list-item',\n            order: listItemNode.order ? listItemNode.order + 1 : 0,\n            level: listItemNode.level ? listItemNode.level : 1,\n            id: newId,\n            parentId: parentNode.id,\n            children: [{ type: 'paragraph', children: [{ text: '' }] }, ...copiedChildren]\n          });\n          /* Nodes needs to be lifted one level higher because it will be inserted\n          into the list item itself rather than it's parent list */\n          Transforms.liftNodes<CosmosCustom.ListItemElement>(editor, {\n            match: n => matchListItem(n) && n.id === newId\n          });\n          const selectionPoint = { path: [...Path.next(listItemPath), 0, 0], offset: 0 };\n          // Set the selection to the new list item created\n          Transforms.setSelection(editor, { focus: selectionPoint, anchor: selectionPoint });\n        } else if (editor.selection?.anchor.offset === 0) {\n          commands.unNestList(editor);\n        }\n      } else if (parentNode && parentNode.children.length > 1) {\n        // Un nest this list item from it's parent\n        event.preventDefault();\n        commands.unNestList(editor);\n      } else if (belowListItemPath) {\n        // Break out of the list\n        event.preventDefault();\n        Transforms.unwrapNodes(editor, {\n          at: editor.selection?.anchor.path || undefined,\n          match: matchListItem\n        });\n        Transforms.liftNodes(editor);\n      }\n    }\n  },\n  nestList: (editor: Editor) => {\n    const [listItemNodeEntry] = Editor.nodes(editor, {\n      at: editor.selection?.anchor.path || undefined,\n      match: matchListItem,\n      mode: 'lowest'\n    });\n\n    let listType: `${'un' | ''}ordered-list` = 'unordered-list';\n    const [highestList] = Editor.nodes(editor, {\n      at: editor.selection?.anchor.path || undefined,\n      match: matchList,\n      mode: 'highest'\n    });\n\n    if (highestList) {\n      listType = highestList[0].type;\n    }\n\n    const [listItemNode, listItemPath] = (listItemNodeEntry as NodeEntry<FullListItemElement>) || [\n      undefined,\n      undefined\n    ];\n\n    // Try to find the path to the node above the selected list item\n    let abovePath;\n    try {\n      abovePath = Path.previous(listItemPath);\n    } catch {\n      abovePath = undefined;\n    }\n\n    // Only nest the list if there is a list item above the list item trying to be nested\n    if (listItemNode && abovePath && listItemNode.level < 3) {\n      // Get the list item and it's path from above the current list item\n      const [[aboveListItemNode, aboveListItemPath]] = Editor.nodes<CosmosCustom.ListItemElement>(\n        editor,\n        {\n          at: abovePath,\n          match: n => matchListItem(n) && n.level === listItemNode.level\n        }\n      );\n      // Gets the path for the text node above list-item\n      const [[, innerTextNodePath]] = Editor.nodes<CosmosCustom.TextElement>(editor, {\n        at: abovePath,\n        match: n => Element.isElement(n) && TEXT_TYPES.includes(n.type)\n      });\n\n      let copiedSubListNodes: CosmosCustom.ListItemElement[] = [];\n      const newListItemChildren = [listItemNode.children[0]];\n      if (listItemNode.children.length && listItemNode.children.length > 1) {\n        // Copy the item to be nested's sub list if it has one\n        const subList = listItemNode.children[1] as CosmosCustom.ListElement;\n        if (subList) {\n          copiedSubListNodes = [...subList.children];\n        }\n      }\n\n      // If the above list item has a sub list\n      if (aboveListItemNode.children.length > 1) {\n        // Get the list items in the sub list of the above list item\n        const { children } = aboveListItemNode.children[1] as CosmosCustom.ListElement;\n        // Gets the last list item in the above sub list\n        const [[parentSubListItem, parentSubListItemPath]] = Editor.nodes<FullListItemElement>(\n          editor,\n          {\n            at: aboveListItemPath,\n            match: n =>\n              matchListItem(n) &&\n              n.order === children.length &&\n              (n.level as number) - 1 === listItemNode.level\n          }\n        );\n\n        // Gets the path after the last list item in the above sub list\n        const nextParentSubListItemPath = Path.next(parentSubListItemPath);\n\n        /* Inserts a copy of the list-item you are nesting below the lowest list item\n        in the above sub list, as well as copies of any children the list-item you are\n        nesting had. */\n        let subOrderCount = parentSubListItem.order + 1;\n        Transforms.insertNodes(\n          editor,\n          [\n            {\n              ...listItemNode,\n              level: listItemNode.level + 1,\n              order: parentSubListItem.order + 1,\n              parentId: aboveListItemNode.id,\n              children: newListItemChildren\n            },\n            ...copiedSubListNodes.map(n => {\n              subOrderCount += 1;\n              return {\n                ...n,\n                level: listItemNode.level + 1,\n                order: subOrderCount,\n                parentId: aboveListItemNode.id\n              };\n            })\n          ],\n          { at: nextParentSubListItemPath }\n        );\n      } else {\n        const nextInnerTextNodePath = getNextPathBelow(innerTextNodePath);\n        // Nest the selected list item into a new list and then into the above list item\n        let subOrderCount = 1;\n        Transforms.insertNodes(\n          editor,\n          {\n            type: listType,\n            children: [\n              {\n                ...listItemNode,\n                order: 1,\n                level: listItemNode.level + 1,\n                parentId: aboveListItemNode.id,\n                children: newListItemChildren\n              },\n              ...copiedSubListNodes.map(n => {\n                subOrderCount += 1;\n                return {\n                  ...n,\n                  level: listItemNode.level + 1,\n                  order: subOrderCount,\n                  parentId: aboveListItemNode.id\n                };\n              })\n            ]\n          },\n          { at: nextInnerTextNodePath, mode: 'lowest' }\n        );\n      }\n\n      // Remove the old list item as we just copied it into the correct place\n      Transforms.removeNodes(editor, { at: listItemPath });\n    }\n  },\n  unNestList: (editor: Editor) => {\n    // Get the current node to be un nested\n    const [[node, nodePath]] = Editor.nodes<FullListItemElement>(editor, {\n      at: editor.selection?.anchor.path || undefined,\n      match: matchListItem,\n      mode: 'lowest'\n    });\n    const [singleItemList] = Editor.nodes<CosmosCustom.ListElement>(editor, {\n      match: n => matchList(n) && n.children.length === 1,\n      mode: 'highest'\n    });\n\n    if (singleItemList) {\n      Transforms.unwrapNodes(editor, { match: matchListItem });\n      Transforms.unwrapNodes(editor, { match: matchList });\n      return;\n    }\n    // Attempt to get the highest parent in the nested list if it exists\n    const [highestParent] = Editor.nodes<FullListItemElement>(editor, {\n      at: editor.selection || undefined,\n      match: n => matchListItem(n) && node.level - (n.level as number) === 2,\n      mode: 'lowest'\n    });\n    // Get the parent list node if it exists (list item)\n    const [[parentNode]] = Editor.nodes<FullListItemElement>(editor, {\n      at: editor.selection || undefined,\n      match: n => matchListItem(n) && node.level - (n.level as number) === 1,\n      mode: 'lowest'\n    });\n    // Get the parent list\n    const [[parentList]] = Editor.nodes(editor, {\n      at: editor.selection || undefined,\n      match: matchList,\n      mode: 'lowest'\n    });\n    if (parentNode && parentNode.children.length > 1) {\n      let newParentId;\n      if (highestParent) {\n        const [highestParentNode] = highestParent;\n        newParentId = highestParentNode.id;\n      }\n\n      // Setting the node to un nests new order and level\n      Transforms.setNodes<CosmosCustom.ListItemElement>(\n        editor,\n        {\n          level: node.level - 1,\n          order: parentNode.order + 1\n        },\n        { at: nodePath, match: n => matchListItem(n) && n.id === node.id }\n      );\n\n      // Set the level of any children under the node we are un nesting\n      Transforms.setNodes<CosmosCustom.ListItemElement>(\n        editor,\n        { level: node.level },\n        {\n          at: nodePath,\n          match: n => matchListItem(n) && (n.level as number) > node.level\n        }\n      );\n\n      // If there's a new parent id set it, otherwise unset the parent id entirely\n      if (newParentId) {\n        Transforms.setNodes<CosmosCustom.ListItemElement>(\n          editor,\n          { parentId: newParentId },\n          { at: nodePath, match: n => matchListItem(n) && n.id === node.id }\n        );\n      } else {\n        Transforms.unsetNodes<CosmosCustom.ListItemElement>(editor, 'parentId', {\n          at: nodePath,\n          match: n => matchListItem(n) && n.id === node.id\n        });\n      }\n\n      const listItemsExistBelow = node.order < parentList.children.length;\n\n      if (listItemsExistBelow) {\n        // Getting the inner text node inside of the list item in order to get the next path\n        const [[, innerTextNodePath]] = Editor.nodes(editor, {\n          at: nodePath,\n          match: matchList\n        });\n        const nextPath = Path.next(innerTextNodePath);\n        const copiedChildren = [];\n\n        let count = 1;\n        // Copy the children from the parent list that are below the list item we are un nesting\n        for (let i = node.order; i < parentList.children.length; i += 1) {\n          copiedChildren.push({\n            ...parentList.children[i],\n            parentId: node.id,\n            order: count\n          });\n          count += 1;\n        }\n\n        // Insert a new list with the copied children into the un nested list item\n        Transforms.insertNodes(\n          editor,\n          {\n            type: parentList.type,\n            children: [...copiedChildren]\n          },\n          { at: nextPath }\n        );\n\n        const [[newParentList, newParentListPath]] = Editor.nodes(editor, {\n          at: editor.selection?.anchor.path || undefined,\n          match: matchList,\n          mode: 'lowest'\n        });\n\n        let order = 0;\n        // Set the nodes below the list item being un nested\n        Transforms.setNodes<CosmosCustom.ListItemElement>(\n          editor,\n          {\n            parentId: node.id,\n            order\n          },\n          {\n            match: n => {\n              if (!matchListItem(n)) return false;\n\n              if (n.parentId === node.id) order += 1;\n              return n.parentId === node.id;\n            }\n          }\n        );\n\n        // Removing all old nodes from that were under the un nested item\n        for (let i = newParentList.children.length - 1; i >= node.order; i -= 1) {\n          const childPath = [...newParentListPath, i];\n          Transforms.removeNodes(editor, { at: childPath, match: matchListItem });\n        }\n      }\n\n      // Lift the current node at the users selection out of it's parent node twice\n      Transforms.liftNodes(editor, { match: matchListItem });\n      Transforms.liftNodes(editor, { match: matchListItem });\n    }\n  }\n};\n\nexport default commands;\n","import { KeyboardEvent } from 'react';\nimport {\n  Editor,\n  Transforms,\n  Range,\n  Path,\n  NodeEntry,\n  Node,\n  Element,\n  Text,\n  CosmosCustom\n} from 'slate';\n\nimport ListCommands from './ListCommands';\n\nconst textKeyCodeMapping: { [key: number]: Element['type'] } = {\n  48: 'paragraph',\n  49: 'heading-1',\n  50: 'heading-2',\n  51: 'heading-3',\n  52: 'heading-4'\n};\n\nconst commands = {\n  // Checks if an inline format is active\n  isFormatActive: (format: Exclude<keyof Text, 'text'>, editor: Editor) => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n  },\n  // Toggles an inline format on or off\n  toggleFormat: (format: Exclude<keyof Text, 'text'>, editor: Editor) => {\n    const formatActive = commands.isFormatActive(format, editor);\n    if (formatActive) {\n      Editor.removeMark(editor, format);\n    } else {\n      Editor.addMark(editor, format, true);\n    }\n  },\n  // Checks if a block level format is active\n  isBlockActive: (format: Element['type'], editor: Editor) => {\n    const [match] = Editor.nodes<Element>(editor, {\n      match: n => Element.isElement(n) && n.type === format\n    });\n\n    return !!match;\n  },\n  // Gets the active block level type\n  getActiveBlockType: (editor: Editor): string => {\n    const [match] = Editor.nodes<Element>(editor, {\n      at: editor.selection || undefined,\n      match: Element.isElement,\n      mode: 'lowest'\n    });\n\n    if (match) {\n      return match[0].type;\n    }\n    return '';\n  },\n  // Sets the block type of the currently selected block\n  setBlock: (format: Element['type'], editor: Editor) => {\n    Transforms.setNodes(editor, { type: format }, { mode: 'lowest' });\n  },\n  // Replaces a target in the editor with the given text\n  replaceWithText: (editor: Editor, target: Range | null, text: string) => {\n    if (target) {\n      Transforms.select(editor, target);\n    }\n    Transforms.insertText(editor, text);\n    Transforms.move(editor);\n  },\n  // Replaces a target in the editor with the given node\n  replaceWithNodes: (editor: Editor, target: Range | null, node: Node) => {\n    if (target) {\n      Transforms.select(editor, target);\n    }\n    Transforms.insertNodes(editor, node);\n    Transforms.move(editor);\n  },\n  // Gets the highest selected block level node\n  getSelectedNode: (editor: Editor): NodeEntry<Node> => {\n    const [node] = Editor.nodes<Element>(editor, {\n      at: editor.selection || undefined,\n      match: n => Element.isElement(n),\n      mode: 'highest'\n    });\n    return node;\n  },\n  // Appends a 3x3 table into the editor and adds a blank line to the bottom\n  appendTable: (editor: Editor) => {\n    const baseArr: unknown[][] = new Array(3).fill(new Array(3).fill(0));\n    const table: [CosmosCustom.TableElement, CosmosCustom.ParagraphElement] = [\n      {\n        type: 'table',\n        children: [\n          {\n            type: 'table-body',\n            children: baseArr.map(row => {\n              return {\n                type: 'table-row',\n                children: row.map(() => {\n                  return {\n                    type: 'table-cell',\n                    children: [{ type: 'paragraph', children: [{ text: '' }] }]\n                  };\n                })\n              };\n            })\n          }\n        ]\n      },\n      {\n        type: 'paragraph',\n        children: [{ text: '' }]\n      }\n    ];\n\n    Transforms.insertNodes(editor, table, { mode: 'highest' });\n    const [firstTableCell] = Editor.nodes<CosmosCustom.ParagraphElement>(editor, {\n      at: editor.selection?.anchor.path.slice(0, 1),\n      match: n => Element.isElement(n) && n.type === 'paragraph',\n      mode: 'highest'\n    });\n    if (firstTableCell) {\n      const [, path] = firstTableCell;\n      path.push(0);\n      const nextPosition = { path, offset: 0 };\n      Transforms.setSelection(editor, { anchor: nextPosition, focus: nextPosition });\n    }\n  },\n  // Finds the image placeholder and replaces it with an image node\n  appendImage: (editor: Editor, imageData: { src: string; alt: string }, id: string) => {\n    const [node] = Editor.nodes<CosmosCustom.ImagePlaceholderElement>(editor, {\n      match: n => Element.isElement(n) && n.type === 'image-placeholder',\n      at: [Number(id)]\n    });\n\n    if (node) {\n      const [, path] = node;\n      Transforms.setNodes(\n        editor,\n        { type: 'image', src: imageData.src, alt: imageData.alt },\n        { at: path }\n      );\n      Transforms.unsetNodes(editor, 'id', { at: path });\n      return Editor.end(editor, path);\n    }\n    return null;\n  },\n  appendImagePlaceholder: (editor: Editor): string => {\n    const node = commands.getSelectedNode(editor);\n\n    if (node) {\n      const [, path] = node;\n      const next = Path.next(path);\n      Transforms.insertNodes(\n        editor,\n        { type: 'image-placeholder', children: [{ text: '' }] },\n        { at: next }\n      );\n      return next[0].toString();\n    }\n    return '';\n  },\n  // Creates a link at the given selection\n  createLink: (editor: Editor, text: string, url: string, selection: Range | null) => {\n    const linkNode = { text: text || url, href: url };\n    if (selection) {\n      if (Range.isCollapsed(selection)) {\n        const [node] = Editor.node(editor, selection);\n        if (Text.isText(node) && node.href) {\n          const before = Editor.before(editor, selection, { unit: 'word' });\n          const after = Editor.after(editor, selection, { unit: 'word' });\n\n          if (before && after) {\n            Transforms.insertNodes(editor, [linkNode], { at: { anchor: before, focus: after } });\n          } else if (before) {\n            const calculatedAfter = Editor.after(editor, before, { unit: 'word' });\n            if (calculatedAfter) {\n              Transforms.insertNodes(editor, [linkNode], {\n                at: { anchor: before, focus: calculatedAfter }\n              });\n            }\n          } else if (after) {\n            const calculatedBefore = Editor.before(editor, after, { unit: 'word' });\n            if (calculatedBefore) {\n              Transforms.insertNodes(editor, [linkNode], {\n                at: { anchor: calculatedBefore, focus: after }\n              });\n            }\n          }\n        } else {\n          Transforms.insertNodes(editor, [linkNode]);\n        }\n      } else {\n        Transforms.insertNodes(editor, [linkNode], {\n          at: selection\n        });\n      }\n    } else {\n      Transforms.insertNodes(editor, [linkNode]);\n    }\n  },\n  // Used to handle the enter key when the cursor is next to an image, inserts a new paragraph\n  checkImageEnter: (editor: Editor, e: KeyboardEvent) => {\n    const [image] = Editor.nodes<CosmosCustom.ImageElement>(editor, {\n      match: n => Element.isElement(n) && n.type === 'image'\n    });\n    if (image) {\n      if (e.keyCode < 37 && e.keyCode > 40) {\n        e.preventDefault();\n      }\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        const [, path] = image;\n        const next = Path.next(path);\n        Transforms.insertNodes(\n          editor,\n          { type: 'paragraph', children: [{ text: '' }] },\n          { at: next }\n        );\n        Transforms.select(editor, next);\n      }\n    }\n  },\n  // Turns the href property off on the text node when space is pressed while on a link\n  checkLinkBreak: (editor: Editor, e: KeyboardEvent) => {\n    const [link] = Editor.nodes<Text>(editor, {\n      match: n => Text.isText(n) && !!n.href\n    });\n    if (link && (e.key === ' ' || e.key === 'Enter')) {\n      e.preventDefault();\n      Editor.insertNode(editor, { text: e.key === 'Enter' ? '\\n' : ' ' });\n      Editor.removeMark(editor, 'href');\n    }\n  },\n  /**\n   * Turns the searchResult property off on the text node when any key is pressed while on a searchResult.\n   * Will delete the searchResult node if backspace key is hit.\n   * Will re-position cursor to the start/end of the searchResult if arrow navigation is used.\n   */\n  checkSearchDownKeys: (editor: Editor, e: KeyboardEvent) => {\n    const [text] = Editor.nodes<Text>(editor, {\n      match: n => Text.isText(n)\n    });\n\n    if (text) {\n      const [node, path] = text;\n      const nextNode = Editor.next(editor)?.[0] as Text;\n      const nextPath = Editor.next(editor)?.[1];\n      const previousNode = Editor.previous(editor)?.[0] as Text;\n      const previousPath = Editor.previous(editor)?.[1];\n\n      const next = nextNode && nextNode.searchResult;\n      const nextInline = next && path[0] === nextPath?.[0];\n      const previous = previousNode && previousNode.searchResult;\n      const previousInline = previous && path[0] === previousPath?.[0];\n\n      // Checks if the current selection is a single cursor point rather than spanning multiple characters\n      const singlePointSelection =\n        editor.selection?.anchor.offset === editor.selection?.focus.offset &&\n        editor.selection?.anchor.path[0] === editor.selection?.focus.path[0] &&\n        editor.selection?.anchor.path[1] === editor.selection?.focus.path[1];\n\n      // Checks if the current selected node is a search result, or directly adjacent inline with a search result\n      if (node.searchResult || (next && nextInline) || (previous && previousInline)) {\n        const atStart = node.searchResult && editor.selection?.anchor.offset === 0;\n        const atEnd = node.searchResult && editor.selection?.anchor.offset === node.text.length;\n\n        // Deletes the entire search result only if the cursor is at the end of the search result\n        if (e.key === 'Backspace' && (atEnd || (previous && previousInline))) {\n          if (singlePointSelection) e.preventDefault();\n          Transforms.delete(editor, { at: previous ? previousPath : path });\n          // Deletes the entire search result only if the cursor is at the start of the search result\n        } else if (e.key === 'Delete' && (atStart || (next && nextInline))) {\n          if (singlePointSelection) e.preventDefault();\n          Transforms.delete(editor, { at: next ? nextPath : path });\n          // Moves cursor to start of search result only if the cursor is at the end of the search result\n        } else if (e.key === 'ArrowLeft' && (atEnd || (previous && previousInline))) {\n          if (singlePointSelection) e.preventDefault();\n          Transforms.move(editor, {\n            distance: previous ? previousNode.text.length : node.text.length,\n            unit: 'character',\n            reverse: true\n          });\n          // Moves cursor to end of search result only if the cursor is at the start of the search result\n        } else if (e.key === 'ArrowRight' && (atStart || (next && nextInline))) {\n          if (singlePointSelection) e.preventDefault();\n          Transforms.move(editor, {\n            distance: next ? nextNode.text.length : node.text.length,\n            unit: 'character'\n          });\n          // Ensures all other character (besides special key bindings) are inserted as plain text\n        } else if (e.key.length === 1 && !e.altKey && !e.ctrlKey && !e.metaKey) {\n          e.preventDefault();\n          Editor.insertNode(editor, { text: e.key === 'Enter' ? '\\n' : e.key });\n        }\n\n        // Prevents partial search result selections from disabling the searchResult flag\n        if (singlePointSelection) {\n          Editor.removeMark(editor, 'searchResult');\n        }\n      }\n    }\n  },\n  // Checks arrow navigation key up events around search results\n  checkSearchUpKeys: (editor: Editor, e: KeyboardEvent) => {\n    const [text] = Editor.nodes<Text>(editor, {\n      match: n => Text.isText(n)\n    });\n\n    if (text) {\n      const [node, path] = text;\n\n      const cursorInSearchResult =\n        node.searchResult &&\n        editor.selection?.anchor.path[0] === path[0] &&\n        editor.selection?.anchor.path[1] === path[1];\n\n      if (cursorInSearchResult && editor.selection) {\n        const distanceToStart = editor.selection.anchor.offset;\n        const distanceToEnd = node.text.length - editor.selection.anchor.offset;\n        // Moves cursor to the start of the search result\n        if (e.key === 'ArrowLeft') {\n          e.preventDefault();\n          Transforms.move(editor, {\n            distance: distanceToStart,\n            unit: 'character',\n            reverse: true\n          });\n          // Moves cursor to end of search result\n        } else if (e.key === 'ArrowRight') {\n          e.preventDefault();\n          Transforms.move(editor, {\n            distance: distanceToEnd,\n            unit: 'character'\n          });\n          // Moves cursor to start or end of search result, whichever is closer\n        } else if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n          e.preventDefault();\n          Transforms.move(editor, {\n            distance: distanceToStart <= distanceToEnd ? distanceToStart : distanceToEnd,\n            unit: 'character',\n            reverse: distanceToStart <= distanceToEnd\n          });\n        }\n      }\n    }\n  },\n  // Either adds a tab character or indents a list depending on the selection\n  indent: (editor: Editor) => {\n    const [nodeInListItem] = Editor.nodes<CosmosCustom.ListElement>(editor, {\n      match: n => Element.isElement(n) && n.type === 'list-item'\n    });\n\n    if (nodeInListItem) {\n      ListCommands.nestList(editor);\n      return;\n    }\n\n    if (editor.selection) {\n      let start = Editor.before(editor, editor.selection, { unit: 'block' });\n      start = start || Editor.start(editor, editor.selection);\n      Transforms.insertText(editor, '\\t', { at: start });\n    }\n  },\n  // Either removes a tab character or un indents a list depending on the selection\n  unindent: (editor: Editor) => {\n    const [nodeInListItem] = Editor.nodes<CosmosCustom.ListItemElement>(editor, {\n      match: n => Element.isElement(n) && n.type === 'list-item'\n    });\n\n    if (nodeInListItem) {\n      ListCommands.unNestList(editor);\n      return;\n    }\n\n    if (editor.selection) {\n      let start = Editor.before(editor, editor.selection, { unit: 'block' });\n      start = start || Editor.start(editor, editor.selection);\n      let end = Editor.after(editor, editor.selection, { unit: 'block' });\n      end = end || Editor.end(editor, editor.selection);\n      if (start && end) {\n        const text = Editor.string(editor, { anchor: start, focus: end });\n        const newText = text.replace(/\\t/, '');\n        Transforms.insertText(editor, newText, { at: { anchor: start, focus: end } });\n      }\n    }\n  },\n  checkKeyCommands: (editor: Editor, e: KeyboardEvent) => {\n    const cmdOrCtrl = e.metaKey || e.ctrlKey;\n    let commandExecuted = false;\n    if (cmdOrCtrl) {\n      // Command or Ctrl + Shift\n      if (e.shiftKey) {\n        switch (e.key) {\n          case 'b':\n            commands.toggleFormat('bold', editor);\n            commandExecuted = true;\n            break;\n          case 'i':\n            commands.toggleFormat('italic', editor);\n            commandExecuted = true;\n            break;\n          case 'x':\n            commands.toggleFormat('line-through', editor);\n            commandExecuted = true;\n            break;\n          case 'l':\n            ListCommands.toggleList('unordered-list', editor);\n            commandExecuted = true;\n            break;\n          default:\n        }\n        // Command or Ctrl but not alt\n      } else if (!e.shiftKey && !e.altKey) {\n        switch (e.key) {\n          case 'b':\n            commands.toggleFormat('bold', editor);\n            commandExecuted = true;\n            break;\n          case 'i':\n            commands.toggleFormat('italic', editor);\n            commandExecuted = true;\n            break;\n          default:\n        }\n      }\n    }\n\n    if (e.altKey) {\n      if (cmdOrCtrl) {\n        if (textKeyCodeMapping[e.keyCode]) {\n          commands.setBlock(textKeyCodeMapping[e.keyCode], editor);\n          commandExecuted = true;\n        }\n      } else if (e.keyCode === 77) {\n        if (e.shiftKey) {\n          commands.unindent(editor);\n          commandExecuted = true;\n        } else {\n          commands.indent(editor);\n          commandExecuted = true;\n        }\n      }\n    }\n\n    if (commandExecuted) e.preventDefault();\n  }\n};\n\nexport default commands;\n","import { createContext, MouseEvent, useContext, FocusEvent } from 'react';\n\nexport interface RichTextEditorContextValue {\n  addImage: (image: File) => void;\n  setPopoverOpen: (open: boolean) => void;\n  onEditorFocus: (args: {\n    event?: MouseEvent | FocusEvent<any>;\n    force?: boolean;\n    runAfterFocus?: () => void;\n    focusEditor?: boolean;\n  }) => void;\n  disabled: boolean;\n}\n\nexport const RichTextEditorContext = createContext<RichTextEditorContextValue>({\n  addImage: () => {},\n  setPopoverOpen: () => {},\n  onEditorFocus: () => {},\n  disabled: false\n});\n\nexport const useRTEContext = () => {\n  return useContext(RichTextEditorContext);\n};\n","import { FC, forwardRef, KeyboardEvent, MouseEvent, Ref } from 'react';\nimport styled, { css } from 'styled-components';\nimport { mix } from 'polished';\n\nimport {\n  defaultThemeProp,\n  ForwardProps,\n  Tooltip,\n  tryCatch,\n  useConsolidatedRef,\n  useElement\n} from '@pega/cosmos-react-core';\n\nimport { useRTEContext } from '../RichTextEditor.context';\n\nimport { StyleType } from './Toolbar.types';\n\nexport interface ToolBarButtonProps {\n  tooltip?: string;\n  active?: boolean;\n  styleType?: StyleType;\n  disabled?: boolean;\n  label?: string;\n  onMouseDown?: (e: MouseEvent | KeyboardEvent) => void;\n}\n\nconst StyledToolbarButton = styled.button<ToolBarButtonProps>(props => {\n  const { active, theme, styleType } = props;\n  const size = `calc(4 * ${props.theme.base.spacing})`;\n  const activeColor = tryCatch(() =>\n    mix(0.85, theme.base.palette['primary-background'], theme.base.palette.interactive)\n  );\n  return css`\n    background-color: ${active ? activeColor : 'transparent'};\n    border: none;\n    color: ${active ? theme.base.palette.interactive : theme.base.palette['foreground-color']};\n    outline: none;\n    display: inline-flex;\n    line-height: 1;\n    align-items: center;\n    justify-content: center;\n    height: ${size};\n    min-width: ${size};\n    opacity: ${active ? 'inherit' : '0.7'};\n    cursor: pointer;\n\n    &:focus {\n      box-shadow: ${theme.base.shadow.focus};\n    }\n\n    &:hover {\n      opacity: 1;\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      box-shadow: none;\n    }\n\n    ${styleType === 'BOLD' &&\n    css`\n      font-weight: bold;\n    `}\n\n    ${styleType === 'ITALIC' &&\n    css`\n      font-style: italic;\n    `}\n\n    ${styleType === 'STRIKE-THROUGH' &&\n    css`\n      text-decoration: line-through;\n    `}\n  `;\n});\n\nStyledToolbarButton.defaultProps = defaultThemeProp;\n\nconst ToolbarButton: FC<ToolBarButtonProps & ForwardProps> = forwardRef(\n  (\n    { tooltip, active, styleType, disabled, label, onMouseDown, ...restProps },\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const { disabled: contextDisabled } = useRTEContext();\n    const [el, setEl] = useElement();\n    const toolBarRef = useConsolidatedRef<HTMLButtonElement>(setEl, ref);\n    return (\n      <>\n        <StyledToolbarButton\n          active={active}\n          styleType={styleType}\n          ref={toolBarRef}\n          disabled={contextDisabled || disabled}\n          tabIndex={-1}\n          onKeyPress={(e: KeyboardEvent) => {\n            if (e.key === 'Enter') {\n              onMouseDown?.(e);\n            }\n          }}\n          onMouseDown={onMouseDown}\n          type='button'\n          aria-label={`${label} ${active ? 'active' : ''}`}\n          aria-pressed={active}\n          {...restProps}\n        />\n        {el && tooltip && (\n          <Tooltip target={el} showDelay='none' hideDelay='none'>\n            {tooltip}\n          </Tooltip>\n        )}\n      </>\n    );\n  }\n);\n\nexport default ToolbarButton;\n","import { FC } from 'react';\nimport { useSlate } from 'slate-react';\n\nimport { Icon, registerIcon, ForwardProps, useI18n } from '@pega/cosmos-react-core';\nimport * as tableIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/table.icon';\n\nimport EditorCommands from '../utils/EditorCommands';\n\nimport ToolbarButton from './ToolbarButton';\n\nregisterIcon(tableIcon);\n\nconst TableButton: FC<ForwardProps> = props => {\n  const t = useI18n();\n  const editor = useSlate();\n\n  const createNewTable = () => {\n    EditorCommands.appendTable(editor);\n  };\n\n  return (\n    <ToolbarButton\n      type='button'\n      onMouseDown={e => {\n        e.preventDefault();\n        createNewTable();\n      }}\n      tooltip={t('rte_table')}\n      label={t('rte_table')}\n      {...props}\n    >\n      <Icon name='table' />\n    </ToolbarButton>\n  );\n};\n\nexport default TableButton;\n","export const getKeyCommand = (\n  osx: boolean,\n  func: (keys: { ctrl: string; alt: string; shift: string }) => string\n): string => {\n  let ctrl = 'Ctrl + ';\n  let alt = 'Alt + ';\n  let shift = 'Shift + ';\n  if (osx) {\n    ctrl = '⌘';\n    alt = '⌥';\n    shift = '⇧';\n  }\n  return func({ ctrl, alt, shift });\n};\n\nexport default getKeyCommand;\n","import {\n  FC,\n  useRef,\n  useState,\n  ChangeEvent,\n  useEffect,\n  MouseEvent,\n  KeyboardEvent as ReactKeyboardEvent,\n  FormEvent\n} from 'react';\nimport { Text, Editor, Range, Transforms } from 'slate';\nimport { ReactEditor, useSlate } from 'slate-react';\n\nimport {\n  Button,\n  CardContent,\n  Grid,\n  Icon,\n  registerIcon,\n  Input,\n  Popover,\n  useOuterEvent,\n  useElement,\n  ForwardProps,\n  Form,\n  useI18n\n} from '@pega/cosmos-react-core';\nimport * as chainIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/chain.icon';\n\nimport { useRTEContext } from '../RichTextEditor.context';\nimport EditorCommands from '../utils/EditorCommands';\n\nimport ToolbarButton from './ToolbarButton';\nimport { getKeyCommand } from './utils';\n\nregisterIcon(chainIcon);\n\ninterface AnchorButtonProps {\n  osx: boolean;\n}\n\nconst AnchorButton: FC<AnchorButtonProps & ForwardProps> = ({ osx, ...props }) => {\n  const t = useI18n();\n  const { setPopoverOpen, onEditorFocus } = useRTEContext();\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const textInputRef = useRef<HTMLInputElement>(null);\n  const urlInputRef = useRef<HTMLInputElement>(null);\n  const editor = useSlate();\n  const [popoverEl, setPopoverEl] = useElement();\n  const [selectedText, setSelectedText] = useState('');\n  const [selection, setSelection] = useState<Range | null>(null);\n  const [url, setUrl] = useState('');\n  const [urlMatch, setUrlMatch] = useState(true);\n  const [anchorMenu, setAnchorMenu] = useState(false);\n  const tooltip = getKeyCommand(osx, ({ ctrl }) => `${t('rte_anchor')} (${ctrl}K)`);\n\n  const openMenu = (opts: { focusInput?: boolean } = {}) => {\n    setAnchorMenu(true);\n    setPopoverOpen(true);\n    if (opts.focusInput) {\n      setTimeout(() => {\n        textInputRef.current?.focus();\n      }, 0);\n    }\n  };\n\n  const resetMenu = (opts: { focusEditor?: boolean } = { focusEditor: true }) => {\n    setSelection(null);\n    setSelectedText('');\n    setUrl('');\n    setUrlMatch(true);\n    setAnchorMenu(false);\n    setPopoverOpen(false);\n    if (opts.focusEditor) {\n      setTimeout(() => {\n        onEditorFocus({\n          runAfterFocus: () => {\n            if (selection) Transforms.setSelection(editor, selection);\n          }\n        });\n      }, 0);\n    }\n  };\n\n  useOuterEvent('mousedown', [popoverEl], () => {\n    if (anchorMenu) {\n      resetMenu();\n    }\n  });\n\n  const createLink = () => {\n    if (url) {\n      EditorCommands.createLink(\n        editor,\n        selectedText,\n        new URL(/^[a-z][a-z0-9.+-]*:/i.test(url) ? url : `http:${url}`).href,\n        selection\n      );\n      resetMenu();\n    }\n  };\n\n  useEffect(() => {\n    if (editor.selection) {\n      setSelectedText(Editor.string(editor, editor.selection));\n      setSelection(editor.selection);\n      const [match] = Editor.nodes<Text>(editor, {\n        match: n => Text.isText(n) && !!n.href,\n        at: editor.selection\n      });\n      if (match) {\n        setUrl(match[0].href || '');\n        setSelectedText(match[0].text);\n      } else {\n        setUrl('');\n      }\n    }\n  }, [anchorMenu]);\n\n  const preventDef = (e: MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const isLinkActive = () => {\n    const [link] = Editor.nodes<Text>(editor, { match: n => Text.isText(n) && !!n.href });\n    return !!link;\n  };\n\n  const cancelAnchorCreation = (event?: KeyboardEvent | MouseEvent) => {\n    event?.preventDefault();\n    if (\n      (event?.type === 'keydown' && (event as KeyboardEvent)?.key === 'Enter') ||\n      event?.type === 'mousedown' ||\n      !event\n    ) {\n      resetMenu({ focusEditor: false });\n      buttonRef.current?.focus();\n    }\n  };\n\n  useEffect(() => {\n    const keyCommandListener = (e: KeyboardEvent) => {\n      if (e.key === 'k' && (e.metaKey || e.ctrlKey) && ReactEditor.isFocused(editor)) {\n        e.preventDefault();\n        openMenu({ focusInput: true });\n      }\n      if (e.key === 'Escape') {\n        cancelAnchorCreation();\n      }\n    };\n\n    document.addEventListener('keydown', keyCommandListener);\n\n    return () => {\n      document.removeEventListener('keydown', keyCommandListener);\n    };\n  }, []);\n\n  return (\n    <>\n      <ToolbarButton\n        ref={buttonRef}\n        onMouseDown={() => {\n          openMenu();\n        }}\n        onKeyDown={(e: ReactKeyboardEvent) => {\n          if (e.key === 'Enter') {\n            e.preventDefault();\n            openMenu({ focusInput: true });\n          }\n        }}\n        active={isLinkActive()}\n        tooltip={tooltip}\n        label={t('rte_anchor')}\n        {...props}\n      >\n        <Icon name='chain' />\n      </ToolbarButton>\n      <Popover show={anchorMenu} target={buttonRef.current} ref={setPopoverEl} placement='bottom'>\n        <CardContent>\n          <Form\n            actions={\n              <>\n                <Button\n                  variant='secondary'\n                  onKeyDown={cancelAnchorCreation}\n                  onMouseDown={cancelAnchorCreation}\n                  type='button'\n                >\n                  Cancel\n                </Button>\n                <Button disabled={!url || !urlMatch} name='apply' type='submit' variant='primary'>\n                  Apply\n                </Button>\n              </>\n            }\n            onSubmit={(e: FormEvent) => {\n              e.preventDefault();\n              createLink();\n            }}\n          >\n            <Grid container={{ rowGap: 2 }}>\n              <Input\n                label='Text'\n                value={selectedText}\n                onClick={preventDef}\n                onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                  setSelectedText(e.target.value);\n                }}\n                onBlur={() => {\n                  setTimeout(() => {\n                    if (document.activeElement !== urlInputRef.current) {\n                      resetMenu({ focusEditor: false });\n                    }\n                  }, 0);\n                }}\n                ref={textInputRef}\n              />\n              <Input\n                label='URL'\n                value={url}\n                onClick={preventDef}\n                onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                  const urlInput = e.target.value;\n                  setUrl(urlInput);\n\n                  if (!urlMatch) {\n                    try {\n                      // eslint-disable-next-line no-new\n                      new URL(\n                        /^[a-z][a-z0-9+.-]*:/i.test(urlInput) ? urlInput : `http:${urlInput}`\n                      );\n                      setUrlMatch(true);\n                    } catch {\n                      setUrlMatch(false);\n                    }\n                  }\n                }}\n                onBlur={() => {\n                  try {\n                    // eslint-disable-next-line no-new\n                    new URL(/^[a-z][a-z0-9+.-]*:/i.test(url) ? url : `http:${url}`);\n                    setUrlMatch(true);\n                  } catch {\n                    setUrlMatch(false);\n                  }\n                }}\n                info={!urlMatch ? 'Not a valid URL' : ''}\n                status={!urlMatch ? 'error' : undefined}\n                ref={urlInputRef}\n              />\n            </Grid>\n          </Form>\n        </CardContent>\n      </Popover>\n    </>\n  );\n};\n\nexport default AnchorButton;\n","import { ChangeEvent, FC, useRef } from 'react';\nimport styled from 'styled-components';\nimport { hideVisually } from 'polished';\n\nimport { Icon, registerIcon, ForwardProps, useI18n } from '@pega/cosmos-react-core';\nimport * as pictureIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/picture.icon';\n\nimport { useRTEContext } from '../RichTextEditor.context';\n\nimport ToolbarButton from './ToolbarButton';\n\nregisterIcon(pictureIcon);\n\nconst StyledImageInput = styled.input`\n  ${hideVisually}\n`;\n\nconst ImageButton: FC<ForwardProps> = ({ ...props }) => {\n  const t = useI18n();\n  const { addImage } = useRTEContext();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const onImageInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      addImage(e.target.files[0]);\n\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  return (\n    <>\n      <StyledImageInput\n        type='file'\n        accept='image/*'\n        ref={fileInputRef}\n        onChange={onImageInputChange}\n      />\n      <ToolbarButton\n        onClick={() => {\n          fileInputRef?.current?.click();\n        }}\n        tooltip={t('rte_image')}\n        label={t('rte_image')}\n        {...props}\n      >\n        <Icon name='picture' />\n      </ToolbarButton>\n    </>\n  );\n};\n\nexport default ImageButton;\n","import { FC, useRef, useState, MouseEvent, useCallback, KeyboardEvent, FocusEvent } from 'react';\nimport { Element, Transforms } from 'slate';\nimport { ReactEditor, useSlate } from 'slate-react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Popover,\n  Icon,\n  registerIcon,\n  useOuterEvent,\n  Menu,\n  Button,\n  defaultThemeProp,\n  useI18n,\n  Tooltip,\n  calculateFontSize\n} from '@pega/cosmos-react-core';\nimport * as arrowMicroDownIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/arrow-micro-down.icon';\n\nimport EditorCommands from '../utils/EditorCommands';\nimport { useRTEContext } from '../RichTextEditor.context';\n\nimport { getKeyCommand } from './utils';\n\nregisterIcon(arrowMicroDownIcon);\n\nconst StyledTextSelect = styled(Button)(({ theme }) => {\n  const fontSizes = calculateFontSize(theme.base['font-size'], theme.base['font-scale']);\n  return css`\n    color: ${theme.base.palette['foreground-color']};\n    display: inline-flex;\n    align-items: center;\n    border-radius: calc(0.25 * ${theme.base['border-radius']});\n    height: calc(4 * ${theme.base.spacing});\n    padding: calc(0.5 * ${theme.base.spacing});\n    font-size: ${fontSizes.xxs};\n\n    span {\n      white-space: nowrap;\n    }\n\n    :focus {\n      box-shadow: ${theme.base.shadow.focus};\n    }\n  `;\n});\n\nStyledTextSelect.defaultProps = defaultThemeProp;\n\nconst StyledSelectMenu = styled.div`\n  min-width: 10rem;\n`;\n\nconst textMapping: { [key: string]: string } = {\n  paragraph: 'Normal',\n  'heading-1': 'Heading 1',\n  'heading-2': 'Heading 2',\n  'heading-3': 'Heading 3',\n  'heading-4': 'Heading 4',\n  '': 'Normal'\n};\n\nconst getTextCommand = (num: number, osx: boolean) => {\n  return getKeyCommand(osx, ({ ctrl, alt }) => `${ctrl}${alt}${num}`);\n};\n\nconst getTextFormats = (\n  osx: boolean\n): { text: string; subText: string; type: Element['type'] }[] => {\n  return [\n    { text: 'Normal', subText: getTextCommand(0, osx), type: 'paragraph' },\n    { text: 'Heading 1', subText: getTextCommand(1, osx), type: 'heading-1' },\n    { text: 'Heading 2', subText: getTextCommand(2, osx), type: 'heading-2' },\n    { text: 'Heading 3', subText: getTextCommand(3, osx), type: 'heading-3' },\n    { text: 'Heading 4', subText: getTextCommand(4, osx), type: 'heading-4' }\n  ];\n};\n\nconst TextSelect: FC<{ osx: boolean }> = ({ osx }) => {\n  const t = useI18n();\n  const { disabled } = useRTEContext();\n  const [open, setOpen] = useState(false);\n  const selecting = useRef(false);\n  const openedByClick = useRef(false);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const popoverRef = useRef(null);\n  const menuRef = useRef(null);\n  const editor = useSlate();\n\n  const textFormats = useCallback(() => {\n    return getTextFormats(osx);\n  }, [osx])();\n\n  useOuterEvent('click', [buttonRef, popoverRef, menuRef], () => {\n    setOpen(false);\n  });\n\n  const onTextSelect = (type: Element['type'], e: MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    EditorCommands.setBlock(type, editor);\n    if (!openedByClick.current) {\n      buttonRef.current?.focus();\n    }\n    setOpen(false);\n    selecting.current = true;\n    setTimeout(() => {\n      if (!ReactEditor.isFocused(editor) && openedByClick.current) {\n        const selection = editor.selection;\n        ReactEditor.focus(editor);\n        if (selection) Transforms.select(editor, selection);\n      }\n    }, 0);\n  };\n\n  return (\n    <>\n      <StyledTextSelect\n        variant='simple'\n        type='button'\n        disabled={disabled}\n        icon={false}\n        ref={buttonRef}\n        onMouseDown={(e: MouseEvent) => {\n          e.preventDefault();\n          e.stopPropagation();\n          setOpen(true);\n          openedByClick.current = true;\n        }}\n        onKeyDown={(e: KeyboardEvent) => {\n          if (e.key === 'Enter' && !selecting.current) {\n            e.preventDefault();\n            setOpen(true);\n            openedByClick.current = false;\n          } else if (e.key === 'Enter') {\n            e.preventDefault();\n            selecting.current = false;\n          } else if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n            setOpen(false);\n          }\n        }}\n        onFocus={(e: FocusEvent) => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        onClick={(e: MouseEvent) => e.stopPropagation()}\n        aria-expanded={open}\n        aria-label={`Text formatting toolbar. ${t('rte_heading_style')}. ${\n          textMapping[EditorCommands.getActiveBlockType(editor)]\n        } selected`}\n        aria-haspopup\n      >\n        <span>{textMapping[EditorCommands.getActiveBlockType(editor)]}</span>\n        <Icon name='arrow-micro-down' />\n      </StyledTextSelect>\n      {buttonRef.current && (\n        <Tooltip target={buttonRef.current} showDelay='none' hideDelay='none'>\n          {t('rte_heading_style')}\n        </Tooltip>\n      )}\n      <Popover\n        show={open}\n        as={StyledSelectMenu}\n        target={buttonRef.current}\n        placement='bottom-start'\n        ref={popoverRef}\n      >\n        <Menu\n          items={textFormats.map(({ text, type, subText }) => ({\n            id: type,\n            primary: text,\n            secondary: [subText],\n            selected: type === EditorCommands.getActiveBlockType(editor)\n          }))}\n          focusControlEl={buttonRef.current || undefined}\n          focusElOnClose={false}\n          mode='single-select'\n          ref={menuRef}\n          onItemClick={onTextSelect as (id: string, e: MouseEvent) => void}\n        />\n      </Popover>\n    </>\n  );\n};\n\nexport default TextSelect;\n","import { FC } from 'react';\nimport { ReactEditor, useSlate } from 'slate-react';\n\nimport { Icon, registerIcon, useI18n } from '@pega/cosmos-react-core';\nimport * as indentIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/indent.icon';\nimport * as unindentIcon from '@pega/cosmos-react-core/lib/components/Icon/icons/unindent.icon';\n\nimport EditorCommands from '../utils/EditorCommands';\n\nimport ToolbarButton, { ToolBarButtonProps } from './ToolbarButton';\nimport { getKeyCommand } from './utils';\n\nregisterIcon(indentIcon, unindentIcon);\n\ninterface IndentButtonProps {\n  type: 'indent' | 'unindent';\n  osx: boolean;\n}\n\nconst IndentButton: FC<IndentButtonProps> = ({ type, osx }) => {\n  const editor = useSlate();\n  const t = useI18n();\n  const tooltip = getKeyCommand(osx, ({ shift, alt }) =>\n    type === 'indent' ? `${t('rte_indent')} (${alt}M)` : `${t('rte_unindent')} (${alt}${shift}M)`\n  );\n\n  const onMouseDown: ToolBarButtonProps['onMouseDown'] = e => {\n    e.preventDefault();\n    if (type === 'indent') {\n      EditorCommands.indent(editor);\n    } else {\n      EditorCommands.unindent(editor);\n    }\n    if (!ReactEditor.isFocused(editor)) ReactEditor.focus(editor);\n  };\n\n  return (\n    <ToolbarButton onMouseDown={onMouseDown} tooltip={tooltip} label={type}>\n      <Icon name={type} />\n    </ToolbarButton>\n  );\n};\n\nexport default IndentButton;\n","import { FC, useState, useEffect, useRef } from 'react';\nimport { Text } from 'slate';\nimport { useSlate, useFocused, ReactEditor } from 'slate-react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Flex,\n  Icon,\n  useArrows,\n  useI18n,\n  defaultThemeProp,\n  TranslationPack\n} from '@pega/cosmos-react-core';\nimport { TranslationFunction } from '@pega/cosmos-react-core/lib/i18n/translate';\n\nimport EditorCommands from '../utils/EditorCommands';\nimport ListCommands from '../utils/ListCommands';\n\nimport ToolbarButton from './ToolbarButton';\nimport { StyleType, Features } from './Toolbar.types';\nimport TableButton from './TableButton';\nimport AnchorButton from './AnchorButton';\nimport ImageButton from './ImageButton';\nimport TextSelect from './TextSelect';\nimport IndentButton from './IndentButton';\nimport { getKeyCommand } from './utils';\n\nconst StyledToolbar = styled.div<{ sticky?: boolean }>`\n  background-color: ${props => props.theme.base.palette['primary-background']};\n  border-radius: calc(0.25 * ${props => props.theme.base['border-radius']});\n  overflow: auto;\n  padding: 0.125rem;\n  ${props =>\n    props.sticky &&\n    css`\n      position: sticky;\n      bottom: 0;\n    `}\n`;\n\nStyledToolbar.defaultProps = defaultThemeProp;\n\nexport interface ToolbarProps {\n  features: Features[];\n  sticky?: boolean;\n  setFocusableBtn: (el: HTMLElement) => void;\n}\n\ntype StyleButtonType = {\n  style: StyleType;\n  text: string;\n  icon?: string;\n  label?: string;\n  format: Exclude<keyof Text, 'text'>;\n  tooltip: string;\n};\n\n// Function that returns the text styling buttons\nfunction renderStyleButtons(\n  editor: ReactEditor,\n  t: TranslationFunction<TranslationPack>,\n  focused: boolean,\n  osx: boolean\n) {\n  const inlineStyleButtons: StyleButtonType[] = [\n    {\n      style: 'BOLD',\n      text: 'B',\n      format: 'bold',\n      label: t('rte_bold'),\n      tooltip: getKeyCommand(\n        osx,\n        ({ ctrl, shift }) => `${t('rte_bold')} (${ctrl}B, ${ctrl}${shift}B)`\n      )\n    },\n    {\n      style: 'ITALIC',\n      text: 'I',\n      format: 'italic',\n      label: t('rte_italic'),\n      tooltip: getKeyCommand(\n        osx,\n        ({ ctrl, shift }) => `${t('rte_italic')} (${ctrl}I, ${ctrl}${shift}I)`\n      )\n    },\n    {\n      style: 'STRIKE-THROUGH',\n      text: 'S',\n      format: 'line-through',\n      label: t('rte_strike_through'),\n      tooltip: getKeyCommand(\n        osx,\n        ({ ctrl, shift }) => `${t('rte_strike_through')} (${ctrl}${shift}X)`\n      )\n    }\n  ];\n\n  return inlineStyleButtons.map(({ format, style, text, label, tooltip }) => {\n    return (\n      <ToolbarButton\n        key={style}\n        onMouseDown={e => {\n          e.preventDefault();\n          if (!focused) {\n            ReactEditor.focus(editor);\n          }\n          setTimeout(() => {\n            EditorCommands.toggleFormat(format, editor);\n          }, 0);\n        }}\n        styleType={style}\n        active={EditorCommands.isFormatActive(format, editor)}\n        tooltip={tooltip}\n        label={label}\n      >\n        {text}\n      </ToolbarButton>\n    );\n  });\n}\n\n// Function that returns the cut, copy and paste buttons\nfunction renderCutCopyPaste(\n  editor: ReactEditor,\n  t: TranslationFunction<TranslationPack>,\n  osx: boolean\n) {\n  const CutCopyPasteButtons = [\n    {\n      text: 'Cut',\n      icon: 'scissors',\n      label: t('rte_cut'),\n      func: () => {\n        document.execCommand('cut');\n      },\n      tooltip: getKeyCommand(osx, ({ ctrl }) => `${t('rte_cut')} (${ctrl}X)`)\n    },\n    {\n      text: 'Copy',\n      icon: 'copy',\n      label: t('rte_copy'),\n      func: () => {\n        document.execCommand('copy');\n      },\n      tooltip: getKeyCommand(osx, ({ ctrl }) => `${t('rte_copy')} (${ctrl}C)`)\n    },\n    {\n      text: 'Paste',\n      icon: 'clipboard-data',\n      label: t('rte_paste'),\n      func: () => {\n        navigator.clipboard.readText().then(text => {\n          EditorCommands.replaceWithText(editor, editor.selection, text);\n        });\n      },\n      tooltip: getKeyCommand(osx, ({ ctrl }) => `${t('rte_paste')} (${ctrl}V)`)\n    }\n  ];\n\n  return CutCopyPasteButtons.map(btn => {\n    return (\n      <ToolbarButton\n        onMouseDown={e => {\n          e.preventDefault();\n          btn.func();\n        }}\n        key={btn.text}\n        tooltip={btn.tooltip}\n        label={btn.label}\n      >\n        <Icon name={btn.icon} />\n      </ToolbarButton>\n    );\n  });\n}\n\n// Takes the features array and transforms it into a map for faster lookup\nfunction createActiveFeaturesMap(features: Features[]) {\n  return features.reduce((acc, feature) => {\n    return { ...acc, [feature]: true };\n  }, {} as { [F in Features]: boolean });\n}\n\nconst Toolbar: FC<ToolbarProps> = (props: ToolbarProps) => {\n  const { features, sticky, setFocusableBtn } = props;\n  const editor = useSlate();\n  const focused = useFocused();\n  const t = useI18n();\n  const [osx, setOsx] = useState(false);\n  const toolbarRef = useRef<HTMLElement>(null);\n\n  useArrows(toolbarRef, { selector: 'button', dir: 'left-right' });\n\n  const [activeFeatures, setActiveFeatures] = useState(createActiveFeaturesMap(features));\n\n  useEffect(() => {\n    const btn = toolbarRef?.current?.querySelector('button');\n    if (btn) setFocusableBtn(btn);\n  }, [toolbarRef.current]);\n\n  useEffect(() => {\n    setActiveFeatures(createActiveFeaturesMap(features));\n  }, [features]);\n\n  useEffect(() => {\n    if (navigator.appVersion.includes('Mac')) setOsx(true);\n  }, []);\n\n  return (\n    <Flex as={StyledToolbar} sticky={sticky} container={{ justify: 'between' }} ref={toolbarRef}>\n      <Flex container={{ alignItems: 'end' }}>\n        <TextSelect osx={osx} />\n        {activeFeatures['inline-styling'] && renderStyleButtons(editor, t, focused, osx)}\n        {activeFeatures.lists && (\n          <>\n            <ToolbarButton\n              onMouseDown={e => {\n                e.preventDefault();\n                ListCommands.toggleList('unordered-list', editor);\n              }}\n              active={EditorCommands.isBlockActive('unordered-list', editor)}\n              tooltip={getKeyCommand(\n                osx,\n                ({ ctrl, shift }) => `${t('rte_bulleted_list')} (${ctrl}${shift}L)`\n              )}\n              label={t('rte_bulleted_list')}\n            >\n              <Icon name='list' />\n            </ToolbarButton>\n            <ToolbarButton\n              onMouseDown={e => {\n                e.preventDefault();\n                ListCommands.toggleList('ordered-list', editor);\n              }}\n              active={EditorCommands.isBlockActive('ordered-list', editor)}\n              tooltip={t('rte_numbered_list')}\n              label={t('rte_numbered_list')}\n            >\n              <Icon name='list-number' />\n            </ToolbarButton>\n          </>\n        )}\n        {activeFeatures.indentation && (\n          <>\n            <IndentButton type='indent' osx={osx} />\n            <IndentButton type='unindent' osx={osx} />\n          </>\n        )}\n        {activeFeatures.tables && <TableButton />}\n      </Flex>\n      <Flex container={{ alignItems: 'end' }}>\n        {activeFeatures.links && <AnchorButton osx={osx} />}\n        {activeFeatures.images && <ImageButton />}\n      </Flex>\n      {activeFeatures['cut-copy-paste'] && (\n        <Flex container={{ alignItems: 'end' }}>{renderCutCopyPaste(editor, t, osx)}</Flex>\n      )}\n    </Flex>\n  );\n};\n\nexport default Toolbar;\n","import { Editor, Range, Text } from 'slate';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const onSearchChange = (\n  editor: Editor,\n  { groupId, regex, trigger }: { groupId: string; regex: RegExp; trigger: string }\n) => {\n  const { selection } = editor;\n\n  if (selection && Range.isCollapsed(selection)) {\n    // Gets the cursor position in the RTE\n    const [cursorPos] = Range.edges(selection);\n    // Gets the Slate node at the search trigger\n    const [searchNode] = Editor.node(editor, cursorPos);\n    // If the search is triggered from within a searchResult node, ignore the search\n    if ((searchNode as Text)?.searchResult) return;\n\n    // Gets the point before the line that is currently being typed in the RTE\n    const posBeforeWord = Editor.before(editor, cursorPos, { unit: 'line' });\n    // Gets the range before the line up to the cursor position\n    const lineRange = posBeforeWord && Editor.range(editor, posBeforeWord, cursorPos);\n    // Gets all of the text on the current line\n    const lineText = lineRange && Editor.string(editor, lineRange);\n\n    // Matches the text on the current line with the regex provided\n    const beforeMatch = lineText && lineText.match(regex);\n\n    if (beforeMatch && typeof beforeMatch.groups?.[groupId] === 'string') {\n      const matchLength = beforeMatch.groups.match.length;\n      // Gets the range of the matching text to place the popover correctly\n      const targetRange = Editor.range(\n        editor,\n        { ...cursorPos, offset: cursorPos.offset - matchLength },\n        cursorPos\n      );\n      return { search: beforeMatch.groups[groupId], target: targetRange, trigger };\n    }\n  }\n};\n","import { CosmosCustom, Element, Text } from 'slate';\n\nexport const slateToHtmlMap = {\n  link: 'a',\n  'heading-1': 'h1',\n  'heading-2': 'h2',\n  'heading-3': 'h3',\n  'heading-4': 'h4',\n  'unordered-list': 'ul',\n  'ordered-list': 'ol',\n  'list-item': 'li',\n  table: 'table',\n  'table-body': 'tbody',\n  'table-row': 'tr',\n  'table-cell': 'td',\n  paragraph: 'p',\n  bold: 'b',\n  'line-through': 'del',\n  italic: 'i',\n  href: 'a',\n  image: 'img'\n};\n\n// Reduces the properties in a slate node into the correct html attributes, mostly used for list-items at the moment\nconst getAttrs = (\n  el: Exclude<Element, CosmosCustom.ImagePlaceholderElement | CosmosCustom.CustomElement>\n) => {\n  // eslint-disable-next-line sonarjs/no-small-switch\n  switch (el.type) {\n    case 'list-item':\n      return [\n        { name: 'data-id', value: el.id },\n        { name: 'data-parent-id', value: el.parentId },\n        { name: 'data-order', value: el.order },\n        { name: 'data-level', value: el.level }\n      ].reduce((acc, attr) => {\n        if (attr.value) {\n          return `${acc} ${attr.name}='${attr.value}'`;\n        }\n        return acc;\n      }, '');\n    default:\n      return Object.keys(el).reduce((innerAcc, key) => {\n        return key !== 'type' && key !== 'children'\n          ? `${innerAcc} ${key}='${el[key as keyof Element]}'`\n          : innerAcc;\n      }, '');\n  }\n};\n\n// Recursive function to reduce Slate Nodes into an HTML string\nexport const constructHtml = (nodes: (Element | Text)[]): string => {\n  return nodes.reduce((acc, node) => {\n    if (\n      Element.isElement(node) &&\n      (node.type === 'image-placeholder' || node.type === 'custom' || node.type === 'override')\n    )\n      return acc;\n\n    const htmlTag = Element.isElement(node) ? slateToHtmlMap[node.type] : undefined;\n    let html;\n    if (Text.isText(node)) {\n      const { text, ...restNode } = node;\n      // Reducing inline style properties from a single Slate Node into the correct HTML tags\n      html = Object.keys(restNode).reduce((innerAcc, key, i) => {\n        const tag = slateToHtmlMap[key as 'bold' | 'line-through' | 'italic' | 'href'];\n        // Add the href attribute if needed\n        const firstInnerTag = tag === 'a' ? `${tag} href='${restNode[key as 'href']}'` : tag;\n\n        if (i === 0) {\n          return `<${firstInnerTag}>${text}</${tag}>`;\n        }\n        return `<${firstInnerTag}>${innerAcc}</${tag}>`;\n      }, '');\n      if (!html) {\n        html = text;\n      }\n    } else {\n      const attrs = getAttrs(node);\n      html = `<${htmlTag}${attrs}>${constructHtml(\n        (node.children as (Element | Text)[]) || []\n      )}</${htmlTag}>`;\n    }\n    return `${acc}${html}`;\n  }, '');\n};\n\nexport const convertSlateToHtml = (nodes: (Element | Text)[]): string => {\n  if (\n    nodes.length === 1 &&\n    Element.isElement(nodes[0]) &&\n    Text.isText(nodes[0].children[0]) &&\n    nodes[0].children[0].text === ''\n  ) {\n    return '';\n  }\n  const htmlNodes = constructHtml(nodes);\n  return `<body>${htmlNodes}</body>`;\n};\n","import {\n  forwardRef,\n  PropsWithoutRef,\n  useState,\n  useRef,\n  useMemo,\n  FC,\n  useEffect,\n  useCallback,\n  MouseEvent,\n  KeyboardEvent,\n  useImperativeHandle,\n  ClipboardEvent,\n  FocusEvent,\n  useReducer\n} from 'react';\n// Import the Slate editor factory.\nimport { createEditor, Editor, Node, Element, Text, Range, Transforms } from 'slate';\n// Import the Slate components and React plugin.\nimport { Slate, Editable, withReact, ReactEditor } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport styled from 'styled-components';\nimport { VirtualElement } from '@popperjs/core';\n\nimport {\n  FormField,\n  FormControl,\n  StyledPopover,\n  useTheme,\n  useUID,\n  createUID,\n  debounce,\n  ForwardProps,\n  Popover,\n  Menu,\n  menuHelpers,\n  MenuItemProps,\n  MenuProps\n} from '@pega/cosmos-react-core';\n\nimport StyledRichTextEditor, { EditorContainer, StyledFormField } from './RichTextEditor.styles';\nimport Toolbar from './Toolbar/Toolbar';\nimport { nodeRenderer, leafRenderer } from './utils/renderers';\nimport { onSearchChange } from './utils/search';\nimport EditorCommands from './utils/EditorCommands';\nimport ListCommands from './utils/ListCommands';\nimport { convertHtml } from './utils/htmlConverter';\nimport { convertSlateToHtml } from './utils/slateConverter';\nimport { RichTextEditorState, RichTextEditorProps } from './RichTextEditor.types';\nimport { RichTextEditorContext, RichTextEditorContextValue } from './RichTextEditor.context';\nimport { convertMarkdownForEditor } from './utils/markdownConverter';\n\ntype SyntheticActionType = 'prev' | 'next' | 'child' | 'parent' | 'list_change' | 'set' | 'clear';\n\nconst withVoids = (editor: Editor): ReactEditor => {\n  editor.isVoid = element => {\n    if (element.type === 'image' || element.type === 'image-placeholder') {\n      return true;\n    }\n    return false;\n  };\n\n  return editor as ReactEditor;\n};\n\nconst syntheticFocusReducer = (\n  currentId: string | undefined,\n  action: {\n    type: SyntheticActionType;\n    menuItems: MenuProps['items'];\n    selectedItemId?: MenuItemProps['id'];\n  }\n): string | undefined => {\n  const { type, menuItems, selectedItemId } = action;\n  switch (type) {\n    case 'child':\n      // return first item id if top-level\n      if (!currentId) return menuItems[0].id;\n      // if currently highlighted item has children, select first of them\n      return menuHelpers.getItem(menuItems, currentId)?.items?.[0].id;\n    case 'parent':\n      // find and return parent of currently selected item\n      return menuHelpers.getParentItem(menuItems, currentId)?.id;\n    case 'next':\n      // return next sibling of currently selected item\n      return menuHelpers.getNextItem(menuItems, currentId)?.id ?? currentId;\n    case 'prev':\n      // return prev sibling of currently selected item\n      return menuHelpers.getPrevItem(menuItems, currentId)?.id ?? currentId;\n    case 'list_change':\n      // if currently selected item does not exist in new list, select first one\n      if (currentId && menuHelpers.getItem(menuItems, currentId)) return currentId;\n      return menuItems[0]?.id;\n    case 'set':\n      // return arbitrary selected item id if it is in the tree; undefined otherwise\n      return selectedItemId ? menuHelpers.getItem(menuItems, selectedItemId)?.id : undefined;\n    case 'clear':\n      return undefined;\n    default:\n      return currentId;\n  }\n};\n\nconst StyledSearchPopover = styled(StyledPopover)`\n  min-width: 20rem;\n`;\n\nconst RichTextEditor: FC<RichTextEditorProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<RichTextEditorProps>, ref: RichTextEditorProps['ref']) => {\n    const {\n      components: {\n        'text-area': { 'min-height': minHeight }\n      }\n    } = useTheme();\n    const uid = useUID();\n    const {\n      id = uid,\n      label,\n      labelHidden,\n      info,\n      status,\n      required,\n      disabled,\n      readOnly,\n      onChange,\n      onFocus,\n      onBlur,\n      placeholder,\n      toolbar,\n      onImageAdded,\n      markdownOnly,\n      searchTriggers,\n      onSearch,\n      getSearchItemReplacement,\n      searchRenderers,\n      menu,\n      height = { min: minHeight },\n      defaultValue,\n      autoFocus,\n      ...restProps\n    } = props;\n\n    const formFieldRef = useRef<HTMLElement>(null);\n    const editor = useMemo(() => withVoids(withReact(withHistory(createEditor()))), []);\n    const [value, setValue] = useState<(Element | Text)[]>(() =>\n      defaultValue && !markdownOnly\n        ? convertHtml(defaultValue)\n        : convertMarkdownForEditor(defaultValue, searchRenderers)\n    );\n    const [toolbarPopover, setToolbarPopover] = useState(false);\n    const [toolbarSticky, setToolbarSticky] = useState(false);\n    const [focusableToolbarBtn, setFocusableToolbarBtn] = useState<HTMLElement | null>(null);\n    const [focusedId, dispatchFocus] = useReducer(syntheticFocusReducer, undefined);\n\n    const [popoverTarget, setPopoverTarget] = useState<Range | null>(null);\n    const [searchEl, setSearchEl] = useState<VirtualElement | null>(null);\n\n    const updateToolbarStyle = () => {\n      if ((formFieldRef.current?.offsetHeight || 0) > window.innerHeight) {\n        setToolbarSticky(true);\n      } else {\n        setToolbarSticky(false);\n      }\n    };\n\n    const debouncedUpdateToolbarStyle = debounce(updateToolbarStyle, 200);\n\n    const getPlainText = () => {\n      return value\n        .map(node => {\n          if (markdownOnly && (node as Element).children) {\n            return (node as Element).children\n              .map(textNode => (textNode as Text).searchResult?.markdown || (textNode as Text).text)\n              .join('');\n          }\n          return Node.string(node);\n        })\n        .join('\\n');\n    };\n\n    const onEditorFocus: RichTextEditorContextValue['onEditorFocus'] = ({\n      event,\n      force,\n      focusEditor,\n      runAfterFocus\n    }) => {\n      if (focusEditor) {\n        setTimeout(() => {\n          if (!ReactEditor.isFocused(editor)) {\n            ReactEditor.focus(editor);\n            onFocus?.();\n          }\n        }, 0);\n      }\n\n      if (runAfterFocus && (force || (!disabled && !toolbarPopover))) {\n        setTimeout(runAfterFocus, 0);\n      } else {\n        event?.stopPropagation();\n      }\n    };\n\n    const blurEditor = (force?: boolean) => {\n      if (force) ReactEditor.blur(editor);\n      if (ReactEditor.isFocused(editor)) {\n        onBlur?.();\n      }\n    };\n\n    useImperativeHandle<any, RichTextEditorState>(\n      ref,\n      () => ({\n        focus: () => {\n          onEditorFocus({ focusEditor: true });\n        },\n        getPlainText: () => {\n          return getPlainText();\n        },\n        getRichText: () => {\n          return JSON.stringify(value);\n        },\n        getHtml: () => {\n          return convertSlateToHtml(value);\n        },\n        clear: () => {\n          const point = { path: [0, 0], offset: 0 };\n          editor.selection = { anchor: point, focus: point };\n          setValue([\n            {\n              type: 'paragraph',\n              children: [{ text: '' }]\n            }\n          ]);\n        },\n        appendImage: ({ src, alt }, imageId) => {\n          const path = EditorCommands.appendImage(editor, { src, alt }, imageId);\n          if (path) {\n            Transforms.select(editor, { anchor: path, focus: path });\n            ReactEditor.focus(editor);\n          }\n        },\n        insertText: (text: string) => {\n          editor.insertText(text);\n        },\n        insertHtml: (html: string, overwrite: boolean = false) => {\n          setValue(prevValue => {\n            if (overwrite) {\n              const point = { path: [0, 0], offset: 0 };\n              editor.selection = { anchor: point, focus: point };\n              return convertHtml(html !== '' ? html : '<p></p>');\n            }\n            return [...prevValue, ...convertHtml(html)];\n          });\n        }\n      }),\n      [value, setValue]\n    );\n\n    const onMenuItemClick = (itemId: string, e: MouseEvent<any> | KeyboardEvent<any>) => {\n      // MenuItem expects actual click events, but we don't have reference to actual menu item element to trigger a click.\n      menu?.onItemClick?.(itemId, e as MouseEvent<any>);\n      const replacement = getSearchItemReplacement?.(itemId);\n      if (replacement) {\n        let node: Node;\n\n        if (replacement.markdown && replacement.component && replacement.props) {\n          node = {\n            text: replacement.text,\n            searchResult: {\n              markdown: replacement.markdown,\n              component: replacement.component,\n              props: replacement.props,\n              // Prevents copying searchResult attribute onPaste\n              toJSON: () => undefined\n            }\n          };\n        } else {\n          node = { text: replacement.text };\n        }\n\n        EditorCommands.replaceWithNodes(editor, popoverTarget, node);\n      }\n    };\n\n    const onKeyDown = useCallback(\n      (event: KeyboardEvent<any>) => {\n        if (popoverTarget && menu) {\n          switch (event.key) {\n            case 'ArrowDown':\n              event.preventDefault();\n              dispatchFocus({ type: 'next', menuItems: menu.items, selectedItemId: focusedId });\n              break;\n            case 'ArrowUp':\n              event.preventDefault();\n              dispatchFocus({ type: 'prev', menuItems: menu.items, selectedItemId: focusedId });\n              break;\n            case 'Enter':\n              event.preventDefault();\n              if (focusedId) {\n                onMenuItemClick(focusedId, event);\n                dispatchFocus({ type: 'clear', menuItems: menu.items });\n              }\n              break;\n            case 'Escape':\n              event.preventDefault();\n              setPopoverTarget(null);\n              break;\n            default:\n              break;\n          }\n        } else if (event.key === 'Tab' && !event.shiftKey) {\n          if (focusableToolbarBtn) {\n            focusableToolbarBtn.focus();\n            event.preventDefault();\n          }\n        } else {\n          ListCommands.checkListEnter(editor, event);\n          EditorCommands.checkLinkBreak(editor, event);\n          EditorCommands.checkSearchDownKeys(editor, event);\n          EditorCommands.checkImageEnter(editor, event);\n          EditorCommands.checkKeyCommands(editor, event);\n        }\n      },\n      [menu, focusedId, popoverTarget, focusableToolbarBtn]\n    );\n\n    const onKeyUp = (event: KeyboardEvent<any>) => {\n      EditorCommands.checkSearchUpKeys(editor, event);\n    };\n\n    // Adds an image placeholder to be replaced later in time by an image\n    const addImage = (file: File) => {\n      const placeholderId = EditorCommands.appendImagePlaceholder(editor);\n      if (placeholderId) onImageAdded?.(file, placeholderId);\n    };\n\n    const onPaste = (e: ClipboardEvent) => {\n      let image;\n      for (let i = 0; i < e.clipboardData.items.length; i += 1) {\n        const item = e.clipboardData.items[i];\n\n        if (item.type.startsWith('image')) {\n          image = item.getAsFile();\n        }\n      }\n\n      if (image) {\n        e.preventDefault();\n        addImage(image);\n      }\n    };\n\n    const onDrop = (e: DragEvent) => {\n      e.preventDefault();\n      if (e.dataTransfer) {\n        Array.from(e.dataTransfer.files).forEach(file => {\n          if (file.type.includes('image')) {\n            addImage(file);\n          }\n        });\n      }\n    };\n\n    useEffect(() => {\n      if (popoverTarget) {\n        setSearchEl(ReactEditor.toDOMRange(editor, popoverTarget) as VirtualElement);\n      }\n    }, [popoverTarget]);\n\n    useEffect(() => {\n      onChange?.();\n    }, [value]);\n\n    useEffect(() => {\n      if (menu && popoverTarget) {\n        dispatchFocus({\n          type: 'set',\n          menuItems: menu.items,\n          selectedItemId: menu.items[0]?.id\n        });\n      }\n    }, [menu, popoverTarget]);\n\n    useEffect(() => {\n      if (autoFocus) {\n        setTimeout(() => {\n          ReactEditor.focus(editor);\n        }, 0);\n      }\n    }, []);\n\n    return (\n      <RichTextEditorContext.Provider\n        value={{\n          addImage,\n          setPopoverOpen: setToolbarPopover,\n          onEditorFocus,\n          disabled: disabled || false\n        }}\n      >\n        <FormField\n          as={StyledFormField}\n          toolbar={!!(!markdownOnly && toolbar?.length)}\n          label={\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n            <span onClick={() => onEditorFocus({ focusEditor: true })}>{label}</span>\n          }\n          labelHidden={labelHidden}\n          id={id}\n          info={info}\n          status={status}\n          required={required}\n          disabled={disabled}\n          readOnly={readOnly}\n          onDrop={onDrop}\n          onFocus={(e: FocusEvent) => {\n            if (e.target === formFieldRef.current && !disabled) {\n              onEditorFocus({ focusEditor: true });\n            }\n          }}\n          ref={formFieldRef}\n          aria-label={`${label} ${\n            !markdownOnly && !readOnly && toolbar?.length ? 'Hit tab to edit toolbar below' : ''\n          }`}\n          tabIndex={disabled ? -1 : undefined}\n        >\n          <Slate\n            editor={editor}\n            value={value}\n            onChange={newValue => {\n              if (!disabled) {\n                setValue(newValue);\n                debouncedUpdateToolbarStyle();\n\n                if (searchTriggers && onSearch && markdownOnly) {\n                  const res = searchTriggers.flatMap(({ trigger, regex }) => {\n                    for (let i = 0; i < 10; i += 1) {\n                      try {\n                        const groupId = createUID();\n                        return [\n                          {\n                            trigger,\n                            groupId: `g${groupId}`,\n                            regex: new RegExp(\n                              String.raw`(?:^|\\s)(?<match>${trigger}(?<g${groupId}>${\n                                regex || String.raw`\\w*`\n                              }))$`\n                            )\n                          }\n                        ];\n                      } catch (e: unknown) {\n                        if (!(e instanceof SyntaxError)) throw e;\n                      }\n                    }\n\n                    // Failsafe\n                    return [];\n                  });\n\n                  let search;\n                  for (let i = 0; i < res.length; i += 1) {\n                    search = onSearchChange(editor, res[i]);\n                    if (search) break;\n                  }\n\n                  if (search) {\n                    setPopoverTarget(search.target);\n                    onSearch({ search: search.search, trigger: search.trigger });\n                  } else {\n                    setPopoverTarget(null);\n                  }\n                }\n              }\n            }}\n          >\n            <FormControl\n              {...restProps}\n              ref={ref}\n              ariaLabel={label}\n              required={required}\n              disabled={disabled}\n              readOnly={readOnly}\n              status={status}\n              as={StyledRichTextEditor}\n              toolbar={!!(!markdownOnly && toolbar?.length)}\n              onClick={() => {\n                onEditorFocus({ focusEditor: true });\n              }}\n              focused={ReactEditor.isFocused(editor)}\n            >\n              <EditorContainer\n                toolbar={!!(!markdownOnly && toolbar?.length)}\n                containerHeight={height}\n                onClick={() => {\n                  if (!disabled) {\n                    onEditorFocus({ focusEditor: true });\n                  }\n                }}\n              >\n                <Editable\n                  id={id}\n                  renderElement={nodeRenderer}\n                  renderLeaf={leafRenderer}\n                  onKeyDown={onKeyDown}\n                  onKeyUp={onKeyUp}\n                  placeholder={placeholder}\n                  onFocus={event => {\n                    onEditorFocus({ focusEditor: true, event });\n                  }}\n                  onBlur={() => blurEditor()}\n                  disabled={disabled}\n                  readOnly={readOnly}\n                  onPaste={onPaste}\n                  tabIndex={disabled ? -1 : undefined}\n                />\n              </EditorContainer>\n              {!markdownOnly && !readOnly && toolbar?.length ? (\n                <Toolbar\n                  features={toolbar}\n                  sticky={toolbarSticky}\n                  setFocusableBtn={el => {\n                    setFocusableToolbarBtn(el);\n                  }}\n                />\n              ) : null}\n            </FormControl>\n            <Popover\n              show={!!popoverTarget && !!menu}\n              strategy='fixed'\n              target={searchEl}\n              placement='bottom-start'\n            >\n              {menu && (\n                <Menu\n                  {...menu}\n                  as={StyledSearchPopover}\n                  currentItemId={focusedId}\n                  mode='action'\n                  onItemClick={onMenuItemClick}\n                />\n              )}\n            </Popover>\n          </Slate>\n        </FormField>\n      </RichTextEditorContext.Provider>\n    );\n  }\n);\n\nexport default RichTextEditor;\n","import {\n  forwardRef,\n  FunctionComponent,\n  isValidElement,\n  PropsWithoutRef,\n  ReactElement,\n  Ref,\n  useContext,\n  useRef,\n  useState\n} from 'react';\nimport styled from 'styled-components';\n\nimport {\n  Button,\n  ForwardProps,\n  Popover,\n  useConsolidatedRef,\n  useOuterEvent\n} from '@pega/cosmos-react-core';\n\nimport { FeedContext } from '../Feed/Feed.context';\n\ninterface MentionButtonProps {\n  /** Text for the button, or a regex match containing all necessary props. */\n  children: RegExpExecArray | ReactElement;\n  /** The id of the mention.  */\n  id?: string;\n  /** The text of the mention button. */\n  text?: string;\n  /** Designates the type of the mention for proper handling on click. */\n  type?: string;\n}\n\nconst StyledButton = styled(Button)`\n  &:enabled:focus,\n  &:not([disabled]):focus {\n    box-shadow: none;\n    text-decoration: underline;\n  }\n`;\n\nconst MentionButton: FunctionComponent<MentionButtonProps & ForwardProps> = forwardRef(\n  (\n    {\n      children,\n      id: idProp = '',\n      text: textProp = '',\n      type: typeProp = '',\n      ...restProps\n    }: PropsWithoutRef<MentionButtonProps>,\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const { onMentionClick } = useContext(FeedContext);\n    const [showPopover, setShowPopover] = useState(false);\n    const [mentionContent, setMentionContent] = useState<JSX.Element | undefined>();\n    const mentionRef = useConsolidatedRef(ref);\n    const popoverRef = useRef(null);\n\n    useOuterEvent(['click', 'focusin'], [mentionRef, popoverRef], () => {\n      setShowPopover(false);\n    });\n\n    let leadingChar = '';\n    let trailingChar = '';\n    let id = '';\n    let text = '';\n    let type = '';\n\n    if (!isValidElement(children)) {\n      if (!children.groups) return <span>{children[0]}</span>;\n\n      [leadingChar, trailingChar] = children[0].split(children.groups.match);\n      id = children.groups.id;\n      text = children.groups.text;\n      type = children.groups.type;\n    } else {\n      id = idProp;\n      text = textProp;\n      type = typeProp;\n    }\n\n    const handleClick = () => {\n      const comp = onMentionClick?.({\n        id,\n        text,\n        type\n      });\n      if (comp) setShowPopover(true);\n      setMentionContent(comp);\n    };\n\n    return (\n      <>\n        {leadingChar && <span>{leadingChar}</span>}\n        <StyledButton\n          {...restProps}\n          ref={mentionRef}\n          variant='link'\n          onClick={handleClick}\n          spellCheck={false}\n        >\n          {isValidElement(children) ? children : text}\n        </StyledButton>\n        {trailingChar && <span>{trailingChar}</span>}\n        <Popover\n          ref={popoverRef}\n          show={showPopover}\n          target={mentionRef.current}\n          placement='bottom-start'\n          arrow\n        >\n          {mentionContent}\n        </Popover>\n      </>\n    );\n  }\n);\n\nexport const MentionButtonConfig = {\n  type: 'mention',\n  regexPattern: /(?:^|)(?<match>@(?<id>[^ :]+\\w):(?<text>[^:]+\\w):(?<type>[^:]+\\w):)/g,\n  component: MentionButton\n};\n\nexport default MentionButton;\n","import {\n  forwardRef,\n  FunctionComponent,\n  isValidElement,\n  PropsWithoutRef,\n  ReactElement,\n  Ref,\n  useContext\n} from 'react';\nimport styled from 'styled-components';\n\nimport { Tag, ForwardProps } from '@pega/cosmos-react-core';\n\nimport { FeedContext } from '../Feed/Feed.context';\n\ninterface HashtagButtonProps {\n  /** Text for the button, or a regex match containing all necessary props. */\n  children: RegExpExecArray | ReactElement;\n  /** The tag value. */\n  tag?: string;\n}\n\nconst StyledTag = styled(Tag)`\n  cursor: pointer;\n`;\n\nconst HashtagButton: FunctionComponent<HashtagButtonProps & ForwardProps> = forwardRef(\n  (\n    { children, tag: tagProp = '', ...restProps }: PropsWithoutRef<HashtagButtonProps>,\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const { onTagClick } = useContext(FeedContext);\n\n    let leadingChar = '';\n    let trailingChar = '';\n    let tag = '';\n\n    if (!isValidElement(children)) {\n      if (!children.groups) return <span>{children[0]}</span>;\n\n      [leadingChar, trailingChar] = children[0].split(children.groups.match);\n      tag = children.groups.tag;\n    } else {\n      tag = tagProp;\n    }\n\n    return (\n      <>\n        {leadingChar && <span>{leadingChar}</span>}\n        <StyledTag {...restProps} ref={ref} onClick={() => onTagClick?.(tag)} spellCheck={false}>\n          {isValidElement(children) ? children : tag}\n        </StyledTag>\n        {trailingChar && <span>{trailingChar}</span>}\n      </>\n    );\n  }\n);\n\nexport const HashtagButtonConfig = {\n  type: 'tag',\n  regexPattern: /(?:^|)(?<match>#(?<tag>[^ :]+\\w):)/g,\n  component: HashtagButton\n};\n\nexport default HashtagButton;\n","import { FC, useContext, forwardRef, Ref, useState, useRef } from 'react';\n\nimport { cap, ForwardProps } from '@pega/cosmos-react-core';\nimport { RichTextEditor, RichTextEditorProps, RichTextEditorState } from '@pega/cosmos-react-rte';\n\nimport { MentionButtonConfig } from '../MentionButton';\nimport { HashtagButtonConfig } from '../HashtagButton';\n\nimport { FeedContext } from './Feed.context';\n\nexport interface FeedRichTextProps\n  extends Pick<RichTextEditorProps, 'onChange' | 'onFocus' | 'onBlur' | 'placeholder' | 'height'> {\n  onSubmit: () => void;\n}\n\nconst FeedRichText: FC<FeedRichTextProps & ForwardProps> = forwardRef(\n  (props: FeedRichTextProps, ref: Ref<RichTextEditorState>) => {\n    const { onSubmit, height = { min: 'auto' }, ...restProps } = props;\n    const {\n      searchTypes = [],\n      onSearch,\n      searchResults = [],\n      showSearchResults,\n      setShowSearchResults\n    } = useContext(FeedContext);\n    const [triggerType, setTriggerType] = useState<'mention' | 'tag'>('mention');\n    const [showMentionType, setShowMentionType] = useState(false);\n    const searchType = useRef('');\n\n    const onDecoSearch = (event: { search: string; trigger: string }) => {\n      const trigger = event.trigger === '@' ? 'mention' : 'tag';\n      setTriggerType(trigger);\n      if (trigger === 'mention' && event.search === '') {\n        setShowMentionType(true);\n      } else {\n        setShowMentionType(false);\n        onSearch?.({ type: trigger, search: event.search, mentionType: searchType.current });\n      }\n    };\n\n    const onKeyDown = (event: KeyboardEvent) => {\n      setShowSearchResults?.(true);\n      if ((event.metaKey || event.ctrlKey) && event.key === 'Enter') onSubmit();\n    };\n\n    const typesMenu = {\n      onItemActive: (id: string) => {\n        searchType.current = id;\n      },\n      onItemClick: (id: string) => {\n        searchType.current = id;\n        setShowMentionType(false);\n        onSearch?.({ type: 'mention', search: '', mentionType: id });\n      },\n      items: searchTypes.map(type => {\n        return { id: type, primary: cap(type) };\n      })\n    };\n\n    const searchMenu =\n      searchResults.length && showSearchResults\n        ? {\n            header: triggerType === 'mention' ? `Mention a ${searchType.current}` : '',\n            items: searchResults\n          }\n        : undefined;\n\n    const getSearchAttributes = (searchResult: RegExpExecArray) => {\n      if (searchResult.groups) {\n        if (searchResult.groups.tag) {\n          const tag = searchResult.groups.tag;\n\n          return {\n            markdown: searchResult.groups.match,\n            component: HashtagButtonConfig.component,\n            props: { tag },\n            text: tag\n          };\n        }\n\n        const id = searchResult.groups.id;\n        const text = searchResult.groups.text;\n        const type = searchResult.groups.type;\n\n        return {\n          markdown: searchResult.groups.match,\n          component: MentionButtonConfig.component,\n          props: { id, text, type },\n          text\n        };\n      }\n    };\n\n    return (\n      <RichTextEditor\n        {...restProps}\n        markdownOnly\n        onKeyDown={onKeyDown}\n        ref={ref}\n        height={height}\n        searchTriggers={[\n          { trigger: '@', regex: String.raw`(?:\\S+(?:[^\\n\\S][^@#\\s]\\S*)*[^\\n\\S]?|)` },\n          { trigger: '#', regex: String.raw`[^\\s,]*` }\n        ]}\n        getSearchItemReplacement={(id: string) => {\n          const item = searchResults?.find(({ id: itemId }) => itemId === id);\n\n          if (!item) return undefined;\n\n          return {\n            markdown:\n              triggerType === 'mention'\n                ? `@${item.id}:${item.primary}:${searchType.current}:`\n                : `#${item.id}:`,\n            component:\n              triggerType === 'mention'\n                ? MentionButtonConfig.component\n                : HashtagButtonConfig.component,\n            props:\n              triggerType === 'mention'\n                ? { id: item.id, text: item.primary, type: searchType.current, tabIndex: -1 }\n                : { tag: item.primary, tabIndex: -1 },\n            text: item.primary\n          };\n        }}\n        searchRenderers={[\n          { regexPattern: MentionButtonConfig.regexPattern, getSearchAttributes },\n          { regexPattern: HashtagButtonConfig.regexPattern, getSearchAttributes }\n        ]}\n        onSearch={onDecoSearch}\n        menu={showMentionType ? typesMenu : searchMenu}\n      />\n    );\n  }\n);\n\nexport default FeedRichText;\n"],"names":["StyledSelectable","props","theme","components","badges","selectable","base","foreground","background","dark","palette","borderRadius","spacing","displayBackground","hoverBorder","boxShadowColor","interactive","Selectable","forwardRef","ref","consolidatedRef","id","onSelect","onRemove","children","onClick","onKeyUp","restProps","role","tabIndex","as","e","key","preventDefault","stopPropagation","name","StyledTag","tag","borderColor","boxShadow","shadow","focus","defaultProps","Tag","StyledSelectInput","input","height","S","StyledComboBox","StyledMultiSelectInput","MultiSelectInput","selected","value","onChange","onKeyDown","actions","readOnly","disabled","status","placeholder","autoFocus","inputRef","listRef","useRef","selector","cycle","dir","onInputKeyDown","useCallback","lastIndex","length","end","forwardedAs","container","alignItems","item","grow","wrap","onBlur","current","querySelectorAll","forEach","el","map","element","idx","toString","text","size","undefined","autoComplete","Component","d","viewBox","focusable","NextKey","PrevKey","setTabIndexes","Array","from","slice","HTMLElement","checked","listener","includes","items","filter","rootNode","getRootNode","Document","ShadowRoot","newFocusIdx","focusIdx","indexOf","activeElement","lastIdx","useEffect","addEventListener","removeEventListener","maxHeight","minHeightProp","useState","minHeight","setMinHeight","debouncedAutoResize","newMinHeight","scrollHeight","style","overflowY","Math","min","FeedContext","createContext","searchTypes","userInfo","username","fullname","announce","FeedReplyContext","SwitchLabel","switch","width","touchWidth","touchHeight","off","color","animation","speed","timing","ease","SwitchInput","on","ltr","useDirection","checkmarkColor","onHoverColors","offHoverColors","StyledSwitch","uid","useUID","label","type","Flex","htmlFor","Icon","StyledFeedAnnouncer","StyledFeed","StyledHeading","StyledFilterMenu","StyledFilterList","StyledLoadMore","visible","variant","title","className","onDecoratorSearch","searchResults","onMentionClick","onTagClick","mentionContent","interactionRenderers","markdownMap","filters","onFilterChange","onLoadMore","newPostRegion","posts","t","useI18n","useElement","popoverEl","setPopoverEl","buttonEl","setButtonEl","loadMoreEl","setLoadMoreEl","mountPopover","setMountPopover","feedOverflows","setFeedOverflows","showSearchResults","setShowSearchResults","feedOverflowsRef","prevPosts","usePrevious","announcementText","setAnnouncementText","filterRef","useArrows","useOuterEvent","onKeydown","document","intersectionObserver","IntersectionObserver","entries","isIntersecting","observe","disconnect","announcement","setTimeout","onSearch","justify","Text","Button","FeedButton","icon","curr","emphasized","reduce","acc","Popover","show","target","direction","gap","Grid","event","Progress","placement","getMimeTypeFromFile","fileName","fileExt","split","pop","toLowerCase","getKindFromMimeType","mimeType","startsWith","endsWith","match","mapping","generic","iconName","backgroundColor","video","audio","message","pdf","spreadsheet","presentation","link","archive","database","image","StyledFileVisual","StyledIconFrame","light","StyledThumbnailFrame","thumbnail","onThumbnailError","visualConfig","lightness","useTheme","colors","Image","src","onError","alt","StyledFileUploadItem","SummaryItem","hasThumbnail","meta","error","progress","onCancel","onEdit","onPreview","onDownload","onDelete","thumbnailError","setThumbnailError","definedActions","useMemo","fn","action","metaContent","floor","isArray","MetaList","i","MenuButton","iconOnly","menu","primary","visual","secondary","overflowStrategy","StyledFeedAttachments","StyledImagePreview","BareButton","button","StyledAttachmentsRegion","attachments","useContext","prevAttachments","difference","normalizedDifference","count","previewableFiles","nonPreviewableFiles","file","push","lastModified","cols","FeedContent","maxContentHeight","Infinity","collapsed","setCollapsed","exceedsMaxHeight","setExceedsMaxHeight","rtvRef","useLayoutEffect","observer","ResizeObserver","exceedsHeight","some","contentRect","content","InlineBareButton","FeedLikeButton","showText","onLikeCountInteraction","onLoadMoreLikes","liked","likeLabel","likeCount","likes","locale","create","loggedInUser","countEl","setCountEl","likesModalRef","update","heading","listItems","likesAttributes","likesList","x","ariaLabel","separator","onLikeCountClick","eventObj","user","imageSrc","avatarSrc","postId","onLikeClick","replyId","onFocus","onMouseOver","showDelay","hideDelay","listOverflows","setListOverflows","listOverflowsRef","alignSelf","StyledCountBadgePopoverContent","StyledPostTypePopoverContent","StyledRecipientCount","Status","StyledSelectedInputContainer","StyledRecipientBackButton","fontWeight","StyledRecipientMenuHeader","StyledTypeMenuToggle","StyledRecipientMenu","Menu","StyledPostTypePopover","normal","typeCopy","post","private","getTypeMenuItems","initialState","postType","itemsLoading","showTypeMenu","showRecipientMenu","viewingRecipients","showCountPopover","searchValue","typeMenuItems","recipientMenuItems","multiSelectItems","recipients","onSetPostType","onSelectedRecipientsUpdate","onRecipientSearch","reset","onReset","menuPopoverId","multiSelectInputRef","toggleEl","setToggleEl","recipientCountEl","setRecipientCountEl","typePopoverEl","setTypePopoverEl","typeMenuPopoverTarget","setTypeMenuPopoverTarget","useReducer","state","payload","privateSelected","selectedId","recipient","concat","selectedFromMenu","selectedIds","checkIds","createRecipientMenuItem","dispatch","closest","handleKeydownToggle","useAfterInitialEffect","interactionTimeout","clearTimeout","onMouseEnter","onMouseLeave","arrow","focusControlEl","mode","onItemClick","find","onItemExpand","loading","scrollAt","emptyText","StyledTextAreaOverflow","StyledFeedNewPost","HiddenFileInput","interactionInfo","onPost","onFilesAdded","rteRef","textAreaPlaceholder","postLabel","setEmptyText","hasFocus","setHasFocus","setPostType","resetPostTypeMenu","setResetPostTypeMenu","selectedRecipients","setSelectedRecipients","attachmentEl","setAttachmentEl","newPostEl","setNewPostEl","useAutoResize","textAreaRef","resizeTextArea","clear","handlePost","every","newPostId","getPlainText","CardContent","Avatar","FeedRichText","labelHidden","trim","onSubmit","click","multiple","files","FeedAttachments","ExpandCollapse","StyledFeedPost","StyledPostEdit","StyledReplies","StyledPostFooter","FullWidthSummaryItem","FeedPost","info","onCommentClick","onRecipientInteraction","onLoadMoreRecipients","onUserClick","menuItems","onShowMoreClick","newReplyField","onEditSubmit","edited","replies","replyInput","replyInputShown","replyCount","repliesLoading","onShowLessReplies","onShowMoreReplies","timeElapsed","recipientsCount","postContext","userStatus","commentLabel","interactionsEnabled","editMode","setEditMode","editTextAreaRef","emptyEditText","setEmptyEditText","postModified","setPostModified","replyInputOpen","setReplyInputOpen","replyInputRef","setReplyInputRef","recipientsModalRef","prevReplies","suppressNextAnnouncement","userVisual","numReplies","postTypeAttributes","recipientsList","handleEdit","onShowReplyInput","defaultValue","pad","onSetInputRef","StyledFeedReplyContent","StyledFeedReplyUser","StyledVisualButton","StyledFeedReplyContainer","fullnameLabel","replyModified","setReplyModified","StyledReplyInputContainer","StyledFeedReply","StyledFeedReplyInput","ReplyFeedButton","onAddAttachment","hiddenInputRef","attachmentListRef","attachmentsButtonRef","submitButtonRef","handleSubmit","contains","toUpperCase","History","isPlainObject","Operation","SAVING","WeakMap","MERGING","HistoryEditor","isHistoryEditor","Editor","isMerging","isSaving","redo","editor","undo","withoutMerging","prev","withoutSaving","shouldMerge","op","Path","shouldSave","shouldOverwrite","shouldClear","LIST_TYPES","TEXT_TYPES","matchList","n","matchListItem","commands","toggleList","at","selection","anchor","path","order","level","checkListEnter","listItemNodeEntry","belowListItemPath","listItemNode","listItemPath","textNode","parentNode","newId","copiedChildren","copiedList","node","parentId","selectionPoint","offset","unNestList","nestList","listType","highestList","abovePath","aboveListItemNode","aboveListItemPath","innerTextNodePath","copiedSubListNodes","newListItemChildren","subList","parentSubListItem","parentSubListItemPath","nextParentSubListItemPath","subOrderCount","nextInnerTextNodePath","nodePath","highestParent","parentList","newParentId","nextPath","newParentList","newParentListPath","childPath","textKeyCodeMapping","isFormatActive","format","marks","toggleFormat","isBlockActive","getActiveBlockType","setBlock","replaceWithText","replaceWithNodes","getSelectedNode","appendTable","table","fill","row","firstTableCell","nextPosition","appendImage","imageData","Number","appendImagePlaceholder","next","createLink","url","linkNode","href","before","unit","after","calculatedAfter","calculatedBefore","checkImageEnter","keyCode","checkLinkBreak","checkSearchDownKeys","nextNode","previousNode","previousPath","searchResult","nextInline","previous","previousInline","singlePointSelection","atStart","atEnd","distance","reverse","altKey","ctrlKey","metaKey","checkSearchUpKeys","distanceToStart","distanceToEnd","indent","ListCommands","start","unindent","newText","replace","checkKeyCommands","cmdOrCtrl","commandExecuted","shiftKey","RichTextEditorContext","addImage","setPopoverOpen","onEditorFocus","useRTEContext","StyledToolbarButton","active","styleType","activeColor","tooltip","onMouseDown","contextDisabled","setEl","toolBarRef","useConsolidatedRef","onKeyPress","Tooltip","EditorCommands","getKeyCommand","osx","func","ctrl","shift","buttonRef","textInputRef","urlInputRef","selectedText","setSelectedText","setSelection","setUrl","urlMatch","setUrlMatch","anchorMenu","setAnchorMenu","openMenu","opts","focusInput","resetMenu","focusEditor","runAfterFocus","preventDef","cancelAnchorCreation","keyCommandListener","isLinkActive","Form","URL","test","rowGap","Input","urlInput","StyledImageInput","fileInputRef","accept","StyledTextSelect","fontSizes","xxs","StyledSelectMenu","textMapping","paragraph","getTextCommand","num","open","setOpen","selecting","openedByClick","popoverRef","menuRef","textFormats","subText","getTextFormats","focusElOnClose","StyledToolbar","sticky","renderStyleButtons","focused","renderCutCopyPaste","execCommand","navigator","clipboard","readText","then","btn","createActiveFeaturesMap","features","feature","setFocusableBtn","setOsx","toolbarRef","activeFeatures","setActiveFeatures","querySelector","appVersion","lists","indentation","tables","links","images","onSearchChange","groupId","regex","trigger","cursorPos","searchNode","posBeforeWord","lineRange","lineText","beforeMatch","groups","matchLength","targetRange","search","slateToHtmlMap","bold","italic","constructHtml","nodes","html","htmlTag","restNode","Object","keys","innerAcc","firstInnerTag","attrs","attr","syntheticFocusReducer","currentId","selectedItemId","StyledSearchPopover","RichTextEditor","required","toolbar","onImageAdded","markdownOnly","searchTriggers","getSearchItemReplacement","searchRenderers","formFieldRef","isVoid","withVoids","apply","undos","redos","history","batch","inverseOps","lastBatch","lastOp","overwrite","save","merge","operations","withHistory","setValue","toolbarPopover","setToolbarPopover","toolbarSticky","setToolbarSticky","focusableToolbarBtn","setFocusableToolbarBtn","focusedId","dispatchFocus","popoverTarget","setPopoverTarget","searchEl","setSearchEl","debouncedUpdateToolbarStyle","offsetHeight","window","innerHeight","force","blurEditor","useImperativeHandle","markdown","join","getRichText","JSON","stringify","getHtml","htmlNodes","convertSlateToHtml","point","imageId","insertText","insertHtml","prevValue","onMenuItemClick","itemId","replacement","component","toJSON","placeholderId","Provider","FormField","onDrop","dataTransfer","newValue","res","flatMap","RegExp","String","raw","SyntaxError","FormControl","containerHeight","renderElement","renderLeaf","onPaste","clipboardData","getAsFile","strategy","currentItemId","StyledButton","MentionButton","idProp","textProp","typeProp","showPopover","setShowPopover","setMentionContent","mentionRef","leadingChar","trailingChar","isValidElement","comp","spellCheck","MentionButtonConfig","regexPattern","HashtagButton","tagProp","HashtagButtonConfig","triggerType","setTriggerType","showMentionType","setShowMentionType","searchType","typesMenu","onItemActive","mentionType","searchMenu","header","getSearchAttributes"],"sourceRoot":""}