"use strict";(self.webpackChunkdemocosmos=self.webpackChunkdemocosmos||[]).push([[64654,65796],{14574:function(n,e,o){o.d(e,{b:function(){return f},v:function(){return v}});var t,i,r=o(30168),a=o(16444),l=o(36862),s=o(37260),c=o(87946),d=o(57993),u=o(82888),f=a.ZP.div((function(n){var e=n.theme,o=e.base,i=e.components;return(0,a.iv)(t||(t=(0,r.Z)(["\n    @media (pointer: coarse) {\n      min-height: ",";\n    }\n\n    div {\n      min-height: ",";\n    }\n\n    &:focus-within {\n      border-color: ",";\n      box-shadow: ",";\n    }\n\n    &:hover:not([readonly]):not([disabled]):focus-within {\n      border-color: transparent;\n    }\n\n    input {\n      min-width: 0;\n      width: 100%;\n      height: calc("," - 2 * ",");\n      color: ",";\n      text-overflow: ellipsis;\n      margin-inline: ",";\n    }\n\n    input,\n    input:focus {\n      border: none;\n      outline: none;\n      flex-grow: 1;\n      background-color: transparent;\n\n      &:read-only {\n        cursor: default;\n      }\n    }\n\n    & > "," {\n      align-self: stretch;\n      height: auto;\n      margin-block: -0.0625rem;\n      margin-inline-end: -0.0625rem;\n      border-start-start-radius: 0;\n      border-start-end-radius: calc(\n        "," * ","\n      );\n      border-end-start-radius: 0;\n      border-end-end-radius: calc(\n        "," * ","\n      );\n    }\n  "])),o["hit-area"]["finger-min"],i.input.height,i["form-control"][":focus"]["border-color"],i["form-control"][":focus"]["box-shadow"],i.input.height,i["form-control"]["border-width"],i["form-control"]["foreground-color"],o.spacing,s.Sn,o["border-radius"],i["form-control"]["border-radius"],o["border-radius"],i["form-control"]["border-radius"])}));f.defaultProps=l.ns;var v=(0,a.ZP)(c._)((function(){return(0,a.iv)(i||(i=(0,r.Z)(["\n    border: 0;\n\n    "," {\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n\n      ",",\n      "," {\n        max-height: inherit;\n      }\n    }\n  "])),d.u,u.l2,u.k5)}));v.defaultProps=l.ns},75528:function(n,e,o){var t,i=o(1413),r=o(29439),a=o(44925),l=o(30168),s=o(80184),c=o(72791),d=o(16444),u=o(66010),f=o(36862),v=o(15579),m=o(87946),h=o(41878),g=o(80068),p=o(9972),Z=o(85051),b=o(38637),x=o(14006),w=o(87517),j=o(15615),k=o(56587),y=o(52278),C=o(14574),R=["selected","value","onRemove","onChange","onKeyDown","onResolveSuggestion","actions","readOnly","disabled","status","placeholder","autoFocus","pauseDescendantEvaluation","onSelectedFocus","onSelectedBlur","aria-controls"],S=(0,d.ZP)(C.b)((function(n){var e=n.theme,o=e.components.badges.selectable.base.background,i=e.base.palette["foreground-color"],r=(0,w.Z)((function(){return(0,u.DZ)(.45,i)}));return(0,d.iv)(t||(t=(0,l.Z)(["\n    cursor: text;\n\n    ul {\n      list-style: none;\n      display: contents;\n\n      &[data-active-scope='true'] ","[data-current='true'] {\n        color: ",";\n        box-shadow: 0 0 0.5rem -0.125rem ",", inset 0 0 0 0.125rem ",";\n        outline: none;\n\n        "," {\n          color: ",";\n        }\n      }\n    }\n\n    input {\n      width: 8ch;\n      height: 1.125rem;\n    }\n  "])),v.Z,e.base.palette.interactive,r,o,k.g,e.base.palette.interactive)}));S.defaultProps=f.ns;var D=(0,c.forwardRef)((function(n,e){var o=n.selected,t=void 0===o?[]:o,l=n.value,d=n.onRemove,u=n.onChange,f=n.onKeyDown,w=n.onResolveSuggestion,k=n.actions,C=n.readOnly,D=n.disabled,P=n.status,_=n.placeholder,A=n.autoFocus,I=n.pauseDescendantEvaluation,E=n.onSelectedFocus,F=n.onSelectedBlur,z=n["aria-controls"],B=(0,a.Z)(n,R),O=(0,g.Z)(),q=(0,p.Z)(),M=(0,Z.Z)(e),N=(0,c.useRef)(null),T=(0,c.useState)(null),K=(0,r.Z)(T,2),L=K[0],H=K[1],V=(0,c.useState)(null),G=(0,r.Z)(V,2),U=G[0],X=G[1],Y=(0,b.Z)(),J=Y.start,Q=Y.end,W=(0,c.useMemo)((function(){return{focusEl:M.current,scope:N.current,selector:'li[role="option"]',orientation:"horizontal",focusReturnEl:L,clearFocusReturn:function(){H(null)},pauseDescendantEvaluation:I,onClick:function(n){n.click()}}}),[I,t,L]),$=(0,x.Z)(W,[t]).activeDescendant,nn=(0,c.useCallback)((function(n,e){var o,i;if(!I)if(e===t.length-1)t.length>1?H((null===(i=N.current)||void 0===i?void 0:i.querySelectorAll(W.selector)[e-1])||null):null===F||void 0===F||F();else if(t.length>1){var r;H((null===(r=N.current)||void 0===r?void 0:r.querySelectorAll(W.selector)[e+1])||null)}null===d||void 0===d||d(n,e),null===(o=M.current)||void 0===o||o.focus()}),[t,d,F,W]);(0,c.useEffect)((function(){null!==$&&void 0!==$&&$.id&&$.id!==U&&X($.id)}),[$]);var en=(0,c.useCallback)((function(n){var e;if(t.length&&0===(null===(e=M.current)||void 0===e?void 0:e.selectionStart)){var o,i,r=t.length-1;if(I&&n.key==="Arrow".concat((0,j.Z)(J)))H((null===(i=N.current)||void 0===i?void 0:i.querySelectorAll(W.selector)[r])||null),null===E||void 0===E||E();var a=null===(o=N.current)||void 0===o||null===(o=o.querySelectorAll(W.selector)[r])||void 0===o?void 0:o.id;!I&&(U===a&&n.key==="Arrow".concat((0,j.Z)(Q))||"ArrowDown"===n.key)&&(null===F||void 0===F||F()),!["Backspace","Delete"].includes(n.key)||C||D||nn(t[r].id,r)}null===f||void 0===f||f(n)}),[I,U,f,nn,t,C,D]),on=(0,c.useMemo)((function(){return u?"".concat(q,"-inputDescription  ").concat(q,"-searchDescription"):"".concat(q,"-inputDescription")}),[q]);return(0,s.jsxs)(h.Z,(0,i.Z)((0,i.Z)({as:S,forwardedAs:m._,hasSuggestion:"pending"===P&&!!w,container:{alignItems:"center",justify:"between"}},{readOnly:C,disabled:D,status:P}),{},{children:[(0,s.jsxs)(h.Z,{container:{alignContent:"center",wrap:"wrap",rowGap:.5,colGap:.25,pad:.25},item:{grow:1},onClick:function(n){var e,o;n.target instanceof HTMLElement&&!n.currentTarget.contains(n.target.closest("li"))&&(null===(e=M.current)||void 0===e||e.focus(),null===(o=M.current)||void 0===o||o.click())},children:[t.length>0&&(0,s.jsx)("ul",{ref:N,id:q,role:"listbox","aria-label":O("selected_items"),children:t.map((function(n,e){return(0,s.jsx)(v.C,{as:"li",role:"option",id:n.id.toString(),status:P,onClick:function(o){var t=0!==o.detail;C||D||t||nn(n.id,e)},onRemove:function(){C||D||nn(n.id,e)},onKeyDown:function(n){"Backspace"===n.key&&n.preventDefault()},tabIndex:"-1","aria-label":"".concat(O("remove")," ").concat(n.text),"aria-describedby":on,children:n.text},n.id)}))}),(0,s.jsx)(h.Z,(0,i.Z)((0,i.Z)({item:{grow:1},as:"input",size:1,ref:M,value:l,onChange:u||function(){},onKeyDown:en,readOnly:C||!u,disabled:D,placeholder:null!==t&&void 0!==t&&t.length?void 0:_,autoComplete:"off",autoFocus:A,"aria-controls":I?z:q},B),{},{required:void 0}))]}),k,(0,s.jsx)(y.Z,{id:"".concat(q,"-inputDescription"),children:"".concat(O("combobox_open_close")," ")}),(0,s.jsx)(y.Z,{id:"".concat(q,"-searchDescription"),children:O("combobox_search_instructions")})]}))}));e.Z=D},64125:function(n,e,o){var t,i,r,a,l,s=o(1413),c=o(44925),d=o(30168),u=o(80184),f=o(72791),v=o(16444),m=o(12616),h=o(37260),g=o(85477),p=o(41878),Z=o(2461),b=o(8278),x=o(94342),w=o(20029),j=o(73180),k=o(36862),y=o(38637),C=o(80068),R=o(9972),S=o(44896),D=o(68904),P=["children","collapsed","actions","additionalInfo"],_=["children","description","name","additionalInfo","actions","collapsed","headingTag","onToggleCollapsed"];(0,x.q5)(w);var A=(0,v.ZP)(h.ZP)((function(n){var e=n.theme.base.animation,o=(0,y.Z)().rtl;return(0,v.iv)(t||(t=(0,d.Z)(["\n      "," {\n        transition: transform "," ",";\n      }\n      &[aria-expanded='true'] "," {\n        transform: rotate(90deg);\n      }\n      &[aria-expanded='false'] "," {\n        transform: rotate(","deg);\n      }\n    "])),x.xL,e.speed,e.timing.ease,x.xL,x.xL,o?180:0)}));A.defaultProps=k.ns;var I=v.ZP.span(i||(i=(0,d.Z)([""]))),E=v.ZP.legend.withConfig((0,S.cZ)("collapsed"))((function(n){var e=n.collapsed,o=n.theme.base,t=o.spacing,i=o.animation,l=o["hit-area"],s=l["mouse-min"],c=l["finger-min"];return(0,v.iv)(r||(r=(0,d.Z)(["\n      width: 100%;\n      margin-bottom: 0;\n      ","\n      transition: margin-block-end "," ",";\n\n      > "," {\n        min-height: ",";\n\n        @media (pointer: 'coarse') {\n          min-height: ",";\n        }\n      }\n    "])),!e&&(0,v.iv)(a||(a=(0,d.Z)(["\n        margin-block-end: calc(1.5 * ",");\n      "])),t),i.speed,i.timing.ease,A,s,c)}));E.defaultProps=k.ns;var F=v.ZP.fieldset((function(n){var e=n.theme,o=e.base,t=o["font-size"],i=o["font-scale"],r=e.components.text,a=(0,S.MX)(t,i);return(0,v.iv)(l||(l=(0,d.Z)(["\n      border: none;\n\n      & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n\n      & & & & "," {\n        font-size: ",";\n        font-weight: ",";\n      }\n    "])),I,a[r.h3["font-size"]],r.h3["font-weight"],I,a[r.h4["font-size"]],r.h4["font-weight"],I,a[r.h5["font-size"]],r.h5["font-weight"],I,a[r.h6["font-size"]],r.h6["font-weight"])}));F.defaultProps=k.ns;var z=function(n){var e=n.children,o=n.collapsed,t=n.actions,i=n.additionalInfo,r=(0,c.Z)(n,P);return(0,u.jsx)(E,(0,s.Z)((0,s.Z)({collapsed:o},r),{},{children:(0,u.jsxs)(p.Z,{container:{alignItems:"center",justify:"between",gap:.5},children:[(0,u.jsxs)(p.Z,{container:{alignItems:"center",gap:.5},children:[e,i&&(0,u.jsx)(D.Z,{heading:i.heading,children:i.content})]}),t&&(0,u.jsx)(j.Z,{items:t})]})}))},B=(0,f.forwardRef)((function(n,e){var o=n.children,t=n.description,i=n.name,r=n.additionalInfo,a=n.actions,l=n.collapsed,d=n.headingTag,f=n.onToggleCollapsed,v=(0,c.Z)(n,_),h=(0,C.Z)(),w=(0,R.Z)(),j=(0,u.jsxs)(Z.Z,{container:{cols:"minmax(0, 1fr)",gap:3},children:[t&&(0,u.jsx)(b.ZP,{id:"".concat(w,"-description"),as:"p",content:t}),(0,u.jsx)("div",{children:o})]});return(0,u.jsxs)(F,(0,s.Z)((0,s.Z)({"aria-label":i,"aria-describedby":t?"".concat(w,"-description"):void 0},v),{},{ref:e,children:[i&&(0,u.jsx)(z,{collapsed:l,actions:a,additionalInfo:r,children:"boolean"===typeof l?(0,u.jsx)(A,{type:"button",variant:"text",onClick:function(){null===f||void 0===f||f()},"aria-expanded":l?"false":"true","aria-label":h(l?"expand_noun":"collapse_noun",[i]),children:(0,u.jsxs)(p.Z,{container:{direction:"row",alignItems:"center",gap:.5},forwardedAs:"span",children:[(0,u.jsx)(x.ZP,{name:"caret-right"}),d?(0,u.jsx)(m.Z,{variant:d,children:i}):(0,u.jsx)(I,{children:i})]})}):(0,u.jsx)(u.Fragment,{children:d?(0,u.jsx)(m.Z,{variant:d,children:i}):(0,u.jsx)(I,{children:i})})}),"boolean"===typeof l?(0,u.jsx)(g.Z,{collapsed:l,children:j}):j]}))}));e.ZP=B},65796:function(n,e,o){o.r(e),o.d(e,{Component:function(){return a},name:function(){return r},set:function(){return i},viewBox:function(){return l}});var t=o(80184),i="budicon",r="caret-up",a=function(){return(0,t.jsx)("path",{d:"M4 17.25V14.5L12.5 8l8.5 6.5v2.75l-8.5-6.5z"})},l="0 0 25 25"},14555:function(n,e,o){o.d(e,{Z:function(){return En}});var t,i,r,a=o(1413),l=o(93433),s=o(29439),c=o(44925),d=o(30168),u=o(80184),f=o(72791),v=o(16444),m=o(54164),h=o(80677),g=o(14472),p=o(16245),Z=o(80068),b=o(37260),x=o(73180),w=o(41878),j=o(27132),k=o(35393),y=o(41970),C=o(36862),R=o(91062),S=o(21750),D=o(39116),P=o(44896),_=["loading","actions","items","searchInputProps"],A=v.ZP.div((function(n){var e=n.theme.base;return(0,v.iv)(t||(t=(0,d.Z)(["\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background-color: ",";\n    margin-bottom: ",";\n    transform: translateY(calc(-0.5 * ","));\n    padding: "," 0;\n\n    "," {\n      flex-grow: 1;\n    }\n  "])),e.palette["primary-background"],e.spacing,e.spacing,e.spacing,k.GB)}));A.defaultProps=C.ns;var I,E,F=v.ZP.div.withConfig((0,P.cZ)("loading"))((function(n){var e=n.loading;return(0,v.iv)(i||(i=(0,d.Z)(["\n    ",":not("," "," > ",") {\n      padding: 0;\n    }\n\n    ","\n  "])),D.e,S.r,S.r,D.e,e&&(0,v.iv)(r||(r=(0,d.Z)(["\n      min-height: 8rem;\n    "]))))})),z=(0,f.forwardRef)((function(n,e){var o=n.loading,t=n.actions,i=n.items,r=n.searchInputProps,l=(0,c.Z)(n,_),d=(0,f.useState)(""),v=(0,s.Z)(d,2),m=v[0],g=v[1];return(0,u.jsxs)(F,(0,a.Z)((0,a.Z)({ref:e,loading:o},l),{},{children:[!o&&(r||t)&&(0,u.jsxs)(w.Z,{container:{justify:"between",alignItems:"center",gap:2},as:A,children:[r&&(0,u.jsx)(w.Z,{container:{alignItems:"center",gap:1},item:{grow:1},children:(0,u.jsx)(y.Z,{onSearchChange:function(n){var e;null===(e=r.onSearchChange)||void 0===e||e.call(r,n),g(n)},value:r.value||m})}),t&&(0,u.jsx)(x.Z,{iconOnly:!1,items:t})]}),o&&(0,u.jsx)(R.Z,{placement:"local"}),!o&&(i.length?(0,u.jsx)(h.ZP,{items:i}):(0,u.jsx)(j.Z,{}))]}))})),B=o(63837),O=o(23730),q=o(12616),M=o(22479),N=o(94342),T=o(25419),K=o(65796),L=o(9972),H=o(98716),V=o(38637),G=o(75903),U=o(85051),X=o(52003),Y=o(55656),J=o(94496),Q=o(87946),W=o(25935),$=o(994),nn=o(79661),en=o(48426),on=o(11713),tn=o(52278),rn=o(14574),an=["value","readOnly","disabled","status","actions","onChange","onResolveSuggestion","selected","visual"],ln=(0,v.ZP)(rn.b)(I||(I=(0,d.Z)([""]))),sn=v.ZP.span((function(n){var e=n.theme,o=e.base,t=e.components,i=t["form-control"],r=t.input.height;return(0,v.iv)(E||(E=(0,d.Z)(["\n    border-inline-end: "," solid ",";\n    min-width: calc("," - ",");\n    padding: 0 calc(0.5 * ",");\n    height: calc("," - 2 * ",");\n  "])),i["border-width"],i["border-color"],r,i["border-width"],o.spacing,r,i["border-width"])}));sn.defaultProps=C.ns;var cn=(0,f.forwardRef)((function(n,e){var o=n.value,t=n.readOnly,i=n.disabled,r=n.status,l=n.actions,s=n.onChange,d=n.onResolveSuggestion,f=n.selected,v=n.visual,m=(0,c.Z)(n,an);return(0,u.jsxs)(w.Z,(0,a.Z)((0,a.Z)({as:ln,forwardedAs:Q._,hasSuggestion:"pending"===r&&!!d,container:{alignItems:"center",wrap:"nowrap"}},{disabled:i,status:r,readOnly:t}),{},{children:[v&&(0,u.jsx)(w.Z,{container:{justify:"center",alignItems:"center"},as:sn,children:v}),(0,u.jsx)("input",(0,a.Z)((0,a.Z)({},{ref:e,disabled:i,status:r,readOnly:t}),{},{size:1,value:o||(null===f||void 0===f?void 0:f.text)||"",onChange:s||function(){},readOnly:t||!s,autoComplete:"off"},m)),l]}))})),dn=o(75528),un=["value","mode","selected","visual","onRemove","onSelectedFocus","onSelectedBlur","pauseDescendantEvaluation"],fn=(0,f.forwardRef)((function(n,e){var o=n.value,t=n.mode,i=n.selected,r=n.visual,l=n.onRemove,s=n.onSelectedFocus,d=n.onSelectedBlur,f=n.pauseDescendantEvaluation,v=(0,c.Z)(n,un);return"multi-select"===t?(0,u.jsx)(dn.Z,(0,a.Z)((0,a.Z)({selected:i,value:o},{ref:e,onRemove:l,onSelectedBlur:d,onSelectedFocus:s,pauseDescendantEvaluation:f}),v)):(0,u.jsx)(cn,(0,a.Z)({ref:e,selected:i,value:o,visual:r},v))})),vn=o(18173),mn=o(97796),hn=(0,vn.Z)("combo-box",["control"].concat((0,l.Z)(mn.R))),gn=["testId","additionalInfo","value","required","id","label","labelHidden","info","status","readOnly","disabled","mode","selected","onChange","actions","onFocus","onBlur","onResolveSuggestion","onDropdownButtonClick","onClick","onKeyDown","menu"];(0,N.q5)(T,K);var pn,Zn,bn,xn=$.Z&&navigator.userAgent.includes("Mobile"),wn=(0,f.forwardRef)((function(n,e){var o=(0,L.Z)(),t=n.testId,i=n.additionalInfo,r=n.value,l=n.required,d=n.id,v=void 0===d?o:d,m=n.label,h=n.labelHidden,p=n.info,x=n.status,w=n.readOnly,j=n.disabled,k=n.mode,y=void 0===k?"single-select":k,C=n.selected,R=n.onChange,S=n.actions,D=n.onFocus,P=n.onBlur,_=n.onResolveSuggestion,A=n.onDropdownButtonClick,I=n.onClick,E=n.onKeyDown,F=n.menu,z=(0,c.Z)(n,gn),B=(0,H.Z)(t,hn),O=(0,f.useState)(!0),q=(0,s.Z)(O,2),M=q[0],T=q[1],K=(0,f.useState)(!1),$=(0,s.Z)(K,2),nn=$[0],an=$[1],ln=(0,Z.Z)(),sn="".concat(v,"-list"),cn=(0,f.useRef)(null),dn=(0,f.useState)(!1),un=(0,s.Z)(dn,2),vn=un[0],mn=un[1],pn=(0,f.useRef)(null),Zn="".concat(v,"-listbox"),bn=(0,V.Z)().start,wn=(0,G.Z)(),jn=(0,s.Z)(wn,2)[1],kn=(0,U.Z)(e,jn),yn=(0,f.useCallback)((function(n){T(!n),an(n)}),[]),Cn=(0,f.useCallback)((function(n){an(!n),T(n)}),[]),Rn=(0,X.Z)([kn],(function(n){n?(null===D||void 0===D||D(null===C||void 0===C?void 0:C.items),xn&&setTimeout((function(){var n;null===(n=kn.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start"})}),150)):(mn(!1),yn(!1),null===P||void 0===P||P(null===C||void 0===C?void 0:C.items))}));(0,Y.Z)((function(n){n.preventDefault(),vn&&(n.stopPropagation(),mn(!1),yn(!1))}),kn,[vn,yn]);var Sn=(0,f.useCallback)((function(n){if(F&&!w&&!1!==(null===E||void 0===E?void 0:E(n)))switch(n.key){case"ArrowUp":n.altKey&&(n.preventDefault(),vn&&(mn(!1),yn(!1)));break;case"ArrowDown":n.preventDefault(),vn||(mn(!0),yn(!0));break;case"Tab":mn(!1),yn(!1)}}),[vn,w,F,r,E]),Dn=(0,f.useCallback)((function(){null===A||void 0===A||A(!vn),mn(!vn)}),[vn,A]),Pn=(0,f.useMemo)((function(){var n;return!(null!==F&&void 0!==F&&null!==(n=F.items)&&void 0!==n&&n.length||A)&&R||w?null:(0,u.jsx)(b.ZP,{"aria-label":ln(vn?"combobox_close_list_button_a11y":"combobox_open_list_button_a11y"),icon:!0,variant:"simple",onClick:Dn,onMouseDown:function(n){var e;n.preventDefault(),null===(e=cn.current)||void 0===e||e.focus()},disabled:j,tabIndex:"-1",children:(0,u.jsx)(N.ZP,{name:vn?"caret-up":"caret-down"})})}),[Dn,R,w,vn,j]),_n=(0,f.useMemo)((function(){var n="".concat(v,"-inputDescription");return p&&(n=n.concat(" ".concat(v,"-info"))),R&&(n=n.concat(" ".concat(v,"-searchDescription"))),"multi-select"===y&&(n=n.concat(" ".concat(v,"-multiselectDescription"))),n}),[p,v,y,R]),An=(0,f.useCallback)((function(n){w||(mn(!0),yn(!0),null===I||void 0===I||I(n))}),[w,I]);(0,f.useEffect)((function(){Rn&&F&&r&&r.length>0&&(mn(!0),yn(!0))}),[F,r,Rn]);var In=(0,u.jsxs)(u.Fragment,{children:[Pn,S]}),En=(0,u.jsxs)(rn.v,{ref:kn,as:Q._,id:"".concat(v,"-combobox"),role:"combobox","aria-haspopup":"listbox","aria-expanded":!w&&!j&&vn,"aria-owns":vn&&void 0!==F&&!M?sn:void 0,children:[(0,u.jsx)(fn,(0,a.Z)((0,a.Z)({"data-testid":B.control,ref:cn,role:"searchbox","aria-autocomplete":"list","aria-controls":vn&&void 0!==F&&!M?sn:void 0,"aria-describedby":_n,selected:null===C||void 0===C?void 0:C.items,spellCheck:!1},{id:v,readOnly:w,disabled:j,onChange:R,value:r,mode:y,status:x,onResolveSuggestion:_}),{},{actions:In,onRemove:null===C||void 0===C?void 0:C.onRemove,onClick:An,onKeyDown:Sn,required:l,pauseDescendantEvaluation:nn,onSelectedFocus:function(){Cn(!0)},onSelectedBlur:function(){Cn(!1)}},z)),(0,u.jsx)(g.Z,{show:vn&&void 0!==F,target:kn.current,placement:"bottom-start",modifiers:[on.k],strategy:"fixed",onMouseDown:function(n){return n.preventDefault()},children:F&&(0,u.jsx)(W.Z,(0,a.Z)((0,a.Z)({ref:pn,listId:sn,id:Zn,role:"listbox",mode:y},F),{},{items:F.items,focusControlEl:cn.current||void 0,onItemClick:function(n,e){var o;"single-select"===y&&(mn(!1),yn(!0)),null===(o=F.onItemClick)||void 0===o||o.call(F,n,e);var t,i=en.Z.getItem(F.items,n);null===i||void 0===i||!i.primary||null!==i&&void 0!==i&&i.selected||(null===C||void 0===C||null===(t=C.onNew)||void 0===t||t.call(C,null===i||void 0===i?void 0:i.primary))},"aria-label":ln("menu_option_list"),pauseDescendantEvaluation:M,arrowNavigationUnsupported:!0}))})]});return(0,u.jsxs)(u.Fragment,{children:[m?(0,u.jsx)(J.ZP,(0,a.Z)((0,a.Z)({},{testId:B,label:m,labelHidden:h,id:v,info:p,status:x,required:l,disabled:j,onResolveSuggestion:_,additionalInfo:i}),{},{children:En})):En,(0,u.jsx)(tn.Z,{id:"".concat(v,"-inputDescription"),"aria-hidden":!0,children:"".concat(ln("combobox_open_close")," ")}),(0,u.jsx)(tn.Z,{id:"".concat(v,"-searchDescription"),"aria-hidden":!0,children:ln("combobox_search_instructions")}),(0,u.jsx)(tn.Z,{id:"".concat(v,"-multiselectDescription"),"aria-hidden":!0,children:ln("multiselect_instructions",[bn])})]})})),jn=(0,nn.Z)(wn,hn),kn=o(28682),yn=o(34798),Cn=o(70817),Rn=o(16196),Sn=function(n){var e=n.roles,o=n.currentRole,t=n.renderer,i=n.rendererProps,r=n.setSelectedRoleNameRef,l=(0,f.useRef)(null),c=(0,Z.Z)(),d=(0,f.useState)((function(){var n;if(e)return null===(n=o?e.find((function(n){return n.name===o.name})):e[0])||void 0===n?void 0:n.name})),v=(0,s.Z)(d,2),m=v[0],h=v[1],g=null;if(e){var p=c("stakeholders_role");if(e.length>3){var b=e.map((function(n){return{id:n.name,primary:n.name,selected:n.name===m}})),x=b.find((function(n){return n.selected}));g=(0,u.jsx)(jn,{label:p,selected:x?{items:{id:x.id,text:x.primary}}:void 0,menu:{mode:"single-select",items:b,onItemClick:h}})}else g=(0,u.jsx)(kn.Z,{label:p,name:"role",inline:!0,onChange:function(n){h(n.target.value)},children:e.map((function(n){return(0,u.jsx)(yn.Z,{label:n.name,value:n.name,checked:n.name===m},n.name)}))})}else o&&(g=(0,u.jsx)(Cn.Z,{readOnly:!0,label:c("stakeholders_role"),value:o.name,info:o.description}));return(0,f.useEffect)((function(){var n;null===(n=(0,Rn.Z)(l)[0])||void 0===n||n.focus()}),[]),(0,f.useEffect)((function(){e&&r(m)}),[m]),(0,u.jsxs)(w.Z,{container:{direction:"column",gap:2},ref:l,children:[g,(0,u.jsx)(t,(0,a.Z)((0,a.Z)({},i),{},{selectedRoleName:m}))]})},Dn=["items","count","loading","onAddNew","form","onViewAll","viewAll","error"],Pn=["onEdit","onRemove"],_n=(0,v.ZP)(h.ZP)(pn||(pn=(0,d.Z)([""]))),An=v.ZP.div(Zn||(Zn=(0,d.Z)(["\n  position: relative;\n  min-height: 8rem;\n\n  &[aria-busy='true'] > :nth-child(2) {\n    visibility: hidden;\n  }\n"]))),In=(0,v.ZP)(g.Z)(bn||(bn=(0,d.Z)(["\n  width: 40ch;\n  min-height: 12rem;\n"]))),En=(0,f.forwardRef)((function(n,e){var o=n.items,t=n.count,i=n.loading,r=n.onAddNew,d=n.form,v=n.onViewAll,h=n.viewAll,g=n.error,x=(0,c.Z)(n,Dn),j=(0,p.Z)().create,k=(0,Z.Z)(),y=(0,f.useRef)(),C=(0,f.useState)(),S=(0,s.Z)(C,2),D=S[0],P=S[1],_=(0,f.useState)(!1),A=(0,s.Z)(_,2),I=A[0],E=A[1],F=(0,f.useState)(""),N=(0,s.Z)(F,2),T=N[0],K=N[1],L=(0,f.useRef)(null),H=(0,f.useRef)(k("loading")),V=(0,f.useRef)(),G=(0,f.useCallback)((function(n){V.current=n}),[]),U=(0,f.useState)(null),X=(0,s.Z)(U,2),Y=X[0],J=X[1],Q=(0,f.useRef)({itemEls:[],viewAllItemEls:[]}),W=function(n){return n.map((function(n,e){var o=n.onEdit,t=n.onRemove,i=(0,c.Z)(n,Pn),r=[],s=Q.current["viewAll"===D?"viewAllItemEls":"itemEls"];return o&&(r=[{id:"edit",text:k("edit"),icon:"pencil",onClick:function(){E(!0),J({portal:s[e],button:s[e].querySelector('button[aria-haspopup="menu"]')}),null===o||void 0===o||o()}}]),t&&(r=[].concat((0,l.Z)(r),[{id:"remove",text:k("remove"),icon:"trash",onClick:function(){null===t||void 0===t||t()}}])),(0,a.Z)((0,a.Z)({},i),{},{ref:function(n){s[e]=n},actions:r})}))},$=function(){var n;!Y||d.loading&&H.current===k("submitting")||(null===(n=Y.button)||void 0===n||n.focus(),J(null),E(!1),H.current=k("loading"))},nn=null;"add"!==D&&!I||d.loading&&H.current!==k("submitting")||(nn=(0,u.jsx)(Sn,{roles:d.roles,currentRole:d.currentRole,renderer:d.renderer,rendererProps:d.rendererProps,setSelectedRoleNameRef:G}));var en=null;if(("add"===D||I)&&(!d.loading||H.current===k("submitting"))){var on=function(){var n;"add"===D?null===(n=y.current)||void 0===n||n.dismiss():$()};en=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b.ZP,{disabled:d.loading,onClick:function(){d.onDismiss({closeForm:on})},children:k("cancel")}),(0,u.jsx)(b.ZP,{disabled:d.loading,type:"submit",variant:"primary",onClick:function(){H.current=k("submitting"),d.onSubmit({selectedRoleName:V.current,closeForm:on})},children:k("submit")})]})}var tn=null;"add"===D&&(tn=nn),!h.loading&&("viewAll"===D||I&&y.current)&&(tn=(0,u.jsx)(z,{items:W(h.items),actions:[{id:"addStakeHolder",text:"Add new",onClick:function(){P("add"),null===r||void 0===r||r()}}],searchInputProps:h.onSearch?{value:T,onSearchChange:function(n){var e;K(n),null===h||void 0===h||null===(e=h.onSearch)||void 0===e||e.call(h,n)}}:void 0})),(0,f.useEffect)((function(){if(D){var n={progress:"add"===D&&d.loading||h.loading?{message:H.current}:void 0,count:"viewAll"===D?t:void 0,children:tn,actions:"add"===D?en:void 0,onRequestDismiss:d.loading&&H.current===k("submitting")?function(){return!1}:void 0};y.current?y.current.update(n):"add"!==D&&"viewAll"!==D||(y.current=j(B.Z,(0,a.Z)((0,a.Z)({},n),{},{heading:k("add"===D?"add_stakeholders":"view_stakeholders"),onAfterClose:function(){var n,e;"add"===D?null===(n=d.onAfterClose)||void 0===n||n.call(d):(K(""),null===(e=h.onAfterClose)||void 0===e||e.call(h));H.current=k("loading"),P(void 0)}})))}else y.current=void 0}),[D,tn,d.loading,en,t,h.loading]),(0,O.Z)("mousedown",[L],$);var rn=null;Y&&(rn=(0,u.jsx)(In,{ref:L,target:Y.button,placement:"auto",role:"dialog",children:(0,u.jsxs)(w.Z,{container:{direction:"column",gap:2,pad:2},children:[(0,u.jsx)(q.Z,{variant:"h3",children:k("edit_stakeholder")}),(0,u.jsxs)(An,{"aria-busy":d.loading?"true":"false",children:[(0,u.jsx)(R.Z,{placement:"local",visible:d.loading,message:H.current}),(!d.loading||H.current===k("submitting"))&&(0,u.jsx)(Sn,{roles:d.roles,currentRole:d.currentRole,renderer:d.renderer,rendererProps:d.rendererProps,setSelectedRoleNameRef:G})]}),en&&(0,u.jsx)(w.Z,{container:{justify:"between"},children:en})]})}));var an=function(n){"Escape"===n.key&&$()};return(0,f.useEffect)((function(){if(Y)return document.addEventListener("keydown",an),function(){document.removeEventListener("keydown",an)}}),[Y]),(0,M.Z)((function(){var n;Y||null===(n=d.onAfterClose)||void 0===n||n.call(d)}),[Y]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(_n,(0,a.Z)((0,a.Z)({},x),{},{ref:e,icon:"person",name:k("view_stakeholders"),headingTag:"h3",loading:i,count:t,error:g,items:(0,f.useMemo)((function(){return W(o.slice(0,3))}),[W,o]),actions:r?[{text:k("add"),id:"add_new",icon:"plus",onClick:function(){P("add"),null===r||void 0===r||r()}}]:void 0,onViewAll:v&&t&&t>3?function(){P("viewAll"),null===v||void 0===v||v()}:void 0})),Y&&(0,m.createPortal)(rn,Y.portal)]})}))}}]);
//# sourceMappingURL=64654.881244cc.chunk.js.map